<html>
<head>
<meta http-equiv='content-type' content='text/html; charset=utf8'>
<style>
<!--
body {width:auto;padding:5;margin:5;}
.error {font-weight:bold;color:#f00;font-style:italic;}
.word1,.word2,.word3 {color: #009; border-left: 1px solid #CDF; border-bottom: 1px solid #CDF;}
.word2 {font-weight: 700;}
.word3 {font-style: italic;}
.command {color: #c00;}
.exclcommand {color: #f99;}
.option {color: #cc0;}
.grouping, .document {color: #900; font-weight:bold;}
.mathgroup {color: #090;}
.exclmath {color: #6c6;}
.ignore {color: #999;}
.exclgroup {color:#c66;}
.tc {color: #999; font-weight:bold;}
.comment {color: #999; font-style: italic;}
.state {color: #990; font-size: 70%;}
.cumsum {color: #999; font-size: 80%;}
.fileinclude {color: #696; font-weight:bold;}
.warning {color: #c00; font-weight: 700;}

div.filegroup, div.parse, div.stylehelp, div.count, div.sumcount, div.error {
   border: solid 1px #999; margin: 4pt 0pt; padding: 4pt;
}
div.stylehelp {font-size: 80%; background: #fffff0; margin-bottom: 16pt;}
div.filegroup {background: #dfd; margin-bottom: 16pt;}
div.count {background: #ffe;}
div.sumcount {background: #cec;}
div.error {background: #fcc;}
.parse {font-size: 80%; background: #f8fff8; border-bottom:none;}

ul.count {list-style-type: none; margin: 4pt 0pt; padding: 0pt;}
.count li.header {font-weight: bold; font-style: italic;}
.subcount li.header {font-weight: normal; font-style: italic;}
.subcount li {margin-left: 16pt; font-size: 80%;}
.fielddesc {font-style: italic;}
.nb {color: #900;}

table.stat {border:2px solid #339; background:#666; border-collapse:collapse;}
table.stat tr {border:1px solid #CCC;}
table.stat th, table.stat td {padding:1pt 4pt;}
table.stat col {padding:4pt;}
table.stat thead {background: #CCF;}
table.stat tbody {border:1px solid #333;}
table.stat tbody.sumstat {background:#FFC;}
table.stat tbody.langstat {background:#FEE;}
table.stat tbody.wordstat {background:#EEF;}
table.stat .sum {font-weight:bold; font-style:italic;}
-->
</style>
</head>

<body>

<h1>LaTeX word count</h1>
<div class='stylehelp'><p><h2>Format/colour codes of verbose output:</h2>

<span class='word1'>Text which is counted</span>&nbsp;&nbsp;....&nbsp;&nbsp;counted as text words<br>
<span class='word2'>Header and title text</span>&nbsp;&nbsp;....&nbsp;&nbsp;counted as header words<br>
<span class='word3'>Caption text and footnotes</span>&nbsp;&nbsp;....&nbsp;&nbsp;counted as caption words<br>
<span class='ignore'>Ignored text or code</span>&nbsp;&nbsp;....&nbsp;&nbsp;excluded or ignored<br>
<span class='document'>\documentclass</span>&nbsp;&nbsp;....&nbsp;&nbsp;document start, beginning of preamble<br>
<span class='command'>\macro</span>&nbsp;&nbsp;....&nbsp;&nbsp;macro not counted, but parameters may be<br>
<span class='exclcommand'>\macro</span>&nbsp;&nbsp;....&nbsp;&nbsp;macro in excluded region<br>
<span class='option'>[Macro options]</span>&nbsp;&nbsp;....&nbsp;&nbsp;not counted<br>
<span class='grouping'>\begin{group}&nbsp; \end{group}</span>&nbsp;&nbsp;....&nbsp;&nbsp;begin/end group<br>
<span class='exclgroup'>\begin{group}&nbsp; \end{group}</span>&nbsp;&nbsp;....&nbsp;&nbsp;begin/end group in excluded region<br>
<span class='mathgroup'>$&nbsp; $</span>&nbsp;&nbsp;....&nbsp;&nbsp;counted as one equation<br>
<span class='exclmath'>$&nbsp; $</span>&nbsp;&nbsp;....&nbsp;&nbsp;equation in excluded region<br>
<span class='comment'>% Comments</span>&nbsp;&nbsp;....&nbsp;&nbsp;not counted<br>
<span class='tc'>%TC:TeXcount instructions</span>&nbsp;&nbsp;....&nbsp;&nbsp;not counted<br>
<span class='fileinclude'>File to include</span>&nbsp;&nbsp;....&nbsp;&nbsp;not counted but file may be counted later<br>
<span class='error'>ERROR</span>&nbsp;&nbsp;....&nbsp;&nbsp;TeXcount error message<br>
</p></div>


<div class='filegroup'>
<h2>File: Report.tex</h2>
<div class='parse'><p>
<span class='comment'>%% ----------------------------------------------------------------</span><br>
<span class='comment'>%% Report.tex</span><br>
<span class='comment'>%% ---------------------------------------------------------------- </span><br>
<span class='tc'>%TC:macro \inote 1</span><br>
<span class='document'>\documentclass</span><span class='ignore'>{ecsproject}</span>      <span class='comment'>% Use the Report Style</span><br>
<span class='exclcommand'>\graphicspath</span><span class='ignore'>{</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>}</span><span class='ignore'>}</span>&nbsp;  <span class='comment'>% Location of your graphics files</span><br>
<span class='document'>\usepackage</span><span class='document'>{natbib}</span>            <span class='comment'>% Use Natbib style for the refs.</span><br>
<span class='document'>\usepackage</span><span class='option'>[nodayofweek]</span><span class='document'>{datetime}</span><br>
<span class='comment'>%\usepackage{todonotes}</span><br>
<span class='document'>\usepackage</span><span class='document'>{longtable}</span><br>
<span class='document'>\usepackage</span><span class='document'>{multirow}</span><br>
<span class='document'>\usepackage</span><span class='document'>{color}</span><br>
<span class='document'>\usepackage</span><span class='document'>{booktabs}</span><br>
<span class='command'>\newcommand</span><span class='ignore'>{</span><span class='ignore'>\inote</span><span class='ignore'>}</span><span class='option'>[1]</span> <span class='ignore'>{</span><span class='ignore'>\todo</span><span class='ignore'>[</span><span class='ignore'>inline</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>#</span><span class='ignore'>1</span><span class='ignore'>}</span><span class='ignore'>}</span><br>
<span class='command'>\newcommand</span><span class='ignore'>{</span><span class='ignore'>\itc</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='exclmath'>$</span><span class='ignore'>I</span><span class='ignore'>^</span><span class='ignore'>{2}C</span><span class='exclmath'>$</span> <span class='ignore'>}</span><br>
<span class='document'>\usepackage</span><span class='option'>[disable]</span><span class='document'>{todonotes}</span><br>
<span class='document'>\usepackage</span><span class='option'>[intoc]</span><span class='document'>{nomencl}</span><br>
<span class='document'>\usepackage</span><span class='document'>{pdfpages}</span><br>
<span class='document'>\usepackage</span><span class='document'>{rotating}</span><br>
<span class='document'>\usepackage</span><span class='document'>{float}</span><br>
<span class='exclcommand'>\removecolourlinks</span><br>
<span class='exclcommand'>\makenomenclature</span><br>
<span class='command'>\renewcommand</span><span class='ignore'>{</span><span class='ignore'>\nomname</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>List</span> <span class='ignore'>of</span> <span class='ignore'>Abbreviations</span><span class='ignore'>}</span><br>
<span class='comment'>%\hypersetup{colorlinks=false}&nbsp;  % Set to false for black/white printing</span><br>
<span class='exclcommand'>\input</span><span class='ignore'>{Definitions}</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class='comment'>% Include your abbreviations</span><br>
<br>
<span class='comment'>%% ----------------------------------------------------------------</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{document}</span><br>
<span class='tc'>%TC:ignore</span><br>
<span class='ignore'>\frontmatter</span><br>
<span class='ignore'>\title</span><span class='ignore'>&nbsp; &nbsp; &nbsp; </span><span class='ignore'>{</span><span class='ignore'>A</span><span class='ignore'> </span><span class='ignore'>Stereoscopic</span><span class='ignore'> </span><span class='ignore'>Vision</span><span class='ignore'> </span><span class='ignore'>Robot</span><span class='ignore'>}</span><br>
<span class='ignore'>\authors</span><span class='ignore'>&nbsp; &nbsp; </span><span class='ignore'>{</span><span class='ignore'>\texorpdfstring</span><br>
<span class='ignore'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  </span><span class='ignore'>{</span><span class='ignore'>\href</span><span class='ignore'>{</span><span class='ignore'>mailto</span><span class='ignore'>:</span><span class='ignore'>hl13g10</span><span class='ignore'>@</span><span class='ignore'>ecs.soton.ac.uk</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>Henry</span><span class='ignore'> </span><span class='ignore'>S</span><span class='ignore'>.</span><span class='ignore'> </span><span class='ignore'>Lovett</span><span class='ignore'>}</span><span class='ignore'>}</span><br>
<span class='ignore'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  </span><span class='ignore'>{</span><span class='ignore'>Henry</span><span class='ignore'> </span><span class='ignore'>S</span><span class='ignore'>.</span><span class='ignore'> </span><span class='ignore'>Lovett</span><span class='ignore'>}</span><br>
<span class='ignore'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class='ignore'>}</span><br>
<span class='ignore'>\department</span><span class='ignore'>&nbsp; </span><span class='ignore'>{</span><span class='ignore'>Electronics</span><span class='ignore'> </span><span class='ignore'>and</span><span class='ignore'> </span><span class='ignore'>Computer</span><span class='ignore'> </span><span class='ignore'>Science</span><span class='ignore'>}</span><br>
<span class='ignore'>\group</span><span class='ignore'>&nbsp; &nbsp; &nbsp;  </span><span class='ignore'>{</span><span class='ignore'>Electronic</span><span class='ignore'> </span><span class='ignore'>and</span><span class='ignore'> </span><span class='ignore'>Software</span><span class='ignore'> </span><span class='ignore'>Systems</span><span class='ignore'>}</span><br>
<span class='ignore'>\faculty</span><span class='ignore'>{</span><span class='ignore'>Faculty</span><span class='ignore'> </span><span class='ignore'>of</span><span class='ignore'> </span><span class='ignore'>Physical</span><span class='ignore'> </span><span class='ignore'>Sciences</span><span class='ignore'> </span><span class='ignore'>and</span><span class='ignore'> </span><span class='ignore'>Engineering</span><span class='ignore'>}</span><br>
<span class='ignore'>\addresses</span><span class='ignore'>&nbsp; </span><span class='ignore'>{</span><span class='ignore'>\groupname</span><span class='ignore'>\\</span><span class='ignore'>\deptname</span><span class='ignore'>\\</span><span class='ignore'>\univname</span><span class='ignore'>}</span><br>
<span class='ignore'>\date</span><span class='ignore'>&nbsp; &nbsp; &nbsp;  </span><span class='ignore'>{</span><span class='ignore'>\today</span><span class='ignore'>}</span><br>
<span class='ignore'>\subject</span><span class='ignore'>&nbsp; &nbsp; </span><span class='ignore'>{</span><span class='ignore'>}</span><br>
<span class='ignore'>\keywords</span><span class='ignore'>&nbsp;  </span><span class='ignore'>{</span><span class='ignore'>}</span><br>
<span class='ignore'>\supervisor</span><span class='ignore'> </span><span class='ignore'>{</span><span class='ignore'>Prof</span><span class='ignore'>.</span><span class='ignore'> </span><span class='ignore'>Steve</span><span class='ignore'> </span><span class='ignore'>Gunn</span><span class='ignore'>}</span><br>
<span class='ignore'>\examiner</span><span class='ignore'>&nbsp;  </span><span class='ignore'>{</span><span class='ignore'>Prof</span><span class='ignore'>.</span><span class='ignore'> </span><span class='ignore'>Mark</span><span class='ignore'> </span><span class='ignore'>Zwolinski</span><span class='ignore'>}</span><br>
<span class='ignore'>\degree</span><span class='ignore'>&nbsp; &nbsp;  </span><span class='ignore'>{</span><span class='ignore'>MEng</span><span class='ignore'> </span><span class='ignore'>Electronic</span><span class='ignore'> </span><span class='ignore'>Engineering</span><span class='ignore'>}</span><br>
<span class='ignore'>\maketitle</span><br>
<span class='ignore'>\inote</span><span class='ignore'>{</span><span class='ignore'>Turn</span><span class='ignore'> </span><span class='ignore'>off</span><span class='ignore'> </span><span class='ignore'>iNotes</span><span class='ignore'>!</span><span class='ignore'>}</span><br>
<br>
<span class='ignore'>\begin</span><span class='ignore'>{abstract}</span><br>
<span class='ignore'>\inote</span><span class='ignore'>{</span><span class='ignore'>I</span><span class='ignore'> </span><span class='ignore'>don't</span><span class='ignore'> </span><span class='ignore'>like</span><span class='ignore'> </span><span class='ignore'>this</span><span class='ignore'>.</span><span class='ignore'> </span><span class='ignore'>Consider</span><span class='ignore'> </span><span class='ignore'>changing</span><span class='ignore'>.</span><span class='ignore'>.</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='ignore'>This</span><span class='ignore'> </span><span class='ignore'>report</span><span class='ignore'> </span><span class='ignore'>describes</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>research</span><span class='ignore'>,</span><span class='ignore'> </span><span class='ignore'>design</span><span class='ignore'>,</span><span class='ignore'> </span><span class='ignore'>build</span><span class='ignore'> </span><span class='ignore'>and</span><span class='ignore'> </span><span class='ignore'>test</span><span class='ignore'> </span><span class='ignore'>of</span><span class='ignore'> </span><span class='ignore'>a</span><span class='ignore'> </span><span class='ignore'>stereoscopic</span><span class='ignore'> </span><span class='ignore'>vision</span><span class='ignore'> </span><span class='ignore'>robot</span><span class='ignore'> </span><span class='ignore'>using</span><span class='ignore'> </span><span class='ignore'>two</span><span class='ignore'> </span><span class='ignore'>cameras</span><span class='ignore'> </span><span class='ignore'>and</span><span class='ignore'> </span><span class='ignore'>an</span><span class='ignore'> </span><span class='ignore'>Atmel</span><span class='ignore'> </span><span class='ignore'>microcontroller</span><span class='ignore'>.</span><span class='ignore'> </span><span class='ignore'>A</span><span class='ignore'> </span><span class='ignore'>custom</span><span class='ignore'> </span><span class='ignore'>PCB</span><span class='ignore'> </span><span class='ignore'>was</span><span class='ignore'> </span><span class='ignore'>designed</span><span class='ignore'> </span><span class='ignore'>to</span><span class='ignore'> </span><span class='ignore'>fit</span><span class='ignore'> </span><span class='ignore'>a</span><span class='ignore'> </span><span class='ignore'>wheeled</span><span class='ignore'> </span><span class='ignore'>base</span><span class='ignore'>.</span><span class='ignore'> </span><br>
<br>
<span class='ignore'>The</span><span class='ignore'> </span><span class='ignore'>report</span><span class='ignore'> </span><span class='ignore'>is</span><span class='ignore'> </span><span class='ignore'>in</span><span class='ignore'> </span><span class='ignore'>two</span><span class='ignore'> </span><span class='ignore'>main</span><span class='ignore'> </span><span class='ignore'>parts</span><span class='ignore'>,</span><span class='ignore'> </span><span class='ignore'>hardware</span><span class='ignore'> </span><span class='ignore'>design</span><span class='ignore'> </span><span class='ignore'>and</span><span class='ignore'> </span><span class='ignore'>vision</span><span class='ignore'> </span><span class='ignore'>algorithms</span><span class='ignore'>.</span><span class='ignore'> </span><span class='ignore'>The</span><span class='ignore'> </span><span class='ignore'>hardware</span><span class='ignore'> </span><span class='ignore'>design</span><span class='ignore'> </span><span class='ignore'>section</span><span class='ignore'> </span><span class='ignore'>describes</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>prototypes</span><span class='ignore'> </span><span class='ignore'>and</span><span class='ignore'> </span><span class='ignore'>design</span><span class='ignore'> </span><span class='ignore'>of</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>subsystems</span><span class='ignore'>.</span><br>
<span class='ignore'>The</span><span class='ignore'> </span><span class='ignore'>vision</span><span class='ignore'> </span><span class='ignore'>algorithms</span><span class='ignore'> </span><span class='ignore'>section</span><span class='ignore'> </span><span class='ignore'>discusses</span><span class='ignore'> </span><span class='ignore'>range</span><span class='ignore'> </span><span class='ignore'>finding</span><span class='ignore'> </span><span class='ignore'>from</span><span class='ignore'> </span><span class='ignore'>stereo</span><span class='ignore'> </span><span class='ignore'>images</span><span class='ignore'>,</span><span class='ignore'> </span><span class='ignore'>comparison</span><span class='ignore'> </span><span class='ignore'>algorithms</span><span class='ignore'> </span><span class='ignore'>between</span><span class='ignore'> </span><span class='ignore'>stereo</span><span class='ignore'> </span><span class='ignore'>pairs</span><span class='ignore'>,</span><span class='ignore'> </span><span class='ignore'>and</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>implementation</span><span class='ignore'> </span><span class='ignore'>and</span><span class='ignore'> </span><span class='ignore'>test</span><span class='ignore'> </span><span class='ignore'>of</span><span class='ignore'> </span><span class='ignore'>a</span><span class='ignore'> </span><span class='ignore'>two</span><span class='ignore'> </span><span class='ignore'>dimensional</span><span class='ignore'> </span><span class='ignore'>fast</span><span class='ignore'> </span><span class='ignore'>Fourier</span><span class='ignore'> </span><span class='ignore'>transform</span><span class='ignore'> </span><span class='ignore'>on</span><span class='ignore'> </span><span class='ignore'>an</span><span class='ignore'> </span><span class='ignore'>AVR</span><span class='ignore'>.</span><span class='ignore'> </span><br>
<br>
<span class='ignore'>The</span><span class='ignore'> </span><span class='ignore'>final</span><span class='ignore'> </span><span class='ignore'>product</span><span class='ignore'> </span><span class='ignore'>is</span><span class='ignore'> </span><span class='ignore'>a</span><span class='ignore'> </span><span class='ignore'>small</span><span class='ignore'> </span><span class='ignore'>mobile</span><span class='ignore'> </span><span class='ignore'>robot</span><span class='ignore'> </span><span class='ignore'>equipped</span><span class='ignore'> </span><span class='ignore'>with</span><span class='ignore'> </span><span class='ignore'>cameras</span><span class='ignore'> </span><span class='ignore'>and</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>capability</span><span class='ignore'> </span><span class='ignore'>of</span><span class='ignore'> </span><span class='ignore'>image</span><span class='ignore'> </span><span class='ignore'>processing</span><span class='ignore'>.</span><span class='ignore'> </span><span class='ignore'>The</span><span class='ignore'> </span><span class='ignore'>device</span><span class='ignore'> </span><span class='ignore'>has</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>ability</span><span class='ignore'> </span><span class='ignore'>to</span><span class='ignore'> </span><span class='ignore'>execute</span><span class='ignore'> </span><span class='ignore'>a</span><span class='ignore'> </span><span class='ignore'>predefined</span><span class='ignore'> </span><span class='ignore'>set</span><span class='ignore'> </span><span class='ignore'>of</span><span class='ignore'> </span><span class='ignore'>commands</span><span class='ignore'> </span><span class='ignore'>in</span><span class='ignore'> </span><span class='ignore'>an</span><span class='ignore'> </span><span class='ignore'>automatic</span><span class='ignore'> </span><span class='ignore'>stand-alone</span><span class='ignore'> </span><span class='ignore'>way</span><span class='ignore'>.</span><span class='ignore'> </span><span class='ignore'>The</span><span class='ignore'> </span><span class='ignore'>robot</span><span class='ignore'> </span><span class='ignore'>can</span><span class='ignore'> </span><span class='ignore'>also</span><span class='ignore'> </span><span class='ignore'>be</span><span class='ignore'> </span><span class='ignore'>used</span><span class='ignore'> </span><span class='ignore'>as</span><span class='ignore'> </span><span class='ignore'>a</span><span class='ignore'> </span><span class='ignore'>shell</span><span class='ignore'> </span><span class='ignore'>terminal</span><span class='ignore'> </span><span class='ignore'>to</span><span class='ignore'> </span><span class='ignore'>debug</span><span class='ignore'> </span><span class='ignore'>and</span><span class='ignore'> </span><span class='ignore'>control</span><span class='ignore'>.</span><br>
<span class='ignore'>\end</span><span class='ignore'>{abstract}</span><br>
<br>
<span class='ignore'>%TC:ignore</span><br>
<span class='ignore'>\tableofcontents</span><br>
<span class='ignore'>\listoffigures</span><br>
<span class='ignore'>\listoftables</span><br>
<span class='ignore'>\lstlistoflistings</span><br>
<span class='ignore'>\clearpage</span><br>
<span class='ignore'>\markboth</span><span class='ignore'>{</span><span class='ignore'>\nomname</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>\nomname</span><span class='ignore'>}</span><br>
<span class='ignore'>\printnomenclature</span><span class='ignore'> </span><br>
<span class='ignore'>\cleardoublepage</span><br>
<span class='ignore'>\listofsymbols</span><span class='ignore'>{ll}</span><span class='ignore'>{</span><br>
<span class='ignore'>$</span><span class='ignore'>B</span><span class='ignore'>$</span><span class='ignore'>&nbsp; &nbsp; &nbsp; </span><span class='ignore'>&amp;</span><span class='ignore'>	</span><span class='ignore'>Separation</span><span class='ignore'> </span><span class='ignore'>distance</span><span class='ignore'> </span><span class='ignore'>of</span><span class='ignore'> </span><span class='ignore'>two</span><span class='ignore'> </span><span class='ignore'>cameras</span><span class='ignore'> </span><span class='ignore'>\\</span><br>
<span class='ignore'>$</span><span class='ignore'>C</span><span class='ignore'>_</span><span class='ignore'>b</span><span class='ignore'>$</span><span class='ignore'>&nbsp; &nbsp; 	</span><span class='ignore'>&amp;</span><span class='ignore'>	</span><span class='ignore'>$</span><span class='ignore'>2\pi r</span><span class='ignore'>_</span><span class='ignore'>b</span><span class='ignore'>$</span><span class='ignore'> </span><span class='ignore'>\\</span><br>
<span class='ignore'>$</span><span class='ignore'>C</span><span class='ignore'>_</span><span class='ignore'>w</span><span class='ignore'>$</span><span class='ignore'>&nbsp; &nbsp; 	</span><span class='ignore'>&amp;</span><span class='ignore'>	</span><span class='ignore'>Circumference</span><span class='ignore'> </span><span class='ignore'>of</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>wheel</span><span class='ignore'> </span><span class='ignore'>\\</span><br>
<span class='ignore'>$</span><span class='ignore'>D</span><span class='ignore'>$</span><span class='ignore'>&nbsp; &nbsp; &nbsp; </span><span class='ignore'>&amp;</span><span class='ignore'>	</span><span class='ignore'>Distance</span><span class='ignore'> </span><span class='ignore'>from</span><span class='ignore'> </span><span class='ignore'>camera</span><span class='ignore'> </span><span class='ignore'>to</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>object</span><span class='ignore'> </span><span class='ignore'>\\</span><br>
<span class='ignore'>$</span><span class='ignore'>i</span><span class='ignore'>,</span><span class='ignore'>j</span><span class='ignore'>$</span><span class='ignore'>&nbsp; &nbsp; &nbsp; 	</span><span class='ignore'>&amp;</span><span class='ignore'>	</span><span class='ignore'>Pixel</span><span class='ignore'> </span><span class='ignore'>index</span><span class='ignore'> </span><span class='ignore'>of</span><span class='ignore'> </span><span class='ignore'>an</span><span class='ignore'> </span><span class='ignore'>image</span><span class='ignore'>&nbsp; </span><span class='ignore'>\\</span><br>
<span class='ignore'>$</span><span class='ignore'>r</span><span class='ignore'>_</span><span class='ignore'>b</span><span class='ignore'>$</span><span class='ignore'>&nbsp; &nbsp; 	</span><span class='ignore'>&amp;</span><span class='ignore'>	</span><span class='ignore'>Distance</span><span class='ignore'> </span><span class='ignore'>from</span><span class='ignore'> </span><span class='ignore'>centre</span><span class='ignore'> </span><span class='ignore'>of</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>robot</span><span class='ignore'> </span><span class='ignore'>to</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>wheel</span><span class='ignore'> </span><span class='ignore'>\\</span><br>
<span class='ignore'>$</span><span class='ignore'>x</span><span class='ignore'>_</span><span class='ignore'>0</span><span class='ignore'>$</span><span class='ignore'>&nbsp; &nbsp; 	</span><span class='ignore'>&amp;</span><span class='ignore'>	</span><span class='ignore'>Horizontal</span><span class='ignore'> </span><span class='ignore'>resolution</span><span class='ignore'> </span><span class='ignore'>of</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>image</span><span class='ignore'> </span><span class='ignore'>\\</span><br>
<span class='ignore'>$</span><span class='ignore'>x</span><span class='ignore'>_</span><span class='ignore'>1</span><span class='ignore'>,</span><span class='ignore'> </span><span class='ignore'>x</span><span class='ignore'>_</span><span class='ignore'>2</span><span class='ignore'>$</span><span class='ignore'>&nbsp; &nbsp; </span><span class='ignore'>&amp;</span><span class='ignore'>	</span><span class='ignore'>Distance</span><span class='ignore'> </span><span class='ignore'>of</span><span class='ignore'> </span><span class='ignore'>object</span><span class='ignore'> </span><span class='ignore'>from</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>normal</span><span class='ignore'> </span><span class='ignore'>of</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>camera</span><span class='ignore'> </span><span class='ignore'>\\</span><br>
<span class='ignore'>$</span><span class='ignore'>\gamma</span><span class='ignore'>$</span><span class='ignore'>&nbsp; &nbsp; </span><span class='ignore'>&amp;</span><span class='ignore'>	</span><span class='ignore'>Number</span><span class='ignore'> </span><span class='ignore'>of</span><span class='ignore'> </span><span class='ignore'>tabs</span><span class='ignore'> </span><span class='ignore'>on</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>wheel</span><span class='ignore'> </span><span class='ignore'>\\</span><br>
<span class='ignore'>$</span><span class='ignore'>\Delta</span><span class='ignore'>_</span><span class='ignore'>\delta</span><span class='ignore'>$</span><span class='ignore'>&nbsp; 	</span><span class='ignore'>&amp;</span><span class='ignore'>	</span><span class='ignore'>Distance</span><span class='ignore'> </span><span class='ignore'>Resolution</span><span class='ignore'> </span><span class='ignore'>\\</span><br>
<span class='ignore'>$</span><span class='ignore'>\Delta</span><span class='ignore'>_</span><span class='ignore'>\Theta</span><span class='ignore'>$</span><span class='ignore'>&nbsp; 	</span><span class='ignore'>&amp;</span><span class='ignore'>	</span><span class='ignore'>Rotational</span><span class='ignore'> </span><span class='ignore'>Resolution</span><span class='ignore'> </span><span class='ignore'>\\</span><br>
<span class='ignore'>$</span><span class='ignore'>\delta</span><span class='ignore'>$</span><span class='ignore'>&nbsp; &nbsp; </span><span class='ignore'>&amp;</span><span class='ignore'>&nbsp; </span><span class='ignore'>Distance</span><span class='ignore'> </span><span class='ignore'>to</span><span class='ignore'> </span><span class='ignore'>move</span><span class='ignore'> </span><span class='ignore'>\\</span><br>
<span class='ignore'>$</span><span class='ignore'>\Theta</span><span class='ignore'>$</span><span class='ignore'>&nbsp; &nbsp; </span><span class='ignore'>&amp;</span><span class='ignore'>	</span><span class='ignore'>Angle</span><span class='ignore'> </span><span class='ignore'>of</span><span class='ignore'> </span><span class='ignore'>rotation</span><span class='ignore'> </span><span class='ignore'>\\</span><br>
<span class='ignore'>$</span><span class='ignore'>\sigma</span><span class='ignore'>$</span><span class='ignore'>&nbsp; &nbsp; </span><span class='ignore'>&amp;</span><span class='ignore'>	</span><span class='ignore'>Standard</span><span class='ignore'> </span><span class='ignore'>Deviation</span><span class='ignore'> </span><span class='ignore'>\\</span><br>
<span class='ignore'>$</span><span class='ignore'>\varphi_</span><span class='ignore'>0</span><span class='ignore'>$</span><span class='ignore'>&nbsp; &nbsp; </span><span class='ignore'>&amp;</span><span class='ignore'>	</span><span class='ignore'>Field</span><span class='ignore'> </span><span class='ignore'>of</span><span class='ignore'> </span><span class='ignore'>view</span><span class='ignore'> </span><span class='ignore'>of</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>camera</span><span class='ignore'> </span><span class='ignore'>\\</span><br>
<span class='ignore'>$</span><span class='ignore'>\varphi_</span><span class='ignore'>1</span><span class='ignore'>,</span><span class='ignore'> </span><span class='ignore'>\varphi_</span><span class='ignore'>2</span><span class='ignore'>$</span><span class='ignore'>	</span><span class='ignore'>&amp;</span><span class='ignore'>	</span><span class='ignore'>Angle</span><span class='ignore'> </span><span class='ignore'>from</span><span class='ignore'> </span><span class='ignore'>camera</span><span class='ignore'> </span><span class='ignore'>to</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>object</span><span class='ignore'> </span><span class='ignore'>\\</span><br>
<span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{CSV}</span><span class='ignore'>{</span><span class='ignore'>Comma</span><span class='ignore'> </span><span class='ignore'>Separated</span><span class='ignore'> </span><span class='ignore'>Value</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{DSP}</span><span class='ignore'>{</span><span class='ignore'>Digital</span><span class='ignore'> </span><span class='ignore'>Signal</span><span class='ignore'> </span><span class='ignore'>Processing</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{EBI}</span><span class='ignore'>{</span><span class='ignore'>External</span><span class='ignore'> </span><span class='ignore'>Bus</span><span class='ignore'> </span><span class='ignore'>Interface</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{USB}</span><span class='ignore'>{</span><span class='ignore'>Universal</span><span class='ignore'> </span><span class='ignore'>Serial</span><span class='ignore'> </span><span class='ignore'>Bus</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{PID}</span><span class='ignore'>{</span><span class='ignore'>Proportional</span><span class='ignore'> </span><span class='ignore'>Integral</span><span class='ignore'> </span><span class='ignore'>Derivative</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{ADC}</span><span class='ignore'>{</span><span class='ignore'>Analogue</span><span class='ignore'> </span><span class='ignore'>to</span><span class='ignore'> </span><span class='ignore'>Digital</span><span class='ignore'> </span><span class='ignore'>Converter</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{ASF}</span><span class='ignore'>{</span><span class='ignore'>Atmel</span><span class='ignore'> </span><span class='ignore'>Software</span><span class='ignore'> </span><span class='ignore'>Framework</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{DAC}</span><span class='ignore'>{</span><span class='ignore'>Digital</span><span class='ignore'> </span><span class='ignore'>to</span><span class='ignore'> </span><span class='ignore'>Analogue</span><span class='ignore'> </span><span class='ignore'>Converter</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{FFT}</span><span class='ignore'>{</span><span class='ignore'>Fast</span><span class='ignore'> </span><span class='ignore'>Fourier</span><span class='ignore'> </span><span class='ignore'>Transform</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{FIFO}</span><span class='ignore'>{</span><span class='ignore'>First</span><span class='ignore'> </span><span class='ignore'>In</span><span class='ignore'> </span><span class='ignore'>-</span><span class='ignore'> </span><span class='ignore'>First</span><span class='ignore'> </span><span class='ignore'>Out</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{FPU}</span><span class='ignore'>{</span><span class='ignore'>Floating</span><span class='ignore'> </span><span class='ignore'>Point</span><span class='ignore'> </span><span class='ignore'>Unit</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{GPIO}</span><span class='ignore'>{</span><span class='ignore'>General</span><span class='ignore'> </span><span class='ignore'>Purpose</span><span class='ignore'> </span><span class='ignore'>Input</span><span class='ignore'> </span><span class='ignore'>Output</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{ISR}</span><span class='ignore'>{</span><span class='ignore'>Interrupt</span><span class='ignore'> </span><span class='ignore'>Service</span><span class='ignore'> </span><span class='ignore'>Routine</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{</span><span class='ignore'>I</span><span class='ignore'>$</span><span class='ignore'>^</span><span class='ignore'>2</span><span class='ignore'>$</span><span class='ignore'>C</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>Inter-Integrated</span><span class='ignore'> </span><span class='ignore'>Circuit</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{kB}{Kilobytes}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{NCC}</span><span class='ignore'>{</span><span class='ignore'>Normalised</span><span class='ignore'> </span><span class='ignore'>Cross</span><span class='ignore'> </span><span class='ignore'>Correlation</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{PCB}</span><span class='ignore'>{</span><span class='ignore'>Printed</span><span class='ignore'> </span><span class='ignore'>Circuit</span><span class='ignore'> </span><span class='ignore'>Board</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{PWM}</span><span class='ignore'>{</span><span class='ignore'>Pulse</span><span class='ignore'> </span><span class='ignore'>Width</span><span class='ignore'> </span><span class='ignore'>Modulation</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{SAD}</span><span class='ignore'>{</span><span class='ignore'>Sum</span><span class='ignore'> </span><span class='ignore'>of</span><span class='ignore'> </span><span class='ignore'>Absolute</span><span class='ignore'> </span><span class='ignore'>Differences</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{SCCB}</span><span class='ignore'>{</span><span class='ignore'>Serial</span><span class='ignore'> </span><span class='ignore'>Camera</span><span class='ignore'> </span><span class='ignore'>Control</span><span class='ignore'> </span><span class='ignore'>Bus</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{SPI}</span><span class='ignore'>{</span><span class='ignore'>Serial</span><span class='ignore'> </span><span class='ignore'>Peripheral</span><span class='ignore'> </span><span class='ignore'>Interface</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{SSD}</span><span class='ignore'>{</span><span class='ignore'>Sum</span><span class='ignore'> </span><span class='ignore'>of</span><span class='ignore'> </span><span class='ignore'>Squared</span><span class='ignore'> </span><span class='ignore'>Differences</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{TWI}</span><span class='ignore'>{</span><span class='ignore'>Two</span><span class='ignore'> </span><span class='ignore'>Wire</span><span class='ignore'> </span><span class='ignore'>Interface</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{RISC}</span><span class='ignore'>{</span><span class='ignore'>Reduced</span><span class='ignore'> </span><span class='ignore'>Instruction</span><span class='ignore'> </span><span class='ignore'>Set</span><span class='ignore'> </span><span class='ignore'>Computer</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{EEPROM}</span><span class='ignore'>{</span><span class='ignore'>Electrically</span><span class='ignore'> </span><span class='ignore'>Erasable</span><span class='ignore'> </span><span class='ignore'>and</span><span class='ignore'> </span><span class='ignore'>Programmable</span><span class='ignore'> </span><span class='ignore'>Read</span><span class='ignore'> </span><span class='ignore'>Only</span><span class='ignore'> </span><span class='ignore'>Memory</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{SRAM}</span><span class='ignore'>{</span><span class='ignore'>Static</span><span class='ignore'> </span><span class='ignore'>Random-Access</span><span class='ignore'> </span><span class='ignore'>Memory</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{SDRAM}</span><span class='ignore'>{</span><span class='ignore'>Synchronous</span><span class='ignore'> </span><span class='ignore'>Dynamic</span><span class='ignore'> </span><span class='ignore'>Random-Access</span><span class='ignore'> </span><span class='ignore'>Memory</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{DMIPS}</span><span class='ignore'>{</span><span class='ignore'>Dhrystone</span><span class='ignore'> </span><span class='ignore'>Million</span><span class='ignore'> </span><span class='ignore'>Instructions</span><span class='ignore'> </span><span class='ignore'>Per</span><span class='ignore'> </span><span class='ignore'>Second</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{USART}</span><span class='ignore'>{</span><span class='ignore'>Universal</span><span class='ignore'> </span><span class='ignore'>Synchronous</span><span class='ignore'>/</span><span class='ignore'>Asynchronous</span><span class='ignore'> </span><span class='ignore'>Receiver</span><span class='ignore'>/</span><span class='ignore'>Transmitter</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{FAT}</span><span class='ignore'>{</span><span class='ignore'>File</span><span class='ignore'> </span><span class='ignore'>Allocation</span><span class='ignore'> </span><span class='ignore'>Table</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{VSYNC}</span><span class='ignore'>{</span><span class='ignore'>Vertical</span><span class='ignore'> </span><span class='ignore'>Syncronise</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{WEN}</span><span class='ignore'>{</span><span class='ignore'>Write</span><span class='ignore'> </span><span class='ignore'>Enable</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{OE}</span><span class='ignore'>{</span><span class='ignore'>Output</span><span class='ignore'> </span><span class='ignore'>Enable</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{RCLK}</span><span class='ignore'>{</span><span class='ignore'>Read</span><span class='ignore'> </span><span class='ignore'>Clock</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{HREF}</span><span class='ignore'>{</span><span class='ignore'>Horizontal</span><span class='ignore'> </span><span class='ignore'>Reference</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{PCLK}</span><span class='ignore'>{</span><span class='ignore'>Pixel</span><span class='ignore'> </span><span class='ignore'>Clock</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{RRST}</span><span class='ignore'>{</span><span class='ignore'>Read</span><span class='ignore'> </span><span class='ignore'>Reset</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{WRST}</span><span class='ignore'>{</span><span class='ignore'>Write</span><span class='ignore'> </span><span class='ignore'>Reset</span><span class='ignore'>}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{ACK}{Acknowledge}</span><br>
<span class='ignore'>\nomenclature</span><span class='ignore'>{NACK}</span><span class='ignore'>{</span><span class='ignore'>Negative</span><span class='ignore'> </span><span class='ignore'>Acknowledge</span><span class='ignore'>}</span><br>
<br>
<br>
<span class='ignore'>\acknowledgements</span><span class='ignore'>{</span><span class='ignore'>I</span><span class='ignore'> </span><span class='ignore'>would</span><span class='ignore'> </span><span class='ignore'>like</span><span class='ignore'> </span><span class='ignore'>to</span><span class='ignore'> </span><span class='ignore'>thank</span><span class='ignore'> </span><span class='ignore'>Professor</span><span class='ignore'> </span><span class='ignore'>Steve</span><span class='ignore'> </span><span class='ignore'>Gunn</span><span class='ignore'> </span><span class='ignore'>for</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>weekly</span><span class='ignore'> </span><span class='ignore'>meetings</span><span class='ignore'> </span><span class='ignore'>no</span><span class='ignore'> </span><span class='ignore'>matter</span><span class='ignore'> </span><span class='ignore'>where</span><span class='ignore'> </span><span class='ignore'>he</span><span class='ignore'> </span><span class='ignore'>was</span><span class='ignore'> </span><span class='ignore'>in</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>world</span><span class='ignore'>,</span><span class='ignore'> </span><span class='ignore'>and</span><span class='ignore'> </span><span class='ignore'>whose</span><span class='ignore'> </span><span class='ignore'>help</span><span class='ignore'> </span><span class='ignore'>throughout</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>year</span><span class='ignore'> </span><span class='ignore'>was</span><span class='ignore'> </span><span class='ignore'>invaluable</span><span class='ignore'>.</span><span class='ignore'> </span><span class='ignore'>I</span><span class='ignore'> </span><span class='ignore'>would</span><span class='ignore'> </span><span class='ignore'>also</span><span class='ignore'> </span><span class='ignore'>like</span><span class='ignore'> </span><span class='ignore'>to</span><span class='ignore'> </span><span class='ignore'>thank</span><span class='ignore'> </span><span class='ignore'>my</span><span class='ignore'> </span><span class='ignore'>friends</span><span class='ignore'> </span><span class='ignore'>and</span><span class='ignore'> </span><span class='ignore'>family</span><span class='ignore'> </span><span class='ignore'>for</span><span class='ignore'> </span><span class='ignore'>their</span><span class='ignore'> </span><span class='ignore'>support</span><span class='ignore'> </span><span class='ignore'>and</span><span class='ignore'> </span><span class='ignore'>help</span><span class='ignore'> </span><span class='ignore'>throughout</span><span class='ignore'> </span><span class='ignore'>my</span><span class='ignore'> </span><span class='ignore'>degree</span><span class='ignore'> </span><span class='ignore'>and</span><span class='ignore'> </span><span class='ignore'>with</span><span class='ignore'> </span><span class='ignore'>proof</span><span class='ignore'> </span><span class='ignore'>reading</span><span class='ignore'>,</span><span class='ignore'> </span><span class='ignore'>to</span><span class='ignore'> </span><span class='ignore'>Tom</span><span class='ignore'> </span><span class='ignore'>for</span><span class='ignore'> </span><span class='ignore'>our</span><span class='ignore'> </span><span class='ignore'>years</span><span class='ignore'> </span><span class='ignore'>of</span><span class='ignore'> </span><span class='ignore'>being</span><span class='ignore'> </span><span class='ignore'>lab</span><span class='ignore'> </span><span class='ignore'>partners</span><span class='ignore'> </span><span class='ignore'>during</span><span class='ignore'> </span><span class='ignore'>our</span><span class='ignore'> </span><span class='ignore'>time</span><span class='ignore'> </span><span class='ignore'>here</span><span class='ignore'>,</span><span class='ignore'> </span><span class='ignore'>and</span><span class='ignore'> </span><span class='ignore'>finally</span><span class='ignore'> </span><span class='ignore'>to</span><span class='ignore'> </span><span class='ignore'>Alice</span><span class='ignore'> </span><span class='ignore'>for</span><span class='ignore'> </span><span class='ignore'>asking</span><span class='ignore'> </span><span class='ignore'>the</span><span class='ignore'> </span><span class='ignore'>two</span><span class='ignore'> </span><span class='ignore'>golden</span><span class='ignore'> </span><span class='ignore'>questions</span><span class='ignore'> </span><span class='ignore'>that</span><span class='ignore'> </span><span class='ignore'>solved</span><span class='ignore'> </span><span class='ignore'>90</span><span class='ignore'>\%</span><span class='ignore'> </span><span class='ignore'>of</span><span class='ignore'> </span><span class='ignore'>my</span><span class='ignore'> </span><span class='ignore'>problems</span><span class='ignore'> </span><span class='ignore'>whenever</span><span class='ignore'> </span><span class='ignore'>I</span><span class='ignore'> </span><span class='ignore'>had</span><span class='ignore'> </span><span class='ignore'>one</span><span class='ignore'>;</span><span class='ignore'> </span><span class='ignore'>`</span><span class='ignore'>`</span><span class='ignore'>Is</span><span class='ignore'> </span><span class='ignore'>it</span><span class='ignore'> </span><span class='ignore'>connected</span><span class='ignore'>?</span><span class='ignore'>'</span><span class='ignore'>'</span><span class='ignore'> </span><span class='ignore'>and</span><span class='ignore'> </span><span class='ignore'>`</span><span class='ignore'>`</span><span class='ignore'>Is</span><span class='ignore'> </span><span class='ignore'>it</span><span class='ignore'> </span><span class='ignore'>switched</span><span class='ignore'> </span><span class='ignore'>on</span><span class='ignore'>?</span><span class='ignore'>'</span><span class='ignore'>'</span><span class='ignore'>.</span><span class='ignore'> </span><span class='ignore'>}</span><span class='comment'>%\\ \\ All work presented in this report is my own unless otherwise stated or referenced. \\ }</span><br>
<span class='ignore'>\clearpage</span><br>
<span class='ignore'>\newpage</span><br>
<span class='ignore'>\authorshipdeclaration</span><span class='ignore'>{</span><span class='ignore'>}</span><span class='ignore'> </span><br>
<span class='comment'>%\dedicatory{To \dots}</span><br>
<span class='tc'>%TC:endignore</span><br>
<span class='command'>\mainmatter</span><br>
<span class='comment'>%% ----------------------------------------------------------------</span><br>
<span class='command'>\include</span><span class='fileinclude'>{Introduction}</span><br>
<span class='command'>\include</span><span class='fileinclude'>{Research}</span><br>
<span class='command'>\include</span><span class='fileinclude'>{HardwareDevelopment}</span><br>
<span class='command'>\include</span><span class='fileinclude'>{InvestigationVision}</span><br>
<span class='comment'>%\include{Results}</span><br>
<span class='command'>\include</span><span class='fileinclude'>{Conclusions}</span><br>
<br>
<span class='command'>\bibliographystyle</span><span class='ignore'>{ecs}</span><br>
<span class='command'>\addtotoc</span><span class='word1'>{References}</span><br>
<span class='command'>\bibliography</span><span class='ignore'>{ECS}</span><br>
<span class='tc'>%TC:ignore</span><br>
<span class='ignore'>\appendix</span><br>
<span class='ignore'>\include</span><span class='ignore'>{</span><span class='ignore'>Appendix</span><span class='ignore'>_</span><span class='ignore'>ProjectBrief</span><span class='ignore'>}</span><br>
<span class='ignore'>\include</span><span class='ignore'>{</span><span class='ignore'>Appendix</span><span class='ignore'>_</span><span class='ignore'>Gantt</span><span class='ignore'>}</span><br>
<span class='ignore'>\include</span><span class='ignore'>{</span><span class='ignore'>Appendix</span><span class='ignore'>_</span><span class='ignore'>CircuitDiagrams</span><span class='ignore'>}</span><br>
<span class='ignore'>\include</span><span class='ignore'>{</span><span class='ignore'>Appendix</span><span class='ignore'>_</span><span class='ignore'>PCB</span><span class='ignore'>}</span><br>
<span class='ignore'>\include</span><span class='ignore'>{</span><span class='ignore'>Appendix</span><span class='ignore'>_</span><span class='ignore'>Costing</span><span class='ignore'>}</span><br>
<span class='ignore'>\include</span><span class='ignore'>{</span><span class='ignore'>Appendix</span><span class='ignore'>_</span><span class='ignore'>TestCode</span><span class='ignore'>}</span><br>
<span class='ignore'>\include</span><span class='ignore'>{</span><span class='ignore'>Appendix</span><span class='ignore'>_</span><span class='ignore'>Contents</span><span class='ignore'>}</span><br>
<span class='ignore'>\include</span><span class='ignore'>{</span><span class='ignore'>Appendix</span><span class='ignore'>_</span><span class='ignore'>Bitmap</span><span class='ignore'>}</span><br>
<span class='ignore'>\include</span><span class='ignore'>{</span><span class='ignore'>Appendix</span><span class='ignore'>_</span><span class='ignore'>RangeDerivations</span><span class='ignore'>}</span><br>
<span class='comment'>%\include{Appendix_Code}</span><br>
<span class='tc'>%TC:endignore</span><br>
<span class='command'>\backmatter</span><br>
<br>
<span class='grouping'>\end</span><span class='grouping'>{document}</span><br>
<span class='comment'>%% ----------------------------------------------------------------</span><br>
</p></div>
<div class='count'>
<ul class='count'>
<li class='header'>File: Report.tex</li>
<li>Encoding: ascii</li>
<li>Words in text: 1</li>
<li>Words in headers: 0</li>
<li>Words in float captions: 0</li>
<li>Number of headers: 0</li>
<li>Number of floats: 0</li>
<li>Number of math inlines: 0</li>
<li>Number of math displayed: 0</li>
</ul>
</div>
<h2>File: Introduction.tex</h2>
<div class='parse'><p>
<span class='comment'>%% ----------------------------------------------------------------</span><br>
<span class='comment'>%% Introduction.tex</span><br>
<span class='comment'>%% ---------------------------------------------------------------- </span><br>
<span class='command'>\chapter</span><span class='word2'>{Introduction}</span> <span class='command'>\label</span><span class='ignore'>{</span><span class='ignore'>Chapter</span><span class='ignore'>:</span><span class='ignore'>Introduction</span><span class='ignore'>}</span><br>
<span class='comment'>%The Introduction to my Report \dots</span><br>
<br>
<span class='comment'>%The initial idea of the project was taken from Pirobot(\cite{Pirobot}).</span><br>
<span class='comment'>%</span><br>
<span class='comment'>%\inote{what it will do. Define everything. Use. Very general}</span><br>
<span class='comment'>%General - mapping robots. </span><br>
<span class='comment'>%</span><br>
<span class='comment'>%stereovision - uses etc.</span><br>
<span class='comment'>%</span><br>
<span class='comment'>%other similar projects</span><br>
<span class='comment'>%</span><br>
<span class='comment'>%why mine is important </span><br>
<br>
<span class='comment'>%\inote{Talk about what I set out to do, include some definitions etc. }</span><br>
<span class='comment'>%\inote{What I ended up doing}</span><br>
<span class='comment'>%\inote{The uses of my robot.} </span><br>
<br>
<span class='word1'>The</span> <span class='word1'>original</span> <span class='word1'>idea</span> <span class='word1'>for</span> <span class='word1'>the</span> <span class='word1'>project</span> <span class='word1'>was</span> <span class='word1'>a</span> <span class='word1'>stereoscopic</span> <span class='word1'>mapping</span> <span class='word1'>robot</span><span class='ignore'>,</span> <span class='word1'>similar</span> <span class='word1'>to</span> <span class='command'>\cite</span><span class='ignore'>{Pirobot}</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>would</span> <span class='word1'>autonomously</span> <span class='word1'>search</span> <span class='word1'>an</span> <span class='word1'>area</span> <span class='word1'>and</span> <span class='word1'>return</span> <span class='word1'>an</span> <span class='word1'>occupancy</span> <span class='word1'>map</span> <span class='command'>\citep</span><span class='ignore'>{thrun2003learning}</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>original</span> <span class='word1'>project</span> <span class='word1'>brief</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Appendix</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>Chapter</span><span class='ignore'>:</span><span class='ignore'>Appendix</span><span class='ignore'>:</span><span class='ignore'>Brief</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>However</span><span class='ignore'>,</span> <span class='word1'>due</span> <span class='word1'>to</span> <span class='word1'>time</span> <span class='word1'>constraints</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>image</span> <span class='word1'>processing</span> <span class='word1'>aspects</span> <span class='word1'>remain</span> <span class='word1'>prototyped</span> <span class='word1'>in</span> <span class='word1'>MATLAB</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>not</span> <span class='word1'>implemented</span> <span class='word1'>in</span> <span class='word1'>C</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>end</span> <span class='word1'>robot</span> <span class='word1'>is</span> <span class='word1'>able</span> <span class='word1'>to</span> <span class='word1'>capture</span> <span class='word1'>stereo</span> <span class='word1'>image</span> <span class='word1'>pairs</span><span class='ignore'>,</span> <span class='word1'>move</span> <span class='word1'>with</span> <span class='word1'>reasonable</span> <span class='word1'>accuracy</span> <span class='word1'>and</span> <span class='word1'>compute</span> <span class='word1'>Fourier</span> <span class='word1'>Transforms</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>robot</span> <span class='word1'>can</span> <span class='word1'>run</span> <span class='word1'>a</span> <span class='word1'>predefined</span> <span class='word1'>set</span> <span class='word1'>of</span> <span class='word1'>commands</span> <span class='word1'>automatically</span> <span class='word1'>or</span> <span class='word1'>act</span> <span class='word1'>as</span> <span class='word1'>a</span> <span class='word1'>shell</span> <span class='word1'>terminal</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>Stereoscopy</span> <span class='word1'>in</span> <span class='word1'>computer</span> <span class='word1'>vision</span> <span class='word1'>is</span> <span class='word1'>the</span> <span class='word1'>ability</span> <span class='word1'>to</span> <span class='word1'>calculate</span> <span class='word1'>the</span> <span class='word1'>locations</span> <span class='word1'>and</span> <span class='word1'>depths</span> <span class='word1'>using</span> <span class='word1'>images</span> <span class='word1'>from</span> <span class='word1'>two</span> <span class='word1'>or</span> <span class='word1'>more</span> <span class='word1'>cameras</span><span class='ignore'>,</span> <span class='word1'>which</span> <span class='word1'>are</span> <span class='word1'>used</span> <span class='word1'>to</span> <span class='word1'>triangulate</span> <span class='word1'>and</span> <span class='word1'>estimate</span> <span class='word1'>distances</span> <span class='command'>\citep</span><span class='ignore'>{</span><span class='ignore'>Saxena</span><span class='ignore'>:</span><span class='ignore'>DepthEstimation</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>By</span> <span class='word1'>using</span> <span class='word1'>two</span> <span class='word1'>cameras</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>same</span> <span class='word1'>plane</span><span class='ignore'>,</span> <span class='word1'>separated</span> <span class='word1'>by</span> <span class='word1'>a</span> <span class='word1'>set</span> <span class='word1'>horizontal</span> <span class='word1'>distance</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>depth</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>observed</span> <span class='word1'>scene</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>perceived</span> <span class='word1'>by</span> <span class='word1'>the</span> <span class='word1'>system</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>Stereo</span> <span class='word1'>vision</span> <span class='word1'>is</span> <span class='word1'>a</span> <span class='word1'>small</span> <span class='word1'>section</span> <span class='word1'>of</span> <span class='word1'>computer</span> <span class='word1'>vision</span> <span class='word1'>which</span> <span class='word1'>is</span> <span class='word1'>widely</span> <span class='word1'>used</span> <span class='word1'>in</span> <span class='word1'>many</span> <span class='word1'>applications</span><span class='ignore'>.</span> <span class='word1'>Microsoft's</span> <span class='word1'>Xbox</span> <span class='word1'>Kinect</span> <span class='command'>\citep</span><span class='ignore'>{</span><span class='ignore'>Microsoft</span><span class='ignore'>:</span><span class='ignore'>Kinect</span><span class='ignore'>}</span> <span class='word1'>uses</span> <span class='word1'>stereo</span> <span class='word1'>vision</span> <span class='word1'>to</span> <span class='word1'>locate</span> <span class='word1'>a</span> <span class='word1'>game</span> <span class='word1'>player</span> <span class='word1'>in</span> <span class='word1'>order</span> <span class='word1'>to</span> <span class='word1'>use</span> <span class='word1'>their</span> <span class='word1'>movements</span> <span class='word1'>to</span> <span class='word1'>control</span> <span class='word1'>the</span> <span class='word1'>game</span><span class='ignore'>.</span> <span class='command'>\cite</span><span class='ignore'>{</span><span class='ignore'>Mrovlje</span><span class='ignore'>:</span><span class='ignore'>Distance</span><span class='ignore'>_</span><span class='ignore'>Stereoscopic</span><span class='ignore'>}</span> <span class='word1'>used</span> <span class='word1'>stereo</span> <span class='word1'>vision</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>able</span> <span class='word1'>to</span> <span class='word1'>locate</span> <span class='word1'>the</span> <span class='word1'>distance</span> <span class='word1'>to</span> <span class='word1'>a</span> <span class='word1'>marker</span><span class='ignore'>.</span> <br>
<span class='command'>\inote</span><span class='ignore'>{</span><span class='ignore'>Leap</span> <span class='ignore'>Motion</span><span class='ignore'>?</span><span class='ignore'>}</span><br>
<br>
<span class='word1'>The</span> <span class='word1'>stereo</span> <span class='word1'>vision</span> <span class='word1'>robot</span> <span class='word1'>discussed</span> <span class='word1'>in</span> <span class='word1'>this</span> <span class='word1'>report</span> <span class='word1'>is</span> <span class='word1'>a</span> <span class='word1'>low</span> <span class='word1'>cost</span> <span class='word1'>alternative</span> <span class='word1'>to</span> <span class='word1'>other</span> <span class='word1'>robots</span> <span class='word1'>which</span> <span class='word1'>use</span> <span class='word1'>laser</span> <span class='word1'>range</span> <span class='word1'>finders</span> <span class='word1'>or</span> <span class='word1'>high</span> <span class='word1'>quality</span> <span class='word1'>cameras</span> <span class='command'>\citep</span><span class='ignore'>{</span><span class='ignore'>Se</span><span class='ignore'>:</span><span class='ignore'>MappingRobot</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>robot</span> <span class='word1'>was</span> <span class='word1'>mounted</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>base</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>RobotBase</span><span class='ignore'>}</span> <span class='word1'>and</span> <span class='word1'>used</span> <span class='word1'>two</span> <span class='word1'>OmniVision</span> <span class='word1'>OV7670</span> <span class='word1'>cameras</span> <span class='word1'>delivering</span> <span class='word1'>QVGA</span> <span class='word1'>format</span> <span class='word1'>images</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>The</span> <span class='word1'>final</span> <span class='word1'>robot</span> <span class='word1'>could</span> <span class='word1'>be</span> <span class='word1'>used</span> <span class='word1'>for</span> <span class='word1'>a</span> <span class='word1'>variety</span> <span class='word1'>of</span> <span class='word1'>applications</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>robot</span> <span class='word1'>can</span> <span class='word1'>perceive</span> <span class='word1'>depth</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>captured</span> <span class='word1'>area</span> <span class='word1'>so</span> <span class='word1'>can</span> <span class='word1'>avoid</span> <span class='word1'>obstacles</span> <span class='word1'>and</span> <span class='word1'>navigate</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>robot</span> <span class='word1'>could</span> <span class='word1'>also</span> <span class='word1'>be</span> <span class='word1'>adapted</span> <span class='word1'>to</span> <span class='word1'>stream</span> <span class='word1'>the</span> <span class='word1'>camera</span> <span class='word1'>data</span> <span class='word1'>to</span> <span class='word1'>a</span> <span class='word1'>remote</span> <span class='word1'>computer</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>be</span> <span class='word1'>controlled</span> <span class='word1'>by</span> <span class='word1'>a</span> <span class='word1'>user</span> <span class='word1'>to</span> <span class='word1'>explore</span> <span class='word1'>unknown</span> <span class='word1'>and</span> <span class='word1'>potentially</span> <span class='word1'>hostile</span> <span class='word1'>areas</span> <span class='word1'>safely</span><span class='ignore'>.</span> <br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span> <span class='ignore'>-</span> <span class='ignore'>2cm</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>RobotBase.jpg</span><span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>The</span> <span class='word3'>base</span> <span class='word3'>of</span> <span class='word3'>the</span> <span class='word3'>robot</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>RobotBase</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
<span class='command'>\section</span><span class='ignore'>{</span><span class='word2'>Project</span> <span class='word2'>Management</span><span class='ignore'>}</span><br>
<span class='comment'>%In order to reduce the risk within the project, all aspects of potential issues were looked at and are summarised in table \ref{tab:risk}. A Gantt chart of how time was planned to be spent can be seen in figure \ref{fig:Gantt}.&nbsp; </span><br>
<br>
<span class='comment'>%The project was designed in stages - first, gaining operation of all the basic sections; movement, image capturing, image detection algorithms etc. These were then be brought together once tested to create the final product. This meant functionality was obtained of the basic aspects before addressing more complex issues. </span><br>
<br>
<span class='word1'>The</span> <span class='word1'>project</span> <span class='word1'>set</span> <span class='word1'>ambitious</span> <span class='word1'>targets</span><span class='ignore'>.</span> <span class='word1'>All</span> <span class='word1'>sections</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>design</span> <span class='word1'>that</span> <span class='word1'>needed</span> <span class='word1'>addressing</span> <span class='word1'>are</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Table</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>sections</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>project</span> <span class='word1'>was</span> <span class='word1'>developed</span> <span class='word1'>using</span> <span class='word1'>a</span> <span class='word1'>spiral</span> <span class='word1'>model</span> <span class='word1'>to</span> <span class='word1'>achieve</span> <span class='word1'>the</span> <span class='word1'>design</span> <span class='word1'>aspects</span><span class='ignore'>,</span> <span class='word1'>starting</span> <span class='word1'>with</span> <span class='word1'>the</span> <span class='word1'>hardware</span> <span class='word1'>and</span> <span class='word1'>firmware</span> <span class='word1'>which</span> <span class='word1'>were</span> <span class='word1'>developed</span> <span class='word1'>concurrently</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>was</span> <span class='word1'>done</span> <span class='word1'>to</span> <span class='word1'>obtain</span> <span class='word1'>basic</span> <span class='word1'>functionality</span> <span class='word1'>first</span> <span class='word1'>before</span> <span class='word1'>concentrating</span> <span class='word1'>on</span> <span class='word1'>more</span> <span class='word1'>complex</span> <span class='word1'>aspects</span><span class='ignore'>.</span> <span class='word1'>Higher</span> <span class='word1'>level</span> <span class='word1'>algorithms</span> <span class='word1'>were</span> <span class='word1'>also</span> <span class='word1'>prototyped</span> <span class='word1'>during</span> <span class='word1'>initial</span> <span class='word1'>hardware</span> <span class='word1'>development</span><span class='ignore'>.</span> <span class='word1'>However</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>software</span> <span class='word1'>was</span> <span class='word1'>inherently</span> <span class='word1'>dependant</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>hardware</span><span class='ignore'>.</span> <span class='word1'>Therefore</span> <span class='word1'>the</span> <span class='word1'>hardware</span> <span class='word1'>aspect</span> <span class='word1'>was</span> <span class='word1'>given</span> <span class='word1'>priority</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>A</span> <span class='word1'>number</span> <span class='word1'>of</span> <span class='word1'>risks</span> <span class='word1'>were</span> <span class='word1'>present</span> <span class='word1'>during</span> <span class='word1'>the</span> <span class='word1'>project</span><span class='ignore'>.</span> <span class='word1'>These</span> <span class='word1'>were</span> <span class='word1'>assessed</span> <span class='word1'>and</span> <span class='word1'>steps</span> <span class='word1'>were</span> <span class='word1'>taken</span> <span class='word1'>to</span> <span class='word1'>reduce</span> <span class='word1'>the</span> <span class='word1'>chance</span> <span class='word1'>of</span> <span class='word1'>occurring</span><span class='ignore'>.</span> <span class='word1'>These</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Table</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>tab</span><span class='ignore'>:</span><span class='ignore'>risk</span><span class='ignore'>}</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>At</span> <span class='word1'>the</span> <span class='word1'>beginning</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>project</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>Gantt</span> <span class='word1'>chart</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>Gantt</span><span class='ignore'>:</span><span class='ignore'>1</span><span class='ignore'>}</span> <span class='word1'>was</span> <span class='word1'>made</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>was</span> <span class='word1'>then</span> <span class='word1'>reviewed</span> <span class='word1'>after</span> <span class='word1'>the</span> <span class='word1'>interim</span> <span class='word1'>report</span> <span class='word1'>hand-in</span> <span class='word1'>and</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>Gantt</span><span class='ignore'>:</span><span class='ignore'>2</span><span class='ignore'>}</span> <span class='word1'>was</span> <span class='word1'>made</span> <span class='word1'>for</span> <span class='word1'>how</span> <span class='word1'>time</span> <span class='word1'>should</span> <span class='word1'>be</span> <span class='word1'>spent</span> <span class='word1'>during</span> <span class='word1'>the</span> <span class='word1'>second</span> <span class='word1'>half</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>project</span><span class='ignore'>.</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>Gantt</span><span class='ignore'>:</span><span class='ignore'>3</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>how</span> <span class='word1'>time</span> <span class='word1'>was</span> <span class='word1'>actually</span> <span class='word1'>spent</span> <span class='word1'>during</span> <span class='word1'>the</span> <span class='word1'>project</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>Gantt</span><span class='ignore'>:</span><span class='ignore'>3</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>that</span> <span class='word1'>more</span> <span class='word1'>time</span> <span class='word1'>was</span> <span class='word1'>spent</span> <span class='word1'>on</span> <span class='word1'>testing</span> <span class='word1'>than</span> <span class='word1'>originally</span> <span class='word1'>anticipated</span><span class='ignore'>.</span> <span class='word1'>Individual</span> <span class='word1'>sections</span> <span class='word1'>also</span> <span class='word1'>arose</span> <span class='word1'>small</span> <span class='word1'>errors</span> <span class='word1'>that</span> <span class='word1'>were</span> <span class='word1'>time</span> <span class='word1'>consuming</span> <span class='word1'>to</span> <span class='word1'>correct</span><span class='ignore'>,</span> <span class='word1'>causing</span> <span class='word1'>the</span> <span class='word1'>time</span> <span class='word1'>allocated</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>insufficient</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>motor</span> <span class='word1'>driving</span> <span class='word1'>also</span> <span class='word1'>required</span> <span class='word1'>a</span> <span class='word1'>large</span> <span class='word1'>change</span> <span class='word1'>when</span> <span class='word1'>porting</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>AT32</span><span class='ignore'>,</span> <span class='word1'>causing</span> <span class='word1'>time</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>spent</span> <span class='word1'>developing</span> <span class='word1'>this</span> <span class='word1'>further</span><span class='ignore'>.</span> <br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{table}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Hardware</span> <span class='word3'>and</span> <span class='word3'>Software</span> <span class='word3'>aspects</span> <span class='word3'>of</span> <span class='word3'>the</span> <span class='word3'>design</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>sections</span><span class='ignore'>}</span><br>
<span class='exclgroup'>\begin</span><span class='exclgroup'>{tabular}</span><span class='ignore'>{cc}</span><span class='exclcommand'>\toprule</span><br>
<span class='exclcommand'>\textbf</span><span class='ignore'>{Hardware}</span> <span class='ignore'>&amp;</span> <span class='exclcommand'>\textbf</span><span class='ignore'>{Software}</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\toprule</span><br>
<span class='ignore'>Single</span> <span class='ignore'>Camera</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>Firmware</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>Dual</span> <span class='ignore'>Camera</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>Matching</span> <span class='ignore'>Algorithms</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>SD</span> <span class='ignore'>Card</span>&nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>Range</span> <span class='ignore'>Finding</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>Motor</span> <span class='ignore'>System</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>Mapping</span>&nbsp; <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>PCB</span> <span class='ignore'>Design</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>Searching</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>PCB</span> <span class='ignore'>Test</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>Testing</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\bottomrule</span><br>
<span class='exclgroup'>\end</span><span class='exclgroup'>{tabular}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{table}</span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{table}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>A</span> <span class='word3'>list</span> <span class='word3'>of</span> <span class='word3'>risks</span> <span class='word3'>and</span> <span class='word3'>the</span> <span class='word3'>prevention</span> <span class='word3'>steps</span> <span class='word3'>taken</span> <span class='word3'>to</span> <span class='word3'>reduce</span> <span class='word3'>their</span> <span class='word3'>impact</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>tab</span><span class='ignore'>:</span><span class='ignore'>risk</span><span class='ignore'>}</span><br>
<span class='exclgroup'>\begin</span><span class='exclgroup'>{tabular}</span><span class='ignore'>{</span><span class='ignore'>p{6cm}p{2cm}p{6cm}</span><span class='ignore'>}</span><span class='exclcommand'>\toprule</span><br>
<span class='exclcommand'>\textbf</span><span class='ignore'>{Risk}</span>&nbsp; &nbsp; &nbsp; <span class='ignore'>&amp;</span>	<span class='exclcommand'>\textbf</span><span class='ignore'>{Severity}</span>	<span class='ignore'>&amp;</span>	<span class='exclcommand'>\textbf</span><span class='ignore'>{Prevention}</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\toprule</span><br>
<span class='ignore'>Components</span> <span class='ignore'>not</span> <span class='ignore'>arriving</span> <span class='ignore'>on</span> <span class='ignore'>time</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>High</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>Order</span> <span class='ignore'>parts</span> <span class='ignore'>as</span> <span class='ignore'>early</span> <span class='ignore'>as</span> <span class='ignore'>possible</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>Project</span> <span class='ignore'>not</span> <span class='ignore'>fulfilling</span> <span class='ignore'>specification</span>&nbsp; &nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>High</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>Develop</span> <span class='ignore'>in</span> <span class='ignore'>stages</span> <span class='ignore'>to</span> <span class='ignore'>obtain</span> <span class='ignore'>functionality</span> <span class='ignore'>in</span> <span class='ignore'>parts</span><span class='ignore'>.</span> <span class='ignore'>Ensure</span> <span class='ignore'>enough</span> <span class='ignore'>time</span> <span class='ignore'>is</span> <span class='ignore'>allocated</span> <span class='ignore'>to</span> <span class='ignore'>the</span> <span class='ignore'>project</span><span class='ignore'>.</span>	<span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>PCB</span> <span class='ignore'>Design</span> <span class='ignore'>is</span> <span class='ignore'>incorrect</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>Medium</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>Check</span> <span class='ignore'>the</span> <span class='ignore'>design</span> <span class='ignore'>carefully</span> <span class='ignore'>and</span> <span class='ignore'>get</span> <span class='ignore'>second</span> <span class='ignore'>opinion</span><span class='ignore'>.</span> <span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>Failure</span> <span class='ignore'>of</span> <span class='ignore'>personal</span> <span class='ignore'>computer</span> <span class='ignore'>causing</span> <span class='ignore'>data</span> <span class='ignore'>loss</span> <span class='ignore'>&amp;</span> <span class='ignore'>Low</span>	<span class='ignore'>&amp;</span>&nbsp; <span class='ignore'>Keep</span> <span class='ignore'>back</span> <span class='ignore'>ups</span> <span class='ignore'>of</span> <span class='ignore'>all</span> <span class='ignore'>work</span> <span class='ignore'>on</span> <span class='ignore'>Devtrack</span> <span class='ignore'>Git</span> <span class='ignore'>repository</span> <span class='ignore'>and</span> <span class='ignore'>Dropbox</span><span class='ignore'>.</span><span class='exclcommand'>\\</span><br>
<span class='exclcommand'>\bottomrule</span><br>
<span class='exclgroup'>\end</span><span class='exclgroup'>{tabular}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{table}</span><br>
<br>
<span class='comment'>%\section{Contributions}</span></p></div>
<div class='count'>
<ul class='count'>
<li class='header'>Included file: Introduction.tex</li>
<li>Encoding: ascii</li>
<li>Words in text: 498</li>
<li>Words in headers: 3</li>
<li>Words in float captions: 25</li>
<li>Number of headers: 2</li>
<li>Number of floats: 3</li>
<li>Number of math inlines: 0</li>
<li>Number of math displayed: 0</li>
<li>Subcounts:</li>
<span class='subcount'>
<li class='fielddesc'>&nbsp; text+headers+captions (#headers/#floats/#inlines/#displayed)</li>
  <li>289+1+5 (1/1/0/0) Chapter: Introduction} \label{Chapter:Introduction</li>
  <li>209+2+20 (1/2/0/0) Section: Project Management</li>
</span>
</ul>
</div>
<h2>File: Research.tex</h2>
<div class='parse'><p>
<span class='comment'>%% ----------------------------------------------------------------</span><br>
<span class='comment'>%% Research.tex</span><br>
<span class='comment'>%% ---------------------------------------------------------------- </span><br>
<span class='command'>\chapter</span><span class='word2'>{Research}</span> <span class='command'>\label</span><span class='ignore'>{</span><span class='ignore'>Chapter</span><span class='ignore'>:</span><span class='ignore'>Research</span><span class='ignore'>}</span><br>
<span class='word1'>The</span> <span class='word1'>research</span> <span class='word1'>for</span> <span class='word1'>this</span> <span class='word1'>project</span> <span class='word1'>was</span> <span class='word1'>split</span> <span class='word1'>into</span> <span class='word1'>three</span> <span class='word1'>sections</span><span class='ignore'>:</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{enumerate}</span><br>
<span class='command'>\item</span> <span class='word1'>Hardware</span><br>
<span class='command'>\item</span> <span class='word1'>Software</span><span class='ignore'>,</span> <span class='word1'>broken</span> <span class='word1'>down</span> <span class='word1'>into</span><span class='ignore'>:</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{enumerate}</span><br>
<span class='command'>\item</span> <span class='word1'>Firmware</span><br>
<span class='command'>\item</span> <span class='word1'>Image</span> <span class='word1'>Processing</span><br>
<span class='grouping'>\end</span><span class='grouping'>{enumerate}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{enumerate}</span><br>
<br>
<span class='word1'>Hardware</span> <span class='word1'>and</span> <span class='word1'>firmware</span> <span class='word1'>research</span> <span class='word1'>will</span> <span class='word1'>be</span> <span class='word1'>discussed</span> <span class='word1'>in</span> <span class='word1'>this</span> <span class='word1'>section</span><span class='ignore'>.</span> <span class='word1'>Image</span> <span class='word1'>processing</span> <span class='word1'>is</span> <span class='word1'>looked</span> <span class='word1'>at</span> <span class='word1'>in</span> <span class='word1'>detail</span> <span class='word1'>in</span> <span class='word1'>Chapter</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>Chapter</span><span class='ignore'>:</span><span class='ignore'>InvestigationVision</span><span class='ignore'>}</span><span class='ignore'>.</span><br>
<span class='command'>\section</span><span class='ignore'>{</span><span class='word2'>Hardware</span> <span class='word2'>Research</span><span class='ignore'>}</span><span class='command'>\label</span><span class='ignore'>{</span><span class='ignore'>Research</span><span class='ignore'>:</span><span class='ignore'>Hardware</span><span class='ignore'>}</span><br>
<span class='comment'>%\inote{Talk about why I chose to develop with AVRs, comparison with other uControllers. Why I used the OV7670 Camera etc etc}</span><br>
<span class='command'>\subsection</span><span class='word2'>{Microcontrollers}</span><span class='command'>\label</span><span class='ignore'>{</span><span class='ignore'>Research</span><span class='ignore'>:</span><span class='ignore'>Microcontrollers</span><span class='ignore'>}</span><br>
<span class='comment'>%The budget for the design was \pounds 80 (not including PCB). </span><br>
<span class='word1'>The</span> <span class='word1'>choice</span> <span class='word1'>of</span> <span class='word1'>microcontroller</span> <span class='word1'>was</span> <span class='word1'>an</span> <span class='word1'>important</span> <span class='word1'>one</span><span class='ignore'>,</span> <span class='word1'>as</span> <span class='word1'>a</span> <span class='word1'>compromise</span> <span class='word1'>between</span> <span class='word1'>cost</span><span class='ignore'>,</span> <span class='word1'>power</span> <span class='word1'>and</span> <span class='word1'>usability</span> <span class='word1'>had</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>made</span><span class='ignore'>.</span> <span class='word1'>There</span> <span class='word1'>are</span> <span class='word1'>two</span> <span class='word1'>main</span> <span class='word1'>brands</span> <span class='word1'>of</span> <span class='word1'>microcontrollers</span> <span class='word1'>present</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>consumer</span> <span class='word1'>market</span><span class='ignore'>:</span> <span class='word1'>ARM</span> <span class='word1'>and</span> <span class='word1'>AVRs</span><span class='ignore'>.</span><span class='command'>\\</span> <span class='comment'>%and PICs. </span><br>
<span class='comment'>%\inote{Do more research into ARM stuff}</span><br>
<br>
<span class='word1'>ARM</span> <span class='word1'>is</span> <span class='word1'>an</span> <span class='word1'>architecture</span> <span class='word1'>developed</span> <span class='word1'>by</span> <span class='word1'>ARM</span> <span class='word1'>Holdings</span><span class='ignore'>.</span> <span class='word1'>ARM</span> <span class='word1'>devices</span> <span class='word1'>come</span> <span class='word1'>in</span> <span class='word1'>a</span> <span class='word1'>many</span> <span class='word1'>varieties</span><span class='ignore'>:</span> <span class='word1'>ARM9</span><span class='ignore'>,</span> <span class='word1'>ARM7</span><span class='ignore'>,</span> <span class='word1'>Strong</span> <span class='word1'>ARM</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>ARM</span> <span class='word1'>Cortex</span><span class='ignore'>,</span> <span class='word1'>amongst</span> <span class='word1'>others</span><span class='ignore'>.</span> <span class='word1'>Whilst</span> <span class='word1'>ARM</span> <span class='word1'>Holdings</span> <span class='word1'>do</span> <span class='word1'>not</span> <span class='word1'>fabricate</span> <span class='word1'>and</span> <span class='word1'>sell</span> <span class='word1'>the</span> <span class='word1'>devices</span> <span class='word1'>themselves</span><span class='ignore'>,</span> <span class='word1'>many</span> <span class='word1'>companies</span><span class='ignore'>,</span> <span class='word1'>such</span> <span class='word1'>as</span> <span class='word1'>Texas</span> <span class='word1'>Instruments</span><span class='ignore'>,</span> <span class='word1'>use</span> <span class='word1'>the</span> <span class='word1'>architecture</span> <span class='word1'>and</span> <span class='word1'>manufacture</span> <span class='word1'>their</span> <span class='word1'>own</span> <span class='word1'>devices</span><span class='ignore'>.</span> <span class='word1'>ARM</span> <span class='word1'>cores</span> <span class='word1'>are</span> <span class='word1'>based</span> <span class='word1'>on</span> <span class='word1'>a</span> <span class='word1'>Harvard</span> <span class='word1'>RISC</span> <span class='word1'>architecture</span> <span class='word1'>and</span> <span class='word1'>tend</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>32-bit</span> <span class='word1'>with</span> <span class='word1'>a</span> <span class='word1'>high</span> <span class='word1'>clock</span> <span class='word1'>speed</span><span class='ignore'>.</span> <span class='word1'>ARM</span> <span class='word1'>microcontrollers</span> <span class='word1'>have</span> <span class='word1'>on-chip</span> <span class='word1'>support</span> <span class='word1'>for</span> <span class='word1'>SPI</span><span class='ignore'>,</span> <span class='command'>\itc</span><span class='ignore'>,</span> <span class='word1'>PWM</span> <span class='word1'>and</span> <span class='word1'>ADCs</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>can</span> <span class='word1'>have</span> <span class='word1'>Flash</span><span class='ignore'>,</span> <span class='word1'>SRAM</span> <span class='word1'>and</span> <span class='word1'>EEPROM</span> <span class='word1'>memory</span> <span class='word1'>built-in</span><span class='ignore'>.</span> <span class='word1'>For</span> <span class='word1'>this</span> <span class='word1'>comparison</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>Stellaris</span> <span class='word1'>by</span> <span class='word1'>Texas</span> <span class='word1'>Instruments</span> <span class='word1'>will</span> <span class='word1'>be</span> <span class='word1'>examined</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>Atmel</span> <span class='word1'>have</span> <span class='word1'>a</span> <span class='word1'>variety</span> <span class='word1'>of</span> <span class='word1'>products</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>microcontroller</span> <span class='word1'>market</span><span class='ignore'>,</span> <span class='word1'>which</span> <span class='word1'>have</span> <span class='word1'>an</span> <span class='word1'>AVR</span> <span class='word1'>core</span> <span class='word1'>that</span> <span class='word1'>is</span> <span class='word1'>a</span> <span class='word1'>predominantly</span> <span class='word1'>8-bit</span><span class='ignore'>,</span> <span class='word1'>Harvard</span> <span class='word1'>RISC</span> <span class='word1'>architecture</span><span class='ignore'>.</span> <span class='word1'>They</span> <span class='word1'>range</span> <span class='word1'>from</span> <span class='word1'>a</span> <span class='word1'>low</span> <span class='word1'>clock</span> <span class='word1'>speed</span> <span class='word1'>device</span> <span class='word1'>for</span> <span class='word1'>the</span> <span class='word1'>hobbyist</span> <span class='ignore'>(</span><span class='word1'>ATMega</span> <span class='word1'>and</span> <span class='word1'>ATTiny</span> <span class='word1'>series</span><span class='ignore'>)</span><span class='ignore'>,</span> <span class='word1'>to</span> <span class='word1'>an</span> <span class='word1'>improved</span> <span class='word1'>8-bit</span> <span class='word1'>variant</span> <span class='ignore'>(</span><span class='word1'>XMega</span><span class='ignore'>)</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>a</span> <span class='word1'>32-bit</span> <span class='word1'>architecture</span> <span class='ignore'>(</span><span class='word1'>AT32UC3</span><span class='ignore'>)</span><span class='ignore'>.</span> <span class='word1'>XMegas</span> <span class='word1'>and</span> <span class='word1'>AT32s</span> <span class='word1'>tend</span> <span class='word1'>to</span> <span class='word1'>have</span> <span class='word1'>higher</span> <span class='word1'>clock</span> <span class='word1'>speeds</span> <span class='word1'>than</span> <span class='word1'>the</span> <span class='word1'>ATMega</span><span class='ignore'>.</span> <span class='word1'>Atmel</span> <span class='word1'>devices</span> <span class='word1'>often</span> <span class='word1'>have</span> <span class='word1'>on-board</span> <span class='word1'>peripherals</span> <span class='word1'>such</span> <span class='word1'>as</span> <span class='command'>\itc</span> <span class='ignore'>,</span> <span class='word1'>SPI</span> <span class='word1'>and</span> <span class='word1'>ADCs</span><span class='ignore'>,</span> <span class='word1'>as</span> <span class='word1'>well</span> <span class='word1'>as</span> <span class='word1'>a</span> <span class='word1'>number</span> <span class='word1'>of</span> <span class='word1'>different</span> <span class='word1'>memories</span><span class='ignore'>:</span> <span class='word1'>Flash</span><span class='ignore'>,</span> <span class='word1'>EEPROM</span> <span class='word1'>and</span> <span class='word1'>SRAM</span><span class='ignore'>.</span> <span class='word1'>An</span> <span class='word1'>AT32UC3C0512C</span><span class='ignore'>,</span> <span class='word1'>ATXmega256A3BU</span> <span class='word1'>and</span> <span class='word1'>ATMega644P</span> <span class='word1'>will</span> <span class='word1'>be</span> <span class='word1'>compared</span> <span class='word1'>in</span> <span class='word1'>this</span> <span class='word1'>section</span><span class='ignore'>.</span> <br>
<br>
<br>
<span class='word1'>Table</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>tab</span><span class='ignore'>:</span><span class='ignore'>uCComp</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>a</span> <span class='word1'>brief</span> <span class='word1'>summary</span> <span class='word1'>of</span> <span class='word1'>some</span> <span class='word1'>common</span> <span class='word1'>ARM</span> <span class='word1'>and</span> <span class='word1'>AVR</span> <span class='word1'>microcontrollers</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>Stellaris</span> <span class='word1'>offers</span> <span class='word1'>the</span> <span class='word1'>most</span> <span class='word1'>power</span> <span class='word1'>with</span> <span class='word1'>the</span> <span class='word1'>largest</span> <span class='word1'>DMIPS</span> <span class='word1'>performance</span><span class='ignore'>.</span> <span class='word1'>However</span><span class='ignore'>,</span> <span class='word1'>due</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>necessity</span> <span class='word1'>of</span> <span class='word1'>floating</span> <span class='word1'>point</span> <span class='word1'>operations</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>AT32</span> <span class='word1'>clearly</span> <span class='word1'>has</span> <span class='word1'>a</span> <span class='word1'>distinct</span> <span class='word1'>advantage</span> <span class='word1'>by</span> <span class='word1'>having</span> <span class='word1'>a</span> <span class='word1'>built-in</span> <span class='word1'>floating</span> <span class='word1'>point</span> <span class='word1'>unit</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>XMega</span> <span class='word1'>and</span> <span class='word1'>ATMega</span> <span class='word1'>do</span> <span class='word1'>not</span> <span class='word1'>offer</span> <span class='word1'>enough</span> <span class='word1'>power</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>are</span> <span class='word1'>restricted</span> <span class='word1'>by</span> <span class='word1'>a</span> <span class='word1'>small</span> <span class='word1'>amount</span> <span class='word1'>of</span> <span class='word1'>SRAM</span> <span class='word1'>and</span> <span class='word1'>Flash</span><span class='ignore'>.</span> <span class='word1'>All</span> <span class='word1'>devices</span> <span class='word1'>looked</span> <span class='word1'>at</span> <span class='word1'>use</span> <span class='word1'>3.3V</span> <span class='word1'>supply</span> <span class='word1'>and</span> <span class='word1'>have</span> <span class='word1'>basic</span> <span class='word1'>communication</span> <span class='word1'>protocols</span> <span class='ignore'>(</span><span class='word1'>SPI</span><span class='ignore'>,</span> <span class='command'>\itc</span> <span class='word1'>and</span> <span class='word1'>USART</span><span class='ignore'>)</span><span class='ignore'>.</span> <span class='word1'>Overall</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>AT32UC3</span> <span class='word1'>is</span> <span class='word1'>the</span> <span class='word1'>best</span> <span class='word1'>choice</span> <span class='word1'>with</span> <span class='word1'>a</span> <span class='word1'>high</span> <span class='word1'>throughput</span><span class='ignore'>,</span> <span class='word1'>a</span> <span class='word1'>floating</span> <span class='word1'>point</span> <span class='word1'>unit</span> <span class='word1'>and</span> <span class='word1'>a</span> <span class='word1'>vast</span> <span class='word1'>amount</span> <span class='word1'>of</span> <span class='word1'>GPIOs</span> <span class='word1'>and</span> <span class='word1'>communications</span><span class='ignore'>.</span> <span class='word1'>There</span> <span class='word1'>is</span> <span class='word1'>no</span> <span class='word1'>EEPROM</span><span class='ignore'>,</span> <span class='word1'>which</span> <span class='word1'>may</span> <span class='word1'>be</span> <span class='word1'>desirable</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>these</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>added</span> <span class='word1'>onto</span> <span class='word1'>an</span> <span class='word1'>SPI</span> <span class='word1'>or</span> <span class='command'>\itc</span> <span class='word1'>bus</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>device</span><span class='ignore'>,</span> <span class='word1'>although</span> <span class='word1'>slightly</span> <span class='word1'>more</span> <span class='word1'>costly</span><span class='ignore'>,</span> <span class='word1'>is</span> <span class='word1'>best</span> <span class='word1'>suited</span> <span class='word1'>to</span> <span class='word1'>this</span> <span class='word1'>application</span> <span class='word1'>out</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>selection</span> <span class='word1'>researched</span><span class='ignore'>.</span><br>
<span class='comment'>%\inote{Much point wasting words on PIC?}</span><br>
<span class='comment'>%PICs are useless...</span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{table}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Comparison</span> <span class='word3'>table</span> <span class='word3'>of</span> <span class='word3'>some</span> <span class='word3'>common</span> <span class='word3'>microcontrollers</span><span class='ignore'>.</span> <span class='word3'>Data</span> <span class='word3'>of</span> <span class='word3'>microcontrollers</span> <span class='word3'>taken</span> <span class='word3'>from</span> <span class='command'>\cite</span><span class='ignore'>{</span><span class='ignore'>Atmel</span><span class='ignore'>:</span><span class='ignore'>UC3C</span><span class='ignore'>}</span><span class='ignore'>,</span> <span class='command'>\cite</span><span class='ignore'>{</span><span class='ignore'>Atmel</span><span class='ignore'>:</span><span class='ignore'>644P</span><span class='ignore'>}</span><span class='ignore'>,</span> <span class='command'>\cite</span><span class='ignore'>{</span><span class='ignore'>Atmel</span><span class='ignore'>:</span><span class='ignore'>A3BU</span><span class='ignore'>}</span> <span class='word3'>and</span> <span class='command'>\cite</span><span class='ignore'>{</span><span class='ignore'>ARM</span><span class='ignore'>:</span><span class='ignore'>Stellaris</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word3'>Costings</span> <span class='word3'>from</span> <span class='command'>\cite</span><span class='ignore'>{Farnell}</span><span class='ignore'>.</span> <span class='word3'>UC3C</span> <span class='word3'>is</span> <span class='word3'>the</span> <span class='word3'>AT32UC3C0512C</span><span class='ignore'>,</span> <span class='word3'>XMega</span> <span class='word3'>is</span> <span class='word3'>the</span> <span class='word3'>ATXMega256A3BU</span> <span class='word3'>and</span> <span class='word3'>the</span> <span class='word3'>ATMega</span> <span class='word3'>is</span> <span class='word3'>the</span> <span class='word3'>ATmega644P</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>tab</span><span class='ignore'>:</span><span class='ignore'>uCComp</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='exclgroup'>\begin</span><span class='exclgroup'>{tabular}</span><span class='ignore'>{</span><span class='ignore'>p</span><span class='ignore'>{</span><span class='ignore'>2.5cm</span><span class='ignore'>}</span><span class='ignore'>p</span><span class='ignore'>{</span><span class='ignore'>2.5cm</span><span class='ignore'>}</span><span class='ignore'>p{3cm}p</span><span class='ignore'>{</span><span class='ignore'>2.3cm</span><span class='ignore'>}</span><span class='ignore'>p</span><span class='ignore'>{</span><span class='ignore'>2.4cm</span><span class='ignore'>}</span><span class='ignore'>}</span><span class='exclcommand'>\toprule</span><br>
<span class='exclcommand'>\textbf</span><span class='ignore'>{Attribute}</span>&nbsp; &nbsp; <span class='ignore'>&amp;</span>&nbsp; <span class='exclcommand'>\textbf</span><span class='ignore'>{Stellaris}</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='exclcommand'>\textbf</span><span class='ignore'>{UC3C}</span>&nbsp; 	<span class='ignore'>&amp;</span>	<span class='exclcommand'>\textbf</span><span class='ignore'>{XMega}</span>	<span class='ignore'>&amp;</span>	<span class='exclcommand'>\textbf</span><span class='ignore'>{ATMega}</span>&nbsp; <span class='exclcommand'>\\</span>	<span class='exclcommand'>\toprule</span><br>
<span class='ignore'>Clock</span> <span class='ignore'>Speed</span>	<span class='ignore'>(</span><span class='ignore'>MHz</span><span class='ignore'>)</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>80</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>33</span> <span class='ignore'>or</span> <span class='ignore'>66</span>&nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>32</span>&nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>12</span>&nbsp; 	<span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>DMIPS</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>100</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>91</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>-</span>&nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>20</span> <span class='ignore'>MIPS</span>&nbsp; <span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>Package</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>100</span> <span class='ignore'>LQFP</span> <span class='ignore'>or</span> <span class='ignore'>108</span> <span class='ignore'>BGA</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>64</span><span class='ignore'>,</span> <span class='ignore'>100</span><span class='ignore'>,</span> <span class='ignore'>144TQFP</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>64</span> <span class='ignore'>QFP</span> <span class='ignore'>or</span> <span class='ignore'>QFN</span> <span class='ignore'>&amp;</span> <span class='ignore'>40</span> <span class='ignore'>DIP</span><span class='ignore'>,</span> <span class='ignore'>44</span> <span class='ignore'>TQFP</span><span class='ignore'>,</span> <span class='ignore'>44</span> <span class='ignore'>QFN</span> <span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>Cost</span> <span class='ignore'>of</span> <span class='ignore'>1</span> <span class='ignore'>unit</span><span class='ignore'>(</span><span class='exclcommand'>\pounds</span><span class='ignore'>)</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>10.30</span>&nbsp; &nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>15.39</span> <span class='ignore'>&amp;</span>	<span class='ignore'>6.65</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>6.86</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>Flash</span> <span class='ignore'>Size</span><span class='ignore'>(</span><span class='ignore'>kB</span><span class='ignore'>)</span>&nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>256</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>512</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>256</span>&nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>64</span> <span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>SDRAM</span> <span class='ignore'>Size</span> <span class='ignore'>(</span><span class='ignore'>kB</span><span class='ignore'>)</span>&nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>32</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>64</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>16</span>&nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>4</span>	<span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>EEPROM</span> <span class='ignore'>Size</span><span class='ignore'>(</span><span class='ignore'>kB</span><span class='ignore'>)</span>&nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>2</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>None</span> <span class='ignore'>internal</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>4</span>&nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>2</span>&nbsp; <span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>GPIO</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>64</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>&nbsp; <span class='ignore'>45</span><span class='ignore'>,</span> <span class='ignore'>81</span> <span class='ignore'>or</span> <span class='ignore'>123</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>47</span>&nbsp; 	<span class='ignore'>&amp;</span>&nbsp; <span class='ignore'>32</span>	<span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>Operating</span> <span class='ignore'>Voltage</span> <span class='ignore'>(</span><span class='ignore'>V</span><span class='ignore'>)</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>3.3</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>&nbsp; <span class='ignore'>5</span>	<span class='ignore'>or</span> <span class='ignore'>3.3</span>&nbsp; 	<span class='ignore'>&amp;</span>&nbsp; <span class='ignore'>1.6</span><span class='ignore'>-</span> <span class='ignore'>3.6</span><span class='exclcommand'>\footnote</span><span class='ignore'>{</span><span class='ignore'>Clock</span> <span class='ignore'>frequency</span> <span class='ignore'>for</span> <span class='ignore'>voltages</span> <span class='ignore'>1.6</span> <span class='ignore'>-</span> <span class='ignore'>2.7</span> <span class='ignore'>is</span> <span class='ignore'>12MHz</span><span class='ignore'>.</span><span class='ignore'>}</span>&nbsp; <span class='ignore'>&amp;</span>&nbsp; <span class='ignore'>2.7-5.5</span>	<span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>Communication</span> <span class='ignore'>Interfaces</span> <span class='ignore'>&amp;</span>	<span class='ignore'>SPI</span><span class='ignore'>,</span> <span class='exclcommand'>\itc</span><span class='ignore'>,</span> <span class='ignore'>SSI</span><span class='ignore'>,</span> <span class='ignore'>MAC</span><span class='ignore'>,</span> <span class='ignore'>CAN</span><span class='ignore'>,</span> <span class='ignore'>EPI</span><span class='ignore'>,</span> <span class='ignore'>USB</span><span class='ignore'>,</span> <span class='ignore'>USART</span><span class='ignore'>,</span> <span class='ignore'>I2S</span>	<span class='ignore'>&amp;</span> <span class='ignore'>SPI</span><span class='ignore'>,</span> <span class='ignore'>TWI</span><span class='ignore'>,</span> <span class='ignore'>EBI</span><span class='ignore'>,</span> <span class='ignore'>USB</span><span class='ignore'>,</span> <span class='ignore'>Ethernet</span><span class='ignore'>,</span> <span class='ignore'>CAN</span><span class='ignore'>,</span> <span class='ignore'>USART</span><span class='ignore'>,</span> <span class='ignore'>I2S</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>USART</span><span class='ignore'>,</span> <span class='ignore'>TWI</span><span class='ignore'>,</span> <span class='ignore'>USB</span><span class='ignore'>,</span> <span class='ignore'>SPI</span>&nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>SPI</span><span class='ignore'>,</span> <span class='ignore'>TWI</span><span class='ignore'>,</span> <span class='ignore'>USART</span> <span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>Floating</span> <span class='ignore'>Point</span>&nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>None</span>&nbsp; &nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>Built</span> <span class='ignore'>in</span> <span class='ignore'>FPU</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>None</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>None</span>&nbsp; <span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>ADCs</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>16</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>16</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>16</span>&nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>8</span>&nbsp; 	<span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>Timers</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>4</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>3</span> <span class='ignore'>16-bit</span>&nbsp; 	<span class='ignore'>&amp;</span> <span class='ignore'>7</span> <span class='ignore'>16-bit</span><span class='ignore'>,</span> <span class='ignore'>8</span> <span class='ignore'>8-bit</span> <span class='ignore'>&amp;</span> <span class='ignore'>2</span> <span class='ignore'>8-bit</span><span class='ignore'>,</span> <span class='ignore'>1</span> <span class='ignore'>16-bit</span> <span class='exclcommand'>\\</span><br>
<span class='exclcommand'>\bottomrule</span><br>
<span class='exclgroup'>\end</span><span class='exclgroup'>{tabular}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{table}</span><br>
<br>
<span class='command'>\section</span><span class='word2'>{Firmware}</span><br>
<span class='command'>\subsection</span><span class='word2'>{Camera}</span><br>
<br>
<span class='word1'>The</span> <span class='word1'>camera</span> <span class='word1'>used</span> <span class='word1'>was</span> <span class='word1'>the</span> <span class='word1'>OV7670</span> <span class='word1'>by</span> <span class='word1'>OmniVision</span><span class='ignore'>.</span> <span class='word1'>Steve</span> <span class='word1'>Gunn</span> <span class='word1'>provided</span> <span class='word1'>source</span> <span class='word1'>code</span> <span class='word1'>for</span> <span class='word1'>use</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='command'>\textit</span><span class='ignore'>{</span><span class='word1'>Il</span> <span class='word1'>Matto</span><span class='ignore'>}</span> <span class='word1'>development</span> <span class='word1'>board</span><span class='ignore'>,</span> <span class='word1'>which</span> <span class='word1'>streamed</span> <span class='word1'>video</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>camera</span> <span class='word1'>to</span> <span class='word1'>a</span> <span class='word1'>colour</span> <span class='word1'>TFT</span> <span class='word1'>screen</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>camera</span> <span class='word1'>is</span> <span class='word1'>supplied</span> <span class='word1'>on</span> <span class='word1'>a</span> <span class='word1'>small</span> <span class='word1'>breakout</span> <span class='word1'>board</span> <span class='word1'>with</span> <span class='word1'>a</span> <span class='word1'>FIFO</span> <span class='word1'>buffer</span><span class='ignore'>.</span> <span class='word1'>Many</span> <span class='word1'>implementations</span> <span class='word1'>of</span> <span class='word1'>firmware</span> <span class='word1'>for</span> <span class='word1'>this</span> <span class='word1'>camera</span> <span class='word1'>exist</span> <span class='word1'>across</span> <span class='word1'>different</span> <span class='word1'>devices</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>camera</span> <span class='word1'>operation</span> <span class='word1'>is</span> <span class='word1'>discussed</span> <span class='word1'>in</span> <span class='word1'>Section</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>Section</span><span class='ignore'>:</span><span class='ignore'>Camera</span><span class='ignore'>}</span><span class='ignore'>.</span> <br>
<span class='command'>\subsection</span><span class='ignore'>{</span><span class='word2'>Atmel</span> <span class='word2'>Software</span> <span class='word2'>Framework</span><span class='ignore'>}</span><br>
<br>
<span class='word1'>Atmel</span> <span class='word1'>offer</span> <span class='word1'>a</span> <span class='word1'>software</span> <span class='word1'>framework</span> <span class='word1'>which</span> <span class='word1'>contains</span> <span class='word1'>basic</span> <span class='word1'>code</span> <span class='word1'>and</span> <span class='word1'>device</span> <span class='word1'>drivers</span> <span class='word1'>for</span> <span class='word1'>many</span> <span class='word1'>of</span> <span class='word1'>their</span> <span class='word1'>XMega</span> <span class='word1'>and</span> <span class='word1'>AT32</span> <span class='word1'>devices</span> <span class='command'>\citep</span><span class='ignore'>{</span><span class='ignore'>Atmel</span><span class='ignore'>:</span><span class='ignore'>ASF</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>There</span> <span class='word1'>are</span> <span class='word1'>also</span> <span class='word1'>many</span> <span class='word1'>AVR</span> <span class='word1'>application</span> <span class='word1'>notes</span> <span class='word1'>which</span> <span class='word1'>provide</span> <span class='word1'>explanations</span> <span class='word1'>and</span> <span class='word1'>example</span> <span class='word1'>code</span> <span class='word1'>for</span> <span class='word1'>protocols</span> <span class='word1'>like</span> <span class='command'>\itc</span> <span class='ignore'>,</span> <span class='word1'>SPI</span> <span class='word1'>and</span> <span class='word1'>timers</span><span class='ignore'>.</span> <span class='word1'>These</span> <span class='word1'>application</span> <span class='word1'>notes</span> <span class='word1'>are</span> <span class='word1'>aimed</span> <span class='word1'>at</span> <span class='word1'>older</span> <span class='word1'>devices</span> <span class='word1'>like</span> <span class='word1'>the</span> <span class='word1'>ATTiny</span> <span class='word1'>and</span> <span class='word1'>ATMega</span><span class='ignore'>.</span> <span class='word1'>Both</span> <span class='word1'>the</span> <span class='word1'>ASF</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>application</span> <span class='word1'>notes</span> <span class='word1'>are</span> <span class='word1'>available</span> <span class='word1'>online</span> <span class='word1'>and</span> <span class='word1'>are</span> <span class='word1'>a</span> <span class='word1'>good</span> <span class='word1'>source</span> <span class='word1'>of</span> <span class='word1'>code</span> <span class='word1'>for</span> <span class='word1'>basic</span> <span class='word1'>protocols</span><span class='ignore'>.</span><br>
<br>
<span class='comment'>%\section{Image Algorithms}</span><br>
<span class='comment'>%</span><br>
<span class='comment'>%\subsection{Comparison Algorithms} </span><br>
<span class='comment'>%</span><br>
<span class='comment'>%\subsection{Detection Algorithms}</span><br>
<span class='comment'>%It will be necessary to be able to work out what in the image are objects. For this, a number of detection algorithms can be used:</span><br>
<span class='comment'>%\begin{enumerate}</span><br>
<span class='comment'>%\item Corner Detection</span><br>
<span class='comment'>%\item Edge Detection</span><br>
<span class='comment'>%\end{enumerate}</span><br>
<span class='comment'>%</span><br>
<span class='comment'>%\subsection{Corner Detection}</span><br>
<span class='comment'>%</span><br>
<span class='comment'>%A common edge detection algorithm is the Harris Corner Detector \cite{Nixon:HarrisAlgo}. This works by placing a window over the image and measuring the intensity. If the intensity changes in both vertical and horizontal directions, there is a corner. If the window is on an edge, the intensity will only change in the direction perpendicular to the edge. This method will be useful to detect an object. However, this may not be able to detect a tall, vertical object, such as the edge of a wall.</span><br>
<span class='comment'>%</span><br>
<span class='comment'>%\subsection{Edge Detection}</span><br>
<span class='comment'>%There are many edge detection algorithms. The </span><br>
<br>
<br>
</p></div>
<div class='count'>
<ul class='count'>
<li class='header'>Included file: Research.tex</li>
<li>Encoding: ascii</li>
<li>Words in text: 539</li>
<li>Words in headers: 9</li>
<li>Words in float captions: 28</li>
<li>Number of headers: 6</li>
<li>Number of floats: 1</li>
<li>Number of math inlines: 0</li>
<li>Number of math displayed: 0</li>
<li>Subcounts:</li>
<span class='subcount'>
<li class='fielddesc'>&nbsp; text+headers+captions (#headers/#floats/#inlines/#displayed)</li>
  <li>37+1+0 (1/0/0/0) Chapter: Research} \label{Chapter:Research</li>
  <li>0+2+0 (1/0/0/0) Section: Hardware Research}\label{Research:Hardware</li>
  <li>367+1+28 (1/1/0/0) Subsection: Microcontrollers}\label{Research:Microcontrollers</li>
  <li>0+1+0 (1/0/0/0) Section: Firmware</li>
  <li>63+1+0 (1/0/0/0) Subsection: Camera</li>
  <li>72+3+0 (1/0/0/0) Subsection: Atmel Software Framework</li>
</span>
</ul>
</div>
<h2>File: HardwareDevelopment.tex</h2>
<div class='parse'><p>
<span class='comment'>%% ----------------------------------------------------------------</span><br>
<span class='comment'>%% Hardware Development.tex</span><br>
<span class='comment'>%% ---------------------------------------------------------------- </span><br>
<span class='command'>\chapter</span><span class='ignore'>{</span><span class='word2'>Hardware</span> <span class='word2'>and</span> <span class='word2'>Firmware</span> <span class='word2'>Development</span><span class='ignore'>}</span> <span class='command'>\label</span><span class='ignore'>{</span><span class='ignore'>Chapter</span><span class='ignore'>:</span><span class='ignore'>HardwareDevelopment</span><span class='ignore'>}</span><br>
<span class='word1'>For</span> <span class='word1'>initial</span> <span class='word1'>development</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='command'>\textit</span><span class='ignore'>{</span><span class='ignore'>`</span><span class='word1'>Il</span> <span class='word1'>Matto</span><span class='ignore'>'</span><span class='ignore'>}</span> <span class='word1'>board</span><span class='ignore'>,</span> <span class='word1'>designed</span> <span class='word1'>by</span> <span class='word1'>Steve</span> <span class='word1'>Gunn</span><span class='ignore'>,</span> <span class='word1'>was</span> <span class='word1'>used</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>system</span> <span class='word1'>has</span> <span class='word1'>an</span> <span class='word1'>ATMega644P</span><span class='ignore'>,</span> <span class='word1'>12MHz</span> <span class='word1'>clock</span> <span class='word1'>and</span> <span class='word1'>an</span> <span class='word1'>on-board</span> <span class='word1'>SD</span> <span class='word1'>card</span> <span class='word1'>socket</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>provided</span> <span class='word1'>the</span> <span class='word1'>ability</span> <span class='word1'>to</span> <span class='word1'>prototype</span> <span class='word1'>circuits</span> <span class='word1'>which</span> <span class='word1'>were</span> <span class='word1'>then</span> <span class='word1'>used</span> <span class='word1'>to</span> <span class='word1'>create</span> <span class='word1'>a</span> <span class='word1'>PCB</span><span class='ignore'>.</span><br>
<br>
<span class='comment'>%This section is broken down into the following parts:</span><br>
<span class='comment'>%\begin{enumerate}</span><br>
<span class='comment'>%\item[\ref{Section:Camera}] Camera Code</span><br>
<span class='comment'>%\item[\ref{sect:SDCard}] SD Card</span><br>
<span class='comment'>%%\item Motor Control</span><br>
<span class='comment'>%\item[\ref{Section:Motor_Dev}] Motor Development</span><br>
<span class='comment'>%\item[\ref{Section:PCB_Dev}] PCB Development</span><br>
<span class='comment'>%\end{enumerate}</span><br>
<br>
<span class='command'>\section</span><span class='word2'>{Camera}</span> <span class='command'>\label</span><span class='ignore'>{</span><span class='ignore'>Section</span><span class='ignore'>:</span><span class='ignore'>Camera</span><span class='ignore'>}</span><br>
<br>
<span class='word1'>The</span> <span class='word1'>camera</span> <span class='word1'>used</span> <span class='word1'>is</span> <span class='word1'>an</span> <span class='word1'>OV7670</span> <span class='word1'>by</span> <span class='word1'>OmniVision</span><span class='ignore'>.</span> <span class='word1'>It</span> <span class='word1'>is</span> <span class='word1'>mounted</span> <span class='word1'>onto</span> <span class='word1'>a</span> <span class='word1'>break</span> <span class='word1'>out</span> <span class='word1'>board</span> <span class='word1'>and</span> <span class='word1'>connected</span> <span class='word1'>to</span> <span class='word1'>a</span> <span class='word1'>AL422B</span> <span class='word1'>FIFO</span> <span class='word1'>Buffer</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>breakout</span> <span class='word1'>board</span> <span class='word1'>has</span> <span class='word1'>all</span> <span class='word1'>passive</span> <span class='word1'>components</span> <span class='word1'>and</span> <span class='word1'>a</span> <span class='word1'>24MHz</span> <span class='word1'>clock</span> <span class='word1'>mounted</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>schematic</span> <span class='word1'>for</span> <span class='word1'>the</span> <span class='word1'>device</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Appendix</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>sch</span><span class='ignore'>:</span><span class='ignore'>OV7670</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>camera</span> <span class='word1'>has</span> <span class='word1'>a</span> <span class='word1'>small</span> <span class='word1'>hardware</span> <span class='word1'>modification</span><span class='ignore'>,</span> <span class='word1'>due</span> <span class='word1'>to</span> <span class='word1'>a</span> <span class='word1'>PCB</span> <span class='word1'>fault</span><span class='ignore'>.</span> <span class='word1'>Pin</span> <span class='word1'>8</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>buffer</span> <span class='word1'>is</span> <span class='word1'>lifted</span> <span class='word1'>and</span> <span class='word1'>connected</span> <span class='word1'>to</span> <span class='word1'>pin</span> <span class='word1'>6</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>header</span><span class='ignore'>,</span> <span class='word1'>which</span> <span class='word1'>is</span> <span class='word1'>disconnected</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>PCB</span> <span class='ignore'>(</span><span class='word1'>see</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>OV7670</span><span class='ignore'>:</span><span class='ignore'>Mod</span><span class='ignore'>}</span><span class='ignore'>)</span><span class='ignore'>.</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span> <span class='ignore'>/</span><span class='ignore'>4</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>OV7670</span><span class='ignore'>_</span><span class='ignore'>Back.jpg</span><span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Reverse</span> <span class='word3'>side</span> <span class='word3'>of</span> <span class='word3'>the</span> <span class='word3'>OV7670</span> <span class='word3'>camera</span> <span class='word3'>showing</span> <span class='word3'>the</span> <span class='word3'>modification</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>OV7670</span><span class='ignore'>:</span><span class='ignore'>Mod</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<span class='word1'>Original</span> <span class='word1'>code</span> <span class='word1'>for</span> <span class='word1'>the</span> <span class='word1'>camera</span> <span class='word1'>operation</span> <span class='word1'>was</span> <span class='word1'>given</span> <span class='word1'>by</span> <span class='word1'>Steve</span> <span class='word1'>Gunn</span> <span class='word1'>which</span> <span class='word1'>streamed</span> <span class='word1'>continuous</span> <span class='word1'>video</span> <span class='word1'>to</span> <span class='word1'>a</span> <span class='word1'>TFT</span> <span class='word1'>screen</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>camera</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>operation</span> <span class='word1'>required</span> <span class='word1'>was</span> <span class='word1'>to</span> <span class='word1'>take</span> <span class='word1'>a</span> <span class='word1'>single</span> <span class='word1'>photo</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>camera</span> <span class='word1'>and</span> <span class='word1'>store</span> <span class='word1'>the</span> <span class='word1'>data</span><span class='ignore'>.</span> <br>
<br>
<span class='command'>\subsection</span><span class='ignore'>{</span><span class='word2'>Single</span> <span class='word2'>Camera</span> <span class='word2'>Operation</span><span class='ignore'>}</span><br>
<br>
<span class='word1'>The</span> <span class='word1'>camera</span> <span class='word1'>uses</span> <span class='word1'>a</span> <span class='word1'>SCCB</span> <span class='word1'>Interface</span> <span class='command'>\citep</span><span class='ignore'>{</span><span class='ignore'>SCCB</span><span class='ignore'>_</span><span class='ignore'>Interface</span><span class='ignore'>}</span> <span class='word1'>created</span> <span class='word1'>by</span> <span class='word1'>OmniVision</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>is</span> <span class='word1'>almost</span> <span class='word1'>identical</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='mathgroup'>$</span><span class='ignore'>I</span><span class='ignore'>^</span><span class='ignore'>{2}C</span><span class='mathgroup'>$</span> <span class='word1'>Interface</span> <span class='word1'>by</span> <span class='command'>\cite</span><span class='ignore'>{</span><span class='ignore'>Philips</span><span class='ignore'>:</span><span class='ignore'>I2C</span><span class='ignore'>}</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>two</span> <span class='word1'>protocols</span> <span class='word1'>are</span> <span class='word1'>compatible</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>original</span> <span class='word1'>code</span> <span class='word1'>for</span> <span class='word1'>the</span> <span class='word1'>camera</span> <span class='word1'>used</span> <span class='word1'>a</span> <span class='word1'>software</span> <span class='word1'>driven</span> <span class='word1'>SCCB</span> <span class='word1'>interface</span> <span class='word1'>which</span> <span class='word1'>was</span> <span class='word1'>very</span> <span class='word1'>slow</span> <span class='word1'>and</span> <span class='word1'>used</span> <span class='word1'>up</span> <span class='word1'>processing</span> <span class='word1'>time</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>was</span> <span class='word1'>changed</span> <span class='word1'>to</span> <span class='word1'>make</span> <span class='word1'>use</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>built-in</span> <span class='word1'>interrupt-driven</span> <span class='mathgroup'>$</span><span class='ignore'>I</span><span class='ignore'>^</span><span class='ignore'>{2}C</span><span class='mathgroup'>$</span> <span class='word1'>interface</span> <span class='ignore'>(</span><span class='word1'>named</span> <span class='word1'>TWI</span> <span class='word1'>in</span> <span class='word1'>Atmel</span> <span class='word1'>AVRs</span><span class='ignore'>)</span><span class='command'>\footnote</span><span class='ignore'>{</span><span class='mathgroup'>$</span><span class='ignore'>I</span><span class='ignore'>^</span><span class='ignore'>{2}C</span><span class='mathgroup'>$</span> <span class='ignore'>,</span> <span class='word3'>SCCB</span> <span class='word3'>and</span> <span class='word3'>TWI</span> <span class='word3'>are</span> <span class='word3'>all</span> <span class='word3'>the</span> <span class='word3'>same</span> <span class='word3'>but</span> <span class='word3'>are</span> <span class='word3'>named</span> <span class='word3'>differently</span> <span class='word3'>due</span> <span class='word3'>to</span> <span class='word3'>Phillips</span> <span class='word3'>owning</span> <span class='word3'>the</span> <span class='word3'>right</span> <span class='word3'>to</span> <span class='word3'>the</span> <span class='word3'>name</span> <span class='ignore'>`</span><span class='ignore'>`</span><span class='mathgroup'>$</span><span class='ignore'>I</span><span class='ignore'>^</span><span class='ignore'>{2}C</span><span class='mathgroup'>$</span><span class='ignore'>"</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>communication</span> <span class='word1'>bus</span> <span class='word1'>is</span> <span class='word1'>used</span> <span class='word1'>to</span> <span class='word1'>write</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>control</span> <span class='word1'>registers</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>camera</span> <span class='word1'>to</span> <span class='word1'>set</span> <span class='word1'>up</span> <span class='word1'>the</span> <span class='word1'>signals</span><span class='ignore'>,</span> <span class='word1'>image</span> <span class='word1'>format</span> <span class='word1'>and</span> <span class='word1'>image</span> <span class='word1'>size</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>set-up</span> <span class='word1'>procedure</span> <span class='word1'>is</span> <span class='word1'>used</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>code</span> <span class='word1'>given</span> <span class='word1'>and</span> <span class='word1'>sets</span> <span class='word1'>the</span> <span class='word1'>camera</span> <span class='word1'>to</span> <span class='word1'>function</span> <span class='word1'>as</span> <span class='word1'>explained</span> <span class='word1'>below</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>RGB565</span> <span class='word1'>is</span> <span class='word1'>a</span> <span class='word1'>16</span> <span class='word1'>bit</span> <span class='word1'>pixel</span> <span class='word1'>representation</span> <span class='word1'>where</span> <span class='word1'>bits</span> <span class='word1'>0-4</span><span class='ignore'>,</span> <span class='word1'>5-10</span> <span class='word1'>and</span> <span class='word1'>11-15</span><span class='ignore'>,</span> <span class='word1'>represent</span> <span class='word1'>the</span> <span class='word1'>blue</span><span class='ignore'>,</span> <span class='word1'>green</span> <span class='word1'>and</span> <span class='word1'>red</span> <span class='word1'>intensity</span> <span class='word1'>respectively</span> <span class='ignore'>(</span><span class='word1'>see</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>RGB565</span><span class='ignore'>}</span><span class='ignore'>)</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>is</span> <span class='word1'>a</span> <span class='word1'>compact</span> <span class='word1'>way</span> <span class='word1'>of</span> <span class='word1'>storing</span> <span class='word1'>data</span> <span class='word1'>but</span> <span class='word1'>only</span> <span class='word1'>allows</span> <span class='word1'>65536</span> <span class='word1'>colours</span><span class='ignore'>.</span> <span class='word1'>Greys</span> <span class='word1'>can</span> <span class='word1'>also</span> <span class='word1'>appear</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>slightly</span> <span class='word1'>green</span> <span class='word1'>due</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>inconsistent</span> <span class='word1'>colour</span> <span class='word1'>ratio</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>green</span> <span class='word1'>field</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>representation</span> <span class='word1'>was</span> <span class='word1'>used</span> <span class='word1'>as</span> <span class='word1'>it</span> <span class='word1'>is</span> <span class='word1'>a</span> <span class='word1'>compact</span> <span class='word1'>format</span> <span class='word1'>and</span> <span class='word1'>easily</span> <span class='word1'>converted</span> <span class='word1'>to</span> <span class='word1'>grey</span> <span class='word1'>scale</span><span class='ignore'>.</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span> <span class='ignore'>=</span> <span class='exclcommand'>\textwidth</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>RGB565.pdf</span><span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>RGB565</span> <span class='word3'>pixel</span> <span class='word3'>format</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>RGB565</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
<span class='word1'>The</span> <span class='word1'>camera</span> <span class='word1'>must</span> <span class='word1'>use</span> <span class='word1'>a</span> <span class='word1'>high</span> <span class='word1'>speed</span> <span class='word1'>clock</span> <span class='word1'>in</span> <span class='word1'>order</span> <span class='word1'>to</span> <span class='word1'>ensure</span> <span class='word1'>the</span> <span class='word1'>pixels</span> <span class='word1'>obtained</span> <span class='word1'>are</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>same</span> <span class='word1'>time</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>makes</span> <span class='word1'>it</span> <span class='word1'>difficult</span> <span class='word1'>for</span> <span class='word1'>an</span> <span class='word1'>ATMega</span> <span class='ignore'>(</span><span class='word1'>typically</span> <span class='word1'>clocked</span> <span class='word1'>at</span> <span class='word1'>8-12MHz</span><span class='ignore'>)</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>able</span> <span class='word1'>to</span> <span class='word1'>respond</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>camera</span> <span class='word1'>quickly</span> <span class='word1'>enough</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>highlights</span> <span class='word1'>the</span> <span class='word1'>necessity</span> <span class='word1'>for</span> <span class='word1'>a</span> <span class='word1'>FIFO</span> <span class='word1'>Buffer</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>The</span> <span class='word1'>OV7670</span> <span class='word1'>is</span> <span class='word1'>set</span> <span class='word1'>up</span> <span class='word1'>so</span> <span class='word1'>that</span> <span class='word1'>the</span> <span class='word1'>VSYNC</span> <span class='word1'>pin</span> <span class='word1'>goes</span> <span class='word1'>low</span> <span class='word1'>at</span> <span class='word1'>the</span> <span class='word1'>beginning</span> <span class='word1'>of</span> <span class='word1'>every</span> <span class='word1'>frame</span> <span class='word1'>of</span> <span class='word1'>data</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>HREF</span> <span class='word1'>is</span> <span class='word1'>high</span> <span class='word1'>when</span> <span class='word1'>the</span> <span class='word1'>output</span> <span class='word1'>data</span> <span class='word1'>is</span> <span class='word1'>valid</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>pixel</span> <span class='word1'>data</span> <span class='word1'>is</span> <span class='word1'>then</span> <span class='word1'>clocked</span> <span class='word1'>out</span> <span class='word1'>on</span> <span class='word1'>every</span> <span class='word1'>rising</span> <span class='word1'>edge</span> <span class='word1'>of</span> <span class='word1'>PCLK</span><span class='ignore'>.</span> <span class='word1'>To</span> <span class='word1'>control</span> <span class='word1'>the</span> <span class='word1'>buffer</span><span class='ignore'>,</span> <span class='word1'>WEN</span> <span class='word1'>is</span> <span class='word1'>logically</span> <span class='word1'>NAND</span> <span class='word1'>with</span> <span class='word1'>the</span> <span class='word1'>HREF</span> <span class='word1'>signal</span><span class='ignore'>.</span> <span class='word1'>When</span> <span class='word1'>both</span> <span class='word1'>are</span> <span class='word1'>high</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>WEN</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>buffer</span> <span class='word1'>will</span> <span class='word1'>be</span> <span class='word1'>active</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>data</span> <span class='word1'>will</span> <span class='word1'>be</span> <span class='word1'>clocked</span> <span class='word1'>in</span> <span class='word1'>by</span> <span class='word1'>the</span> <span class='word1'>camera</span> <span class='word1'>into</span> <span class='word1'>the</span> <span class='word1'>buffer</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>In</span> <span class='word1'>order</span> <span class='word1'>to</span> <span class='word1'>store</span> <span class='word1'>a</span> <span class='word1'>full</span> <span class='word1'>image</span> <span class='word1'>into</span> <span class='word1'>the</span> <span class='word1'>buffer</span><span class='ignore'>,</span> <span class='word1'>WEN</span> <span class='word1'>must</span> <span class='word1'>be</span> <span class='word1'>high</span> <span class='word1'>between</span> <span class='word1'>two</span> <span class='word1'>consecutive</span> <span class='word1'>VSYNC</span> <span class='word1'>pulses</span><span class='ignore'>.</span> <span class='word1'>VSYNC</span> <span class='word1'>is</span> <span class='word1'>set</span> <span class='word1'>up</span> <span class='word1'>to</span> <span class='word1'>interrupt</span> <span class='word1'>the</span> <span class='word1'>AVR</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>a</span> <span class='word1'>small</span> <span class='word1'>state</span> <span class='word1'>machine</span> <span class='word1'>is</span> <span class='word1'>implemented</span> <span class='word1'>to</span> <span class='word1'>count</span> <span class='word1'>VSYNC</span> <span class='word1'>pulses</span> <span class='word1'>and</span> <span class='word1'>control</span> <span class='word1'>WEN</span> <span class='word1'>correctly</span><span class='ignore'>.</span> <span class='word1'>After</span> <span class='word1'>the</span> <span class='word1'>WEN</span> <span class='word1'>signal</span> <span class='word1'>is</span> <span class='word1'>pulsed</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>FIFO</span> <span class='word1'>buffer</span> <span class='word1'>will</span> <span class='word1'>contain</span> <span class='word1'>all</span> <span class='word1'>the</span> <span class='word1'>valid</span> <span class='word1'>pixel</span> <span class='word1'>data</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>To</span> <span class='word1'>obtain</span> <span class='word1'>the</span> <span class='word1'>image</span> <span class='word1'>data</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>FIFO</span> <span class='word1'>buffer</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>AVR</span> <span class='word1'>sets</span> <span class='word1'>output</span> <span class='word1'>enable</span> <span class='word1'>low</span> <span class='word1'>and</span> <span class='word1'>pulses</span> <span class='word1'>the</span> <span class='word1'>read</span> <span class='word1'>clock</span><span class='ignore'>.</span> <span class='word1'>Valid</span> <span class='word1'>data</span> <span class='word1'>is</span> <span class='word1'>available</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>data</span> <span class='word1'>port</span> <span class='word1'>while</span> <span class='word1'>RCLK</span> <span class='word1'>is</span> <span class='word1'>high</span><span class='ignore'>.</span> <span class='word1'>All</span> <span class='word1'>the</span> <span class='word1'>data</span> <span class='word1'>is</span> <span class='word1'>then</span> <span class='word1'>read</span> <span class='word1'>8</span> <span class='word1'>bits</span> <span class='word1'>at</span> <span class='word1'>a</span> <span class='word1'>time</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>After</span> <span class='word1'>the</span> <span class='word1'>data</span> <span class='word1'>has</span> <span class='word1'>been</span> <span class='word1'>read</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>buffer</span> <span class='word1'>is</span> <span class='word1'>reset</span> <span class='word1'>by</span> <span class='word1'>asserting</span> <span class='word1'>the</span> <span class='word1'>read</span> <span class='word1'>reset</span> <span class='ignore'>(</span><span class='word1'>RRST</span><span class='ignore'>)</span> <span class='word1'>and</span> <span class='word1'>write</span> <span class='word1'>reset</span> <span class='ignore'>(</span><span class='word1'>WRST</span><span class='ignore'>)</span> <span class='word1'>signals</span> <span class='word1'>for</span> <span class='word1'>at</span> <span class='word1'>least</span> <span class='word1'>one</span> <span class='word1'>clock</span> <span class='word1'>cycle</span> <span class='word1'>of</span> <span class='word1'>RCLK</span> <span class='word1'>or</span> <span class='word1'>PCLK</span> <span class='word1'>respectively</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>entire</span> <span class='word1'>operation</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>ov</span><span class='ignore'>_</span><span class='ignore'>Capture</span><span class='ignore'>}</span> <span class='word1'>and</span> <span class='word1'>a</span> <span class='word1'>hierarchical</span> <span class='word1'>diagram</span> <span class='word1'>of</span> <span class='word1'>this</span> <span class='word1'>is</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>cam</span><span class='ignore'>:</span><span class='ignore'>heir</span><span class='ignore'>}</span><span class='ignore'>.</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span> <span class='ignore'>=</span> <span class='exclcommand'>\textwidth</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>ov7670</span><span class='ignore'>_</span><span class='ignore'>im</span><span class='ignore'>_</span><span class='ignore'>capture.png</span><span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Signals</span> <span class='word3'>generated</span> <span class='word3'>to</span> <span class='word3'>control</span> <span class='word3'>the</span> <span class='word3'>OV7670</span> <span class='word3'>capture</span> <span class='word3'>and</span> <span class='word3'>read</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>ov</span><span class='ignore'>_</span><span class='ignore'>Capture</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>Camera</span><span class='ignore'>_</span><span class='ignore'>Hierarchy.pdf</span><span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Hierarchical</span> <span class='word3'>diagram</span> <span class='word3'>of</span> <span class='word3'>the</span> <span class='word3'>single</span> <span class='word3'>camera</span> <span class='word3'>operation</span> <span class='word3'>showing</span> <span class='word3'>signals</span> <span class='word3'>between</span> <span class='word3'>the</span> <span class='word3'>camera</span><span class='ignore'>,</span> <span class='word3'>FIFO</span> <span class='word3'>buffer</span> <span class='word3'>and</span> <span class='word3'>the</span> <span class='word3'>microcontroller</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>cam</span><span class='ignore'>:</span><span class='ignore'>heir</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
<span class='word1'>Difficulties</span> <span class='word1'>arose</span> <span class='word1'>at</span> <span class='word1'>this</span> <span class='word1'>point</span> <span class='word1'>with</span> <span class='word1'>the</span> <span class='word1'>storage</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>data</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>ATMega644P</span> <span class='word1'>has</span> <span class='word1'>4kB</span> <span class='word1'>of</span> <span class='word1'>internal</span> <span class='word1'>SRAM</span><span class='ignore'>,</span> <span class='word1'>but</span>&nbsp; <span class='word1'>153.6kB</span> <span class='word1'>of</span> <span class='word1'>memory</span> <span class='word1'>is</span> <span class='word1'>needed</span> <span class='word1'>to</span> <span class='word1'>store</span> <span class='word1'>a</span> <span class='word1'>single</span> <span class='word1'>image</span> <span class='word1'>at</span> <span class='word1'>QVGA</span> <span class='ignore'>(</span><span class='word1'>320</span> <span class='word1'>by</span> <span class='word1'>240</span> <span class='word1'>pixels</span><span class='ignore'>,</span> <span class='word1'>2</span> <span class='word1'>bytes</span> <span class='word1'>per</span> <span class='word1'>pixel</span><span class='ignore'>)</span> <span class='word1'>quality</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>Firstly</span><span class='ignore'>,</span> <span class='word1'>data</span> <span class='word1'>was</span> <span class='word1'>sent</span> <span class='word1'>to</span> <span class='word1'>a</span> <span class='word1'>desktop</span> <span class='word1'>computer</span> <span class='word1'>by</span> <span class='word1'>USART</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>simple</span> <span class='word1'>program</span> <span class='word1'>was</span> <span class='word1'>written</span> <span class='word1'>in</span> <span class='word1'>C</span><span class='command'>\#</span> <span class='word1'>to</span> <span class='word1'>receive</span> <span class='word1'>and</span> <span class='word1'>store</span> <span class='word1'>all</span> <span class='word1'>the</span> <span class='word1'>data</span> <span class='word1'>as</span> <span class='word1'>a</span> <span class='word1'>Bitmap</span> <span class='word1'>image</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>method</span> <span class='word1'>was</span> <span class='word1'>slow</span><span class='ignore'>,</span> <span class='word1'>taking</span> <span class='word1'>around</span> <span class='word1'>30</span> <span class='word1'>seconds</span> <span class='word1'>to</span> <span class='word1'>transmit</span> <span class='word1'>one</span> <span class='word1'>uncompressed</span> <span class='word1'>image</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>The</span> <span class='word1'>second</span> <span class='word1'>option</span> <span class='word1'>was</span> <span class='word1'>to</span> <span class='word1'>use</span> <span class='word1'>extra</span> <span class='word1'>memory</span> <span class='word1'>connected</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>microcontroller</span><span class='ignore'>.</span> <span class='word1'>An</span> <span class='word1'>SD</span> <span class='word1'>card</span> <span class='word1'>was</span> <span class='word1'>used</span> <span class='word1'>as</span> <span class='word1'>FAT</span> <span class='word1'>file</span> <span class='word1'>system</span> <span class='word1'>so</span> <span class='word1'>the</span> <span class='word1'>memory</span> <span class='word1'>card</span> <span class='word1'>was</span> <span class='word1'>usable</span> <span class='word1'>on</span> <span class='word1'>a</span> <span class='word1'>computer</span><span class='ignore'>.</span> <span class='word1'>Text</span> <span class='word1'>log</span> <span class='word1'>files</span> <span class='word1'>were</span> <span class='word1'>also</span> <span class='word1'>written</span> <span class='word1'>to</span> <span class='word1'>aid</span> <span class='word1'>debugging</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>is</span> <span class='word1'>discussed</span> <span class='word1'>in</span> <span class='word1'>Section</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>SDCard</span><span class='ignore'>}</span><span class='ignore'>.</span> <br>
<br>
<span class='command'>\subsection</span><span class='ignore'>{</span><span class='word2'>Dual</span> <span class='word2'>Camera</span> <span class='word2'>Operation</span><span class='ignore'>}</span><br>
<span class='word1'>In</span> <span class='word1'>order</span> <span class='word1'>for</span> <span class='word1'>stereovision</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>successful</span><span class='ignore'>,</span> <span class='word1'>two</span> <span class='word1'>cameras</span> <span class='word1'>separated</span> <span class='word1'>by</span> <span class='word1'>a</span> <span class='word1'>horizontal</span> <span class='word1'>distance</span> <span class='ignore'>(</span><span class='mathgroup'>$</span><span class='ignore'>B</span><span class='mathgroup'>$</span><span class='ignore'>)</span> <span class='word1'>will</span> <span class='word1'>need</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>driven</span> <span class='word1'>at</span> <span class='word1'>the</span> <span class='word1'>same</span> <span class='word1'>time</span> <span class='word1'>to</span> <span class='word1'>obtain</span> <span class='word1'>photos</span> <span class='word1'>within</span> <span class='word1'>a</span> <span class='word1'>small</span> <span class='word1'>time</span> <span class='word1'>frame</span> <span class='word1'>of</span> <span class='word1'>one</span> <span class='word1'>another</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>A</span> <span class='word1'>major</span> <span class='word1'>problem</span> <span class='word1'>occurred</span> <span class='word1'>with</span> <span class='word1'>using</span> <span class='word1'>the</span> <span class='command'>\itc</span> <span class='word1'>interface</span> <span class='word1'>to</span> <span class='word1'>set</span> <span class='word1'>up</span> <span class='word1'>both</span> <span class='word1'>cameras</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>camera</span> <span class='word1'>has</span> <span class='word1'>an</span> <span class='command'>\itc</span> <span class='word1'>address</span> <span class='word1'>of</span> <span class='mathgroup'>$</span><span class='ignore'>21</span><span class='ignore'>_</span><span class='ignore'>{16}</span><span class='mathgroup'>$</span><span class='ignore'>,</span> <span class='word1'>which</span> <span class='word1'>cannot</span> <span class='word1'>be</span> <span class='word1'>changed</span><span class='ignore'>.</span> <span class='word1'>Multiple</span> <span class='command'>\itc</span> <span class='word1'>devices</span> <span class='word1'>with</span> <span class='word1'>exactly</span> <span class='word1'>the</span> <span class='word1'>same</span> <span class='word1'>address</span> <span class='word1'>cannot</span> <span class='word1'>be</span> <span class='word1'>used</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>same</span> <span class='word1'>bus</span><span class='ignore'>.</span> <br>
<span class='word1'>Two</span> <span class='word1'>solutions</span> <span class='word1'>to</span> <span class='word1'>this</span> <span class='word1'>are</span> <span class='word1'>possible</span><span class='ignore'>:</span> <span class='word1'>driving</span> <span class='word1'>one</span> <span class='word1'>from</span> <span class='mathgroup'>$</span><span class='ignore'>I</span><span class='ignore'>^</span><span class='ignore'>{2}C</span><span class='mathgroup'>$</span> <span class='word1'>and</span> <span class='word1'>one</span> <span class='word1'>from</span> <span class='word1'>SCCB</span><span class='ignore'>,</span> <span class='word1'>or</span> <span class='word1'>using</span> <span class='word1'>an</span> <span class='command'>\itc</span> <span class='word1'>multiplexer</span><span class='ignore'>.</span> <span class='word1'>By</span> <span class='word1'>using</span> <span class='word1'>two</span> <span class='word1'>different</span> <span class='word1'>buses</span> <span class='word1'>the</span> <span class='word1'>cameras</span> <span class='word1'>will</span> <span class='word1'>be</span> <span class='word1'>individually</span> <span class='word1'>addressable</span><span class='ignore'>.</span> <span class='word1'>However</span><span class='ignore'>,</span> <span class='word1'>SCCB</span> <span class='word1'>is</span> <span class='word1'>slow</span> <span class='word1'>and</span> <span class='word1'>processor-hungry</span> <span class='word1'>as</span> <span class='word1'>it</span> <span class='word1'>is</span> <span class='word1'>software</span> <span class='word1'>driven</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>takes</span> <span class='word1'>up</span> <span class='word1'>program</span> <span class='word1'>memory</span> <span class='word1'>and</span> <span class='word1'>is</span> <span class='word1'>not</span> <span class='word1'>reusable</span> <span class='word1'>for</span> <span class='word1'>other</span> <span class='word1'>operations</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>An</span> <span class='command'>\itc</span> <span class='word1'>multiplexer</span> <span class='word1'>sits</span> <span class='word1'>on</span> <span class='word1'>one</span> <span class='command'>\itc</span> <span class='word1'>bus</span> <span class='word1'>and</span> <span class='word1'>has</span> <span class='word1'>multiple</span> <span class='word1'>output</span> <span class='word1'>buses</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>master</span> <span class='word1'>can</span> <span class='word1'>then</span> <span class='word1'>address</span> <span class='word1'>the</span> <span class='word1'>multiplexer</span> <span class='word1'>and</span> <span class='word1'>select</span> <span class='word1'>whether</span> <span class='word1'>to</span> <span class='word1'>pass</span> <span class='word1'>the</span> <span class='word1'>bus</span> <span class='word1'>to</span> <span class='word1'>channel</span> <span class='word1'>0</span><span class='ignore'>,</span> <span class='word1'>channel</span> <span class='word1'>1</span> <span class='word1'>or</span> <span class='word1'>not</span> <span class='word1'>allow</span> <span class='word1'>the</span> <span class='word1'>data</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>transferred</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>saves</span> <span class='word1'>processor</span> <span class='word1'>time</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>means</span> <span class='word1'>a</span> <span class='word1'>write</span> <span class='word1'>operation</span> <span class='word1'>has</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>done</span> <span class='word1'>to</span> <span class='word1'>select</span> <span class='word1'>the</span> <span class='word1'>camera</span> <span class='word1'>bus</span> <span class='word1'>before</span> <span class='word1'>being</span> <span class='word1'>able</span> <span class='word1'>to</span> <span class='word1'>write</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>camera</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>slows</span> <span class='word1'>down</span> <span class='word1'>the</span> <span class='word1'>operation</span> <span class='word1'>slightly</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>not</span> <span class='word1'>as</span> <span class='word1'>much</span> <span class='word1'>as</span> <span class='word1'>using</span> <span class='word1'>SCCB</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>main</span> <span class='word1'>disadvantage</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='command'>\itc</span> <span class='word1'>multiplexer</span> <span class='word1'>is</span> <span class='word1'>the</span> <span class='word1'>extra</span> <span class='word1'>hardware</span> <span class='word1'>needed</span><span class='ignore'>;</span> <span class='word1'>firstly</span> <span class='word1'>the</span> <span class='word1'>multiplexer</span> <span class='word1'>itself</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>also</span> <span class='word1'>7</span> <span class='word1'>extra</span> <span class='word1'>resistors</span> <span class='word1'>must</span> <span class='word1'>be</span> <span class='word1'>added</span> <span class='word1'>to</span> <span class='word1'>pull</span> <span class='word1'>up</span> <span class='word1'>the</span> <span class='word1'>two</span> <span class='word1'>extra</span> <span class='word1'>buses</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>three</span> <span class='word1'>interrupt</span> <span class='word1'>lines</span> <span class='word1'>which</span> <span class='word1'>aren't</span> <span class='word1'>used</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>Overall</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>disadvantages</span> <span class='word1'>posed</span> <span class='word1'>by</span> <span class='word1'>using</span> <span class='word1'>a</span> <span class='word1'>multiplexer</span> <span class='word1'>are</span> <span class='word1'>small</span><span class='ignore'>,</span> <span class='word1'>so</span> <span class='word1'>it</span> <span class='word1'>was</span> <span class='word1'>used</span> <span class='word1'>as</span> <span class='word1'>opposed</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>SCCB</span> <span class='word1'>interface</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>suitable</span> <span class='word1'>multiplexer</span> <span class='word1'>is</span> <span class='word1'>the</span> <span class='word1'>Phillips</span> <span class='word1'>PCA9542A</span> <span class='command'>\citep</span><span class='ignore'>{</span><span class='ignore'>I2C</span><span class='ignore'>_</span><span class='ignore'>Mux</span><span class='ignore'>}</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>The</span> <span class='word1'>buffers</span> <span class='word1'>have</span> <span class='word1'>an</span> <span class='word1'>output</span> <span class='word1'>enable</span> <span class='word1'>pin</span> <span class='word1'>so</span> <span class='word1'>the</span> <span class='word1'>data</span> <span class='word1'>bus</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>shared</span> <span class='word1'>by</span> <span class='word1'>both</span> <span class='word1'>cameras</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>AVR</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>ATMega644P</span> <span class='word1'>offers</span> <span class='word1'>three</span> <span class='word1'>interrupt</span> <span class='word1'>pins</span><span class='ignore'>,</span> <span class='word1'>two</span> <span class='word1'>of</span> <span class='word1'>which</span> <span class='word1'>are</span> <span class='word1'>used</span> <span class='word1'>by</span> <span class='word1'>the</span> <span class='word1'>two</span> <span class='word1'>VSYNC</span> <span class='word1'>pins</span> <span class='word1'>for</span> <span class='word1'>the</span> <span class='word1'>cameras</span> <span class='word1'>to</span> <span class='word1'>drive</span> <span class='word1'>two</span> <span class='word1'>individual</span> <span class='word1'>ISRs</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>The</span> <span class='word1'>operation</span> <span class='word1'>to</span> <span class='word1'>read</span> <span class='word1'>an</span> <span class='word1'>image</span> <span class='word1'>is</span> <span class='word1'>identical</span> <span class='word1'>to</span> <span class='word1'>using</span> <span class='word1'>one</span> <span class='word1'>camera</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>code</span> <span class='word1'>was</span> <span class='word1'>duplicated</span> <span class='word1'>so</span> <span class='word1'>that</span> <span class='word1'>the</span> <span class='word1'>two</span> <span class='word1'>cameras</span> <span class='word1'>were</span> <span class='word1'>accessed</span> <span class='word1'>individually</span><span class='ignore'>.</span> <span class='word1'>Care</span> <span class='word1'>was</span> <span class='word1'>taken</span> <span class='word1'>to</span> <span class='word1'>avoid</span> <span class='word1'>any</span> <span class='word1'>bus</span> <span class='word1'>contention</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>data</span> <span class='word1'>bus</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>no</span> <span class='word1'>checking</span> <span class='word1'>was</span> <span class='word1'>explicitly</span> <span class='word1'>done</span><span class='ignore'>.</span> <span class='word1'>When</span> <span class='word1'>taking</span> <span class='word1'>a</span> <span class='word1'>photo</span><span class='ignore'>,</span> <span class='word1'>both</span> <span class='word1'>frames</span> <span class='word1'>are</span> <span class='word1'>taken</span> <span class='word1'>at</span> <span class='word1'>a</span> <span class='word1'>time</span> <span class='word1'>period</span> <span class='word1'>close</span> <span class='word1'>together</span> <span class='word1'>to</span> <span class='word1'>capture</span> <span class='word1'>the</span> <span class='word1'>same</span> <span class='word1'>scenario</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>data</span> <span class='word1'>can</span> <span class='word1'>then</span> <span class='word1'>be</span> <span class='word1'>read</span> <span class='word1'>in</span> <span class='word1'>either</span> <span class='word1'>order</span> <span class='word1'>and</span> <span class='word1'>stored</span><span class='ignore'>.</span><br>
<br>
<span class='command'>\section</span><span class='ignore'>{</span><span class='word2'>SD</span> <span class='word2'>Card</span><span class='ignore'>}</span> <span class='command'>\label</span><span class='ignore'>{</span><span class='ignore'>sect</span><span class='ignore'>:</span><span class='ignore'>SDCard</span><span class='ignore'>}</span><br>
<br>
<span class='word1'>An</span> <span class='word1'>SD</span> <span class='word1'>card</span> <span class='word1'>was</span> <span class='word1'>chosen</span> <span class='word1'>due</span> <span class='word1'>to</span> <span class='word1'>its</span> <span class='word1'>small</span> <span class='word1'>size</span><span class='ignore'>,</span> <span class='word1'>low</span> <span class='word1'>cost</span> <span class='word1'>and</span> <span class='word1'>a</span> <span class='word1'>large</span> <span class='word1'>data</span> <span class='word1'>storage</span><span class='ignore'>.</span> <br>
<span class='comment'>%Smaller variants also exist, the mini and micro SD. </span><br>
<span class='word1'>The</span> <span class='word1'>cards</span> <span class='word1'>work</span> <span class='word1'>using</span> <span class='word1'>an</span> <span class='word1'>SPI</span> <span class='word1'>bus</span> <span class='word1'>which</span> <span class='word1'>can</span> <span class='word1'>also</span> <span class='word1'>be</span> <span class='word1'>used</span> <span class='word1'>for</span> <span class='word1'>other</span> <span class='word1'>devices</span> <span class='word1'>within</span> <span class='word1'>the</span> <span class='word1'>system</span><span class='ignore'>.</span> <span class='word1'>For</span> <span class='word1'>the</span> <span class='word1'>prototyping</span> <span class='word1'>stage</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>FATFS</span> <span class='word1'>library</span> <span class='command'>\citep</span><span class='ignore'>{FATFS}</span> <span class='word1'>was</span> <span class='word1'>used</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>supplied</span> <span class='word1'>all</span> <span class='word1'>basic</span> <span class='word1'>read</span> <span class='word1'>and</span> <span class='word1'>write</span> <span class='word1'>operations</span> <span class='word1'>for</span> <span class='word1'>the</span> <span class='word1'>SD</span> <span class='word1'>card</span><span class='ignore'>.</span> <span class='word1'>For</span> <span class='word1'>the</span> <span class='word1'>AT32</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>ASF</span> <span class='word1'>supplied</span> <span class='word1'>a</span> <span class='word1'>more</span> <span class='word1'>comprehensive</span> <span class='word1'>FAT</span> <span class='word1'>library</span> <span class='word1'>and</span> <span class='word1'>was</span> <span class='word1'>used</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>final</span> <span class='word1'>product</span><span class='ignore'>.</span><br>
<br>
<span class='command'>\subsection</span><span class='ignore'>{</span><span class='word2'>Storing</span> <span class='word2'>Images</span><span class='ignore'>}</span><br>
<br>
<span class='word1'>Many</span> <span class='word1'>image</span> <span class='word1'>formats</span> <span class='word1'>are</span> <span class='word1'>common</span><span class='ignore'>,</span> <span class='word1'>such</span> <span class='word1'>as</span> <span class='word1'>Joint</span> <span class='word1'>Photographic</span> <span class='word1'>Expert</span> <span class='word1'>Group</span> <span class='ignore'>(</span><span class='word1'>JPEG</span><span class='ignore'>)</span><span class='ignore'>,</span> <span class='word1'>Portable</span> <span class='word1'>Network</span> <span class='word1'>Graphics</span> <span class='ignore'>(</span><span class='word1'>PNG</span><span class='ignore'>)</span><span class='ignore'>,</span> <span class='word1'>Bitmap</span> <span class='ignore'>(</span><span class='word1'>BMP</span><span class='ignore'>)</span> <span class='word1'>and</span> <span class='word1'>Graphics</span> <span class='word1'>Interchange</span> <span class='word1'>Format</span> <span class='ignore'>(</span><span class='word1'>GIF</span><span class='ignore'>)</span><span class='ignore'>.</span> <span class='word1'>Table</span> <span class='command'>\ref</span><span class='ignore'>{ImageFormats}</span> <span class='word1'>shows</span> <span class='word1'>a</span> <span class='word1'>summary</span> <span class='word1'>of</span> <span class='word1'>these</span> <span class='word1'>common</span> <span class='word1'>image</span> <span class='word1'>formats</span><span class='ignore'>.</span><br>
<br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{table}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Comparison</span> <span class='word3'>of</span> <span class='word3'>different</span> <span class='word3'>image</span> <span class='word3'>formats</span> <span class='word3'>available</span> <span class='command'>\citep</span><span class='ignore'>{ImageComparison}</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{ImageFormats}</span><br>
<span class='exclgroup'>\begin</span><span class='exclgroup'>{tabular}</span><span class='ignore'>{</span><span class='ignore'>p{3cm}p{2cm}p{2cm}p{2cm}p{2cm}</span><span class='ignore'>}</span> <span class='exclcommand'>\toprule</span><br>
			<span class='ignore'>&amp;</span>	<span class='exclcommand'>\textbf</span><span class='ignore'>{Bitmap}</span>&nbsp; 	<span class='ignore'>&amp;</span>&nbsp; <span class='exclcommand'>\textbf</span><span class='ignore'>{JPEG}</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='exclcommand'>\textbf</span><span class='ignore'>{PNG}</span>&nbsp; &nbsp; <span class='ignore'>&amp;</span>&nbsp; <span class='exclcommand'>\textbf</span><span class='ignore'>{GIF}</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\toprule</span><br>
<span class='ignore'>Extension</span>&nbsp; 	<span class='ignore'>&amp;</span>&nbsp; <span class='ignore'>*</span><span class='ignore'>.</span><span class='ignore'>bmp</span>&nbsp; 	<span class='ignore'>&amp;</span>&nbsp; 	<span class='ignore'>*</span><span class='ignore'>.</span><span class='ignore'>jpg</span> <span class='ignore'>/</span><span class='ignore'>*</span><span class='ignore'>.</span><span class='ignore'>jpeg</span>&nbsp; 	<span class='ignore'>&amp;</span>&nbsp; <span class='ignore'>*</span><span class='ignore'>.</span><span class='ignore'>png</span>&nbsp; &nbsp; <span class='ignore'>&amp;</span>&nbsp; <span class='ignore'>*</span><span class='ignore'>.</span><span class='ignore'>gif</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>Compression</span>&nbsp; <span class='ignore'>&amp;</span>&nbsp; <span class='ignore'>No</span>&nbsp; &nbsp; <span class='ignore'>&amp;</span>&nbsp; <span class='ignore'>Lossless</span>&nbsp; <span class='ignore'>and</span> <span class='ignore'>Lossy</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>Lossless</span> <span class='ignore'>ZIP</span>&nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>Lossy</span>	<span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>File</span> <span class='ignore'>Size</span> <span class='ignore'>of</span> <span class='ignore'>320</span> <span class='ignore'>by</span> <br>
<span class='ignore'>240</span> <span class='ignore'>pixel</span> <span class='ignore'>Image</span> <span class='ignore'>(</span><span class='ignore'>kB</span><span class='ignore'>)</span> <span class='ignore'>&amp;</span>	<span class='ignore'>225</span>&nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>20</span>&nbsp; &nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>23</span>&nbsp; &nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>24</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>Bits</span> <span class='ignore'>per</span> <span class='ignore'>Pixel</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>8</span><span class='ignore'>,</span> <span class='ignore'>16</span><span class='ignore'>,</span> <span class='ignore'>24</span> <span class='ignore'>or</span> <span class='ignore'>32</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>24</span>&nbsp; &nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>24</span><span class='ignore'>,</span> <span class='ignore'>32</span> <span class='ignore'>or</span> <span class='ignore'>48</span>&nbsp; &nbsp; <span class='ignore'>&amp;</span>&nbsp; <span class='ignore'>24</span><span class='ignore'>,</span> <span class='ignore'>but</span> <span class='ignore'>only</span> <span class='ignore'>256</span> <span class='ignore'>Colours</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\bottomrule</span><br>
<span class='exclgroup'>\end</span><span class='exclgroup'>{tabular}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{table}</span><br>
<br>
<span class='word1'>It</span> <span class='word1'>is</span> <span class='word1'>clear</span> <span class='word1'>that</span> <span class='word1'>the</span> <span class='word1'>best</span> <span class='word1'>choice</span> <span class='word1'>for</span> <span class='word1'>images</span> <span class='word1'>would</span> <span class='word1'>be</span> <span class='word1'>either</span> <span class='word1'>PNG</span> <span class='word1'>or</span> <span class='word1'>JPEG</span><span class='ignore'>.</span> <span class='word1'>However</span><span class='ignore'>,</span> <span class='word1'>these</span> <span class='word1'>require</span> <span class='word1'>more</span> <span class='word1'>computational</span> <span class='word1'>time</span> <span class='word1'>to</span> <span class='word1'>compress</span> <span class='word1'>the</span> <span class='word1'>image</span> <span class='word1'>into</span> <span class='word1'>the</span> <span class='word1'>correct</span> <span class='word1'>format</span><span class='ignore'>.</span> <span class='word1'>To</span> <span class='word1'>avoid</span> <span class='word1'>compression</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>thereby</span> <span class='word1'>save</span> <span class='word1'>processing</span> <span class='word1'>time</span><span class='ignore'>,</span> <span class='word1'>bitmap</span> <span class='word1'>was</span> <span class='word1'>chosen</span> <span class='word1'>at</span> <span class='word1'>the</span> <span class='word1'>expense</span> <span class='word1'>of</span> <span class='word1'>using</span> <span class='word1'>more</span> <span class='word1'>memory</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>data</span> <span class='word1'>in</span> <span class='word1'>a</span> <span class='word1'>bitmap</span> <span class='word1'>image</span> <span class='word1'>is</span> <span class='word1'>also</span> <span class='word1'>stored</span> <span class='word1'>in</span> <span class='word1'>RGB</span> <span class='word1'>format</span> <span class='word1'>so</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>read</span> <span class='word1'>back</span> <span class='word1'>easily</span> <span class='word1'>when</span> <span class='word1'>processing</span> <span class='word1'>the</span> <span class='word1'>image</span><span class='ignore'>.</span> <span class='word1'>Appendix</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>Chapter</span><span class='ignore'>:</span><span class='ignore'>AppendixB</span><span class='ignore'>:</span><span class='ignore'>BMPFile</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>the</span> <span class='word1'>make</span> <span class='word1'>up</span> <span class='word1'>of</span> <span class='word1'>a</span> <span class='word1'>bitmap</span> <span class='word1'>file</span> <span class='word1'>that</span> <span class='word1'>was</span> <span class='word1'>used</span><span class='ignore'>.</span><br>
<br>
<span class='comment'>%By writing the image in this format, they are then able to be opened on any operating system. </span><br>
<span class='word1'>Storing</span> <span class='word1'>the</span> <span class='word1'>image</span> <span class='word1'>as</span> <span class='word1'>a</span> <span class='word1'>bitmap</span> <span class='word1'>enables</span> <span class='word1'>the</span> <span class='word1'>file</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>opened</span> <span class='word1'>on</span> <span class='word1'>a</span> <span class='word1'>range</span> <span class='word1'>of</span> <span class='word1'>operating</span> <span class='word1'>systems</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>aids</span> <span class='word1'>debugging</span> <span class='word1'>and</span> <span class='word1'>allows</span> <span class='word1'>the</span> <span class='word1'>prototyping</span> <span class='word1'>of</span> <span class='word1'>image</span> <span class='word1'>algorithms</span> <span class='word1'>in</span> <span class='word1'>a</span> <span class='word1'>more</span> <span class='word1'>powerful</span> <span class='word1'>environment</span><span class='ignore'>.</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{ExampleImage}</span> <span class='word1'>shows</span> <span class='word1'>a</span> <span class='word1'>photo</span> <span class='word1'>taken</span> <span class='word1'>by</span> <span class='word1'>the</span> <span class='word1'>OV7670</span> <span class='word1'>and</span> <span class='word1'>stored</span> <span class='word1'>on</span> <span class='word1'>a</span> <span class='word1'>SD</span> <span class='word1'>card</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>quality</span> <span class='word1'>is</span> <span class='word1'>not</span> <span class='word1'>professional</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>all</span> <span class='word1'>features</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>colour</span> <span class='word1'>is</span> <span class='word1'>accurate</span> <span class='word1'>and</span> <span class='word1'>large</span> <span class='word1'>text</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>read</span> <span class='word1'>at</span> <span class='word1'>a</span> <span class='word1'>small</span> <span class='word1'>distance</span><span class='ignore'>.</span> <span class='word1'>Though</span> <span class='word1'>the</span> <span class='word1'>images</span> <span class='word1'>were</span> <span class='word1'>able</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>opened</span> <span class='word1'>in</span> <span class='word1'>most</span> <span class='word1'>programs</span><span class='ignore'>,</span> <span class='word1'>MATLAB</span> <span class='word1'>gave</span> <span class='word1'>errors</span> <span class='word1'>when</span> <span class='word1'>reading</span> <span class='word1'>the</span> <span class='word1'>bitmaps</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>could</span> <span class='word1'>be</span> <span class='word1'>avoided</span> <span class='word1'>by</span> <span class='word1'>opening</span> <span class='word1'>and</span> <span class='word1'>resaving</span> <span class='word1'>the</span> <span class='word1'>images</span> <span class='word1'>as</span> <span class='word1'>a</span> <span class='word1'>bitmap</span> <span class='word1'>in</span> <span class='word1'>MS</span> <span class='word1'>Paint</span><span class='ignore'>.</span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclgroup'>\begin</span><span class='exclgroup'>{center}</span><br>
<span class='exclcommand'>\includegraphics</span><span class='ignore'>{</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>ExampleImageFromCamera.jpg</span><span class='ignore'>}</span> <br>
<span class='exclgroup'>\end</span><span class='exclgroup'>{center}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>An</span> <span class='word3'>example</span> <span class='word3'>image</span> <span class='word3'>taken</span> <span class='word3'>using</span> <span class='word3'>the</span> <span class='word3'>OV7670</span> <span class='word3'>and</span> <span class='word3'>stored</span> <span class='word3'>as</span> <span class='word3'>a</span> <span class='word3'>Bitmap</span> <span class='word3'>on</span> <span class='word3'>the</span> <span class='word3'>SD</span> <span class='word3'>card</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{ExampleImage}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
<span class='command'>\section</span><span class='ignore'>{</span><span class='word2'>The</span> <span class='word2'>Prototypes</span><span class='ignore'>}</span><br>
<br>
<span class='word1'>The</span> <span class='word1'>first</span> <span class='word1'>prototype</span> <span class='word1'>made</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>Prototype</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>obtained</span> <span class='word1'>two</span> <span class='word1'>images</span> <span class='word1'>from</span> <span class='word1'>both</span> <span class='word1'>cameras</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>stored</span> <span class='word1'>them</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>SD</span> <span class='word1'>Card</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>cameras</span> <span class='word1'>shared</span> <span class='word1'>the</span> <span class='word1'>data</span> <span class='word1'>bus</span> <span class='word1'>and</span> <span class='word1'>a</span> <span class='command'>\itc</span> <span class='word1'>multiplexer</span> <span class='word1'>was</span> <span class='word1'>used</span><span class='ignore'>.</span> <span class='word1'>An</span> <span class='word1'>ATMega168</span> <span class='word1'>microcontroller</span> <span class='word1'>was</span> <span class='word1'>added</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>system</span> <span class='word1'>as</span> <span class='word1'>no</span> <span class='word1'>pins</span> <span class='word1'>remained</span> <span class='word1'>for</span> <span class='word1'>debugging</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='command'>\textit</span><span class='ignore'>{</span><span class='word1'>Il</span> <span class='word1'>Matto</span><span class='ignore'>}</span> <span class='word1'>board</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>pinout</span> <span class='word1'>for</span> <span class='word1'>the</span> <span class='word1'>ATMega644P</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Table</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>644Pin</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>ATMega168</span> <span class='word1'>used</span> <span class='word1'>the</span> <span class='word1'>already</span> <span class='word1'>existing</span> <span class='command'>\itc</span> <span class='word1'>bus</span> <span class='word1'>and</span> <span class='word1'>acted</span> <span class='word1'>as</span> <span class='word1'>a</span> <span class='word1'>port</span> <span class='word1'>extender</span> <span class='ignore'>-</span> <span class='word1'>button</span> <span class='word1'>inputs</span> <span class='word1'>were</span> <span class='word1'>read</span> <span class='word1'>and</span> <span class='word1'>status</span> <span class='word1'>LEDs</span> <span class='word1'>were</span> <span class='word1'>written</span> <span class='word1'>to</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>enabled</span> <span class='word1'>a</span> <span class='word1'>debug</span> <span class='word1'>output</span> <span class='word1'>for</span> <span class='word1'>the</span> <span class='word1'>system</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>prototype</span> <span class='word1'>worked</span> <span class='word1'>well</span> <span class='word1'>and</span> <span class='word1'>proved</span> <span class='word1'>the</span> <span class='word1'>camera</span> <span class='word1'>circuit</span> <span class='word1'>worked</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>A</span> <span class='word1'>second</span> <span class='word1'>prototype</span> <span class='word1'>was</span> <span class='word1'>made</span> <span class='word1'>to</span> <span class='word1'>stream</span> <span class='word1'>the</span> <span class='word1'>images</span> <span class='word1'>to</span> <span class='word1'>a</span> <span class='word1'>TFT</span> <span class='word1'>screen</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>Prototype</span><span class='ignore'>:</span><span class='ignore'>TFT</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>provided</span> <span class='word1'>the</span> <span class='word1'>ability</span> <span class='word1'>to</span> <span class='word1'>check</span> <span class='word1'>the</span> <span class='word1'>cameras</span> <span class='word1'>worked</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>gave</span> <span class='word1'>a</span> <span class='word1'>live</span> <span class='word1'>stream</span> <span class='word1'>so</span> <span class='word1'>the</span> <span class='word1'>lens</span> <span class='word1'>could</span> <span class='word1'>be</span> <span class='word1'>focused</span> <span class='word1'>to</span> <span class='word1'>give</span> <span class='word1'>a</span> <span class='word1'>clear</span> <span class='word1'>image</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>refresh</span> <span class='word1'>rate</span> <span class='word1'>of</span> <span class='word1'>a</span> <span class='word1'>full</span> <span class='word1'>image</span> <span class='word1'>was</span> <span class='word1'>slow</span> <span class='ignore'>(</span><span class='mathgroup'>$</span><span class='exclcommand'>\approx</span> <span class='ignore'>0.6fps</span><span class='mathgroup'>$</span><span class='ignore'>)</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>the</span> <span class='word1'>system</span> <span class='word1'>was</span> <span class='word1'>successful</span><span class='ignore'>.</span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{table}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Pin</span> <span class='word3'>connections</span> <span class='word3'>of</span> <span class='word3'>the</span> <span class='word3'>ATMega644P</span> <span class='word3'>for</span> <span class='word3'>dual</span> <span class='word3'>camera</span> <span class='word3'>operation</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>644Pin</span><span class='ignore'>}</span><br>
<span class='exclgroup'>\begin</span><span class='exclgroup'>{tabular}</span><span class='ignore'>{ccccc}</span><span class='exclcommand'>\toprule</span><br>
<span class='exclcommand'>\textbf</span><span class='ignore'>{Pin}</span>	<span class='ignore'>&amp;</span>&nbsp; <span class='exclcommand'>\textbf</span><span class='ignore'>{</span><span class='ignore'>Port</span> <span class='ignore'>A</span><span class='ignore'>}</span>&nbsp; <span class='ignore'>&amp;</span>&nbsp; <span class='exclcommand'>\textbf</span><span class='ignore'>{</span><span class='ignore'>Port</span> <span class='ignore'>B</span><span class='ignore'>}</span>&nbsp; &nbsp; <span class='ignore'>&amp;</span>&nbsp; <span class='exclcommand'>\textbf</span><span class='ignore'>{</span><span class='ignore'>Port</span> <span class='ignore'>C</span><span class='ignore'>}</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>&nbsp; <span class='exclcommand'>\textbf</span><span class='ignore'>{</span><span class='ignore'>Port</span> <span class='ignore'>D</span><span class='ignore'>}</span>&nbsp; 	<span class='exclcommand'>\\</span> <span class='exclcommand'>\toprule</span><br>
<span class='ignore'>0</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>Data</span> <span class='ignore'>0</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>SD</span> <span class='ignore'>Write</span> <span class='ignore'>Protect</span><span class='ignore'>&amp;</span>	<span class='exclcommand'>\itc</span> <span class='ignore'>-</span> <span class='ignore'>SCL</span>&nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>No</span> <span class='ignore'>Connection</span>	<span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>1</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>Data</span> <span class='ignore'>1</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>SD</span> <span class='ignore'>Card</span> <span class='ignore'>Detect</span>	<span class='ignore'>&amp;</span>	<span class='exclcommand'>\itc</span> <span class='ignore'>-</span> <span class='ignore'>SDA</span>&nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>No</span> <span class='ignore'>Connection</span>	<span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>2</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>Data</span> <span class='ignore'>2</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>USB</span> <span class='ignore'>Data</span> <span class='ignore'>Plus</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>Read</span> <span class='ignore'>Clock</span> <span class='ignore'>1</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>VSync</span> <span class='ignore'>0</span>&nbsp; 	<span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>3</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>Data</span> <span class='ignore'>3</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>USB</span> <span class='ignore'>Data</span> <span class='ignore'>Minus</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>Read</span> <span class='ignore'>Reset</span> <span class='ignore'>1</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>VSync</span> <span class='ignore'>1</span>&nbsp; 	<span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>4</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>Data</span> <span class='ignore'>4</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>SPI</span> <span class='ignore'>Chip</span> <span class='ignore'>Select</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>Write</span> <span class='ignore'>Enable</span> <span class='ignore'>1</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>Read</span> <span class='ignore'>Clock</span> <span class='ignore'>0</span>	<span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>5</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>Data</span> <span class='ignore'>5</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>SPI</span>	<span class='ignore'>MOSI</span>&nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>Write</span> <span class='ignore'>Reset</span> <span class='ignore'>1</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>Read</span> <span class='ignore'>Reset</span> <span class='ignore'>0</span>	<span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>6</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>Data</span> <span class='ignore'>6</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>SPI</span> <span class='ignore'>MISO</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>Output</span> <span class='ignore'>Enable</span> <span class='ignore'>0</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>Write</span> <span class='ignore'>Enable</span> <span class='ignore'>0</span>	<span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>7</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>Data</span> <span class='ignore'>7</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>SPI</span> <span class='ignore'>Clock</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>Output</span> <span class='ignore'>Enable</span> <span class='ignore'>1</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>Write</span> <span class='ignore'>Reset</span> <span class='ignore'>0</span>	<span class='exclcommand'>\\</span> <span class='exclcommand'>\bottomrule</span><br>
<span class='exclgroup'>\end</span><span class='exclgroup'>{tabular}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{table}</span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>Prototype.jpg</span><span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Prototype</span> <span class='word3'>of</span> <span class='word3'>dual</span> <span class='word3'>camera</span> <span class='word3'>operation</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>Prototype</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>Camera</span><span class='ignore'>_</span><span class='ignore'>TFT.jpg</span><span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Prototype</span> <span class='word3'>of</span> <span class='word3'>streaming</span> <span class='word3'>camera</span> <span class='word3'>images</span> <span class='word3'>to</span> <span class='word3'>TFT</span> <span class='word3'>screen</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>Prototype</span><span class='ignore'>:</span><span class='ignore'>TFT</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
<span class='command'>\section</span><span class='ignore'>{</span><span class='word2'>Motor</span> <span class='word2'>Driver</span> <span class='word2'>Development</span><span class='ignore'>}</span><span class='command'>\label</span><span class='ignore'>{</span><span class='ignore'>Section</span><span class='ignore'>:</span><span class='ignore'>Motor</span><span class='ignore'>_</span><span class='ignore'>Dev</span><span class='ignore'>}</span><br>
<span class='comment'>%\inote{Tachometers}</span><br>
<span class='comment'>%\inote{Derivation of equations used - Distance / Rotating}</span><br>
<br>
<span class='command'>\subsection</span><span class='word2'>{Hardware}</span><br>
<span class='word1'>Tachometers</span> <span class='word1'>are</span> <span class='word1'>devices</span> <span class='word1'>used</span> <span class='word1'>to</span> <span class='word1'>measure</span> <span class='word1'>rotational</span> <span class='word1'>speed</span> <span class='word1'>of</span> <span class='word1'>a</span> <span class='word1'>wheel</span><span class='ignore'>.</span> <span class='word1'>They</span> <span class='word1'>are</span> <span class='word1'>commonly</span> <span class='word1'>found</span> <span class='word1'>in</span> <span class='word1'>bicycles</span> <span class='word1'>where</span> <span class='word1'>a</span> <span class='word1'>small</span> <span class='word1'>magnet</span> <span class='word1'>is</span> <span class='word1'>attached</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>wheel</span> <span class='word1'>and</span> <span class='word1'>a</span> <span class='word1'>sensor</span> <span class='word1'>is</span> <span class='word1'>attached</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>frame</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>elapsed</span> <span class='word1'>time</span> <span class='word1'>between</span> <span class='word1'>every</span> <span class='word1'>rotation</span> <span class='word1'>is</span> <span class='word1'>measured</span> <span class='word1'>and</span> <span class='word1'>speed</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>calculated</span> <span class='word1'>given</span> <span class='word1'>the</span> <span class='word1'>wheel</span> <span class='word1'>size</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>Here</span> <span class='word1'>an</span> <span class='word1'>optosensor</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>TCRT1010</span> <span class='word1'>made</span> <span class='word1'>by</span> <span class='command'>\cite</span><span class='ignore'>{</span><span class='ignore'>Vishay</span><span class='ignore'>:</span><span class='ignore'>TCRT1010</span><span class='ignore'>:</span><span class='ignore'>Datasheet</span><span class='ignore'>}</span><span class='ignore'>,</span> <span class='word1'>is</span> <span class='word1'>used</span> <span class='word1'>to</span> <span class='word1'>measure</span> <span class='word1'>rotations</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>wheel</span> <span class='word1'>and</span> <span class='word1'>therefore</span> <span class='word1'>be</span> <span class='word1'>able</span> <span class='word1'>to</span> <span class='word1'>move</span> <span class='word1'>a</span> <span class='word1'>distance</span> <span class='word1'>determined</span> <span class='word1'>by</span> <span class='word1'>the</span> <span class='word1'>microcontroller</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>TCRT1010</span> <span class='word1'>package</span> <span class='word1'>contains</span> <span class='word1'>an</span> <span class='word1'>IR</span> <span class='word1'>LED</span> <span class='word1'>and</span> <span class='word1'>a</span> <span class='word1'>phototransistor</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>schematic</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>transistor</span> <span class='word1'>amplifier</span> <span class='word1'>used</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>Circuit</span><span class='ignore'>:</span><span class='ignore'>TCRT1010</span><span class='ignore'>}</span><span class='ignore'>,</span> <span class='word1'>which</span> <span class='word1'>was</span> <span class='word1'>reproduced</span> <span class='word1'>from</span> <span class='command'>\cite</span><span class='ignore'>{</span><span class='ignore'>c9Lab</span><span class='ignore'>:</span><span class='ignore'>SRG</span><span class='ignore'>}</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>A</span> <span class='word1'>similar</span> <span class='word1'>method</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>way</span> <span class='word1'>a</span> <span class='word1'>bike</span> <span class='word1'>measures</span> <span class='word1'>speed</span> <span class='word1'>was</span> <span class='word1'>used</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>wheel's</span> <span class='word1'>rubber</span> <span class='word1'>absorbed</span> <span class='word1'>the</span> <span class='word1'>IR</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>LED</span><span class='ignore'>,</span> <span class='word1'>so</span> <span class='word1'>a</span> <span class='word1'>high</span> <span class='word1'>voltage</span> <span class='word1'>was</span> <span class='word1'>always</span> <span class='word1'>seen</span> <span class='word1'>at</span> <span class='word1'>the</span> <span class='word1'>collector</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>phototransistor</span> <span class='word1'>when</span> <span class='word1'>near</span> <span class='word1'>the</span> <span class='word1'>wheel</span><span class='ignore'>.</span> <span class='word1'>White</span> <span class='word1'>Tipp-Ex</span> <span class='word1'>marks</span><span class='ignore'>,</span> <span class='ignore'>`</span><span class='ignore'>`</span><span class='word1'>tabs</span><span class='ignore'>'</span><span class='ignore'>'</span><span class='ignore'>,</span> <span class='word1'>were</span> <span class='word1'>applied</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>wheels</span> <span class='word1'>at</span> <span class='word1'>regular</span> <span class='word1'>intervals</span><span class='ignore'>.</span> <span class='word1'>These</span> <span class='word1'>tabs</span> <span class='word1'>reflected</span> <span class='word1'>IR</span><span class='ignore'>,</span> <span class='word1'>resulting</span> <span class='word1'>in</span> <span class='word1'>a</span> <span class='word1'>lower</span> <span class='word1'>collector</span> <span class='word1'>voltage</span> <span class='word1'>when</span> <span class='word1'>aligned</span> <span class='word1'>and</span> <span class='word1'>thereby</span> <span class='word1'>giving</span> <span class='word1'>a</span> <span class='word1'>way</span> <span class='word1'>to</span> <span class='word1'>detect</span> <span class='word1'>wheel</span> <span class='word1'>rotation</span><span class='ignore'>.</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>Graph</span><span class='ignore'>:</span><span class='ignore'>WheelVoltage</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>the</span> <span class='word1'>voltage</span> <span class='word1'>at</span> <span class='word1'>the</span> <span class='word1'>collector</span> <span class='ignore'>(</span><span class='word1'>read</span> <span class='word1'>by</span> <span class='word1'>the</span> <span class='word1'>ADC</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>AVR</span><span class='ignore'>)</span> <span class='word1'>against</span> <span class='word1'>the</span> <span class='word1'>angle</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>wheel</span><span class='ignore'>.</span> <span class='word1'>Ten</span> <span class='word1'>tabs</span> <span class='word1'>were</span> <span class='word1'>marked</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>wheel</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>ten</span> <span class='word1'>dips</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>voltage</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>Graph</span><span class='ignore'>:</span><span class='ignore'>WheelVoltage</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>lot</span> <span class='word1'>of</span> <span class='word1'>noise</span> <span class='word1'>exists</span> <span class='word1'>due</span> <span class='word1'>to</span> <span class='word1'>imperfect</span> <span class='word1'>white</span> <span class='word1'>tabs</span><span class='ignore'>.</span> <span class='word1'>However</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>dips</span> <span class='word1'>are</span> <span class='word1'>prominent</span> <span class='word1'>and</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>detected</span> <span class='word1'>with</span> <span class='word1'>the</span> <span class='word1'>correct</span> <span class='word1'>threshold</span> <span class='word1'>voltage</span><span class='ignore'>.</span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='exclcommand'>\includegraphics</span><span class='option'>[scale=0.5]</span><span class='ignore'>{</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>TCRT</span><span class='ignore'>_</span><span class='ignore'>Circuit.png</span><span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Circuit</span> <span class='word3'>diagram</span> <span class='word3'>of</span> <span class='word3'>optosensor</span> <span class='word3'>amplifier</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>Circuit</span><span class='ignore'>:</span><span class='ignore'>TCRT1010</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span> <span class='ignore'>=</span> <span class='exclcommand'>\textwidth</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>WheelVoltageGraph.eps</span><span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Graph</span> <span class='word3'>of</span> <span class='word3'>wheel</span> <span class='word3'>angle</span> <span class='word3'>against</span> <span class='word3'>the</span> <span class='word3'>voltage</span> <span class='word3'>read</span> <span class='word3'>by</span> <span class='word3'>the</span> <span class='word3'>AVR</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>Graph</span><span class='ignore'>:</span><span class='ignore'>WheelVoltage</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
 <br>
<br>
<span class='command'>\subsection</span><span class='ignore'>{</span><span class='word2'>Firmware</span> <span class='word2'>Development</span><span class='ignore'>}</span><br>
<br>
<span class='comment'>%To move a distance, the number of times a tab passes the sensor, a count, must be detected.</span><br>
<span class='word1'>To</span> <span class='word1'>enable</span> <span class='word1'>the</span> <span class='word1'>robot</span> <span class='word1'>to</span> <span class='word1'>move</span> <span class='word1'>a</span> <span class='word1'>set</span> <span class='word1'>distance</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>number</span> <span class='word1'>of</span> <span class='word1'>wheel</span> <span class='word1'>rotations</span> <span class='word1'>must</span> <span class='word1'>be</span> <span class='word1'>counted</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>is</span> <span class='word1'>achieved</span> <span class='word1'>by</span> <span class='word1'>incrementing</span> <span class='word1'>a</span> <span class='word1'>count</span> <span class='word1'>every</span> <span class='word1'>time</span> <span class='word1'>a</span> <span class='word1'>tab</span> <span class='word1'>is</span> <span class='word1'>detected</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>firmware</span> <span class='word1'>sets</span> <span class='word1'>up</span> <span class='word1'>a</span> <span class='word1'>PWM</span> <span class='word1'>output</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>has</span> <span class='ignore'>`</span><span class='word1'>Set-Up</span><span class='ignore'>'</span> <span class='word1'>and</span> <span class='ignore'>`</span><span class='word1'>Execute</span><span class='ignore'>'</span> <span class='word1'>functions</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>low</span> <span class='word1'>duty</span> <span class='word1'>cycle</span> <span class='word1'>PWM</span> <span class='word1'>signal</span> <span class='word1'>was</span> <span class='word1'>used</span> <span class='word1'>to</span> <span class='word1'>drive</span> <span class='word1'>the</span> <span class='word1'>motors</span> <span class='word1'>slowly</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>removed</span> <span class='word1'>the</span> <span class='word1'>need</span> <span class='word1'>for</span> <span class='word1'>a</span> <span class='word1'>speed</span> <span class='word1'>controller</span> <span class='word1'>and</span> <span class='word1'>meant</span> <span class='word1'>any</span> <span class='word1'>overshoot</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>motors</span> <span class='word1'>during</span> <span class='word1'>breaking</span> <span class='word1'>would</span> <span class='word1'>be</span> <span class='word1'>low</span><span class='ignore'>.</span> <span class='word1'>Straight</span> <span class='word1'>line</span> <span class='word1'>movement</span> <span class='word1'>and</span> <span class='word1'>spot</span> <span class='word1'>rotations</span> <span class='word1'>were</span> <span class='word1'>implemented</span><span class='ignore'>.</span> <span class='word1'>More</span> <span class='word1'>complex</span> <span class='word1'>movements</span><span class='ignore'>,</span> <span class='word1'>for</span> <span class='word1'>example</span> <span class='word1'>arcs</span><span class='ignore'>,</span> <span class='word1'>would</span> <span class='word1'>require</span> <span class='word1'>more</span> <span class='word1'>accurate</span> <span class='word1'>tachometers</span> <span class='word1'>and</span> <span class='word1'>are</span> <span class='word1'>left</span> <span class='word1'>for</span> <span class='word1'>further</span> <span class='word1'>work</span><span class='ignore'>.</span> <span class='comment'>%not discussed here. </span><br>
<br>
<span class='command'>\subsubsection</span><span class='ignore'>{</span><span class='word2'>Set</span> <span class='word2'>Up</span><span class='ignore'>}</span><br>
<span class='word1'>The</span> <span class='word1'>set</span> <span class='word1'>up</span> <span class='word1'>function</span> <span class='word1'>calculates</span> <span class='word1'>the</span> <span class='word1'>number</span> <span class='word1'>of</span> <span class='word1'>counts</span> <span class='word1'>needed</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>sets</span> <span class='word1'>the</span> <span class='word1'>direction</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>wheels</span><span class='ignore'>.</span> <span class='word1'>Each</span> <span class='word1'>motor</span> <span class='word1'>driver</span> <span class='word1'>has</span> <span class='word1'>two</span> <span class='word1'>inputs</span> <span class='word1'>to</span> <span class='word1'>control</span> <span class='word1'>direction</span> <span class='word1'>and</span> <span class='word1'>Table</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>MotorDirection</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>the</span> <span class='word1'>inputs</span> <span class='word1'>needed</span> <span class='word1'>to</span> <span class='word1'>generate</span> <span class='word1'>the</span> <span class='word1'>two</span> <span class='word1'>movements</span> <span class='ignore'>-</span> <span class='word1'>straight</span> <span class='word1'>line</span> <span class='word1'>and</span> <span class='word1'>rotational</span><span class='ignore'>.</span> <br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{table}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>The</span> <span class='word3'>inputs</span> <span class='word3'>to</span> <span class='word3'>the</span> <span class='word3'>motor</span> <span class='word3'>drivers</span> <span class='word3'>to</span> <span class='word3'>set</span> <span class='word3'>the</span> <span class='word3'>movement</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>MotorDirection</span><span class='ignore'>}</span><br>
<span class='exclgroup'>\begin</span><span class='exclgroup'>{tabular}</span><span class='ignore'>{ccccccc}</span><span class='exclcommand'>\toprule</span><br>
<span class='ignore'>\multicolumn{1}{c}</span><span class='ignore'>{</span> <span class='ignore'>}</span><span class='ignore'>&amp;</span><span class='ignore'>\multicolumn{3}{c}</span><span class='ignore'>{</span><span class='exclcommand'>\textbf</span><span class='ignore'>{</span><span class='ignore'>Motor</span> <span class='ignore'>1</span><span class='ignore'>}</span><span class='ignore'>}</span><span class='ignore'>&amp;</span><span class='ignore'>\multicolumn{3}{c}</span><span class='ignore'>{</span><span class='exclcommand'>\textbf</span><span class='ignore'>{</span><span class='ignore'>Motor</span> <span class='ignore'>2</span><span class='ignore'>}</span><span class='ignore'>}</span><span class='exclcommand'>\\</span> <span class='exclcommand'>\cmidrule</span><span class='ignore'>(</span><span class='ignore'>r</span><span class='ignore'>)</span><span class='ignore'>{</span><span class='ignore'>2-4</span><span class='ignore'>}</span> <span class='exclcommand'>\cmidrule</span><span class='ignore'>(</span><span class='ignore'>l</span><span class='ignore'>)</span><span class='ignore'>{</span><span class='ignore'>5-7</span><span class='ignore'>}</span><br>
<span class='ignore'>\multicolumn{1}{c}</span><span class='ignore'>{</span> <span class='ignore'>}</span>	<span class='ignore'>&amp;</span>	<span class='exclcommand'>\textbf</span><span class='ignore'>{STBY}</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='exclcommand'>\textbf</span><span class='ignore'>{IN1}</span>	<span class='ignore'>&amp;</span> <span class='exclcommand'>\textbf</span><span class='ignore'>{IN2}</span>&nbsp; <span class='ignore'>&amp;</span> <span class='exclcommand'>\textbf</span><span class='ignore'>{STBY}</span>&nbsp; <span class='ignore'>&amp;</span> <span class='exclcommand'>\textbf</span><span class='ignore'>{IN1}</span>&nbsp; <span class='ignore'>&amp;</span> <span class='exclcommand'>\textbf</span><span class='ignore'>{IN2}</span>	<span class='exclcommand'>\\</span> <span class='exclcommand'>\toprule</span><br>
<span class='ignore'>Stop</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>0</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>X</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>X</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>0</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>X</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>X</span>	<span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>Forward</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>1</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>1</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>0</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>1</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>1</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>0</span>	<span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>Backward</span>&nbsp; &nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>1</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>0</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>1</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>1</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>0</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>1</span>	<span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>Clockwise</span>&nbsp; &nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>1</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>1</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>0</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>1</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>0</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>1</span>	<span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>Anti-clockwise</span>&nbsp; &nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>1</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>0</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>1</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>1</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>1</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>0</span>	<span class='exclcommand'>\\</span><span class='exclcommand'>\bottomrule</span><br>
<span class='exclgroup'>\end</span><span class='exclgroup'>{tabular}</span><br>
<br>
<span class='grouping'>\end</span><span class='grouping'>{table}</span><br>
<br>
<span class='word1'>To</span> <span class='word1'>move</span> <span class='word1'>in</span> <span class='word1'>a</span> <span class='word1'>straight</span> <span class='word1'>line</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>number</span> <span class='word1'>of</span> <span class='word1'>counts</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>calculated</span> <span class='word1'>by</span> <span class='word1'>Equation</span> <span class='command'>\eqref</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>NumberCounts</span><span class='ignore'>}</span><span class='ignore'>.</span> <br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{equation}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>NumberCounts</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\text</span><span class='ignore'>{Counts}</span> <span class='ignore'>=</span> <span class='ignore'>\delta </span><span class='exclcommand'>\times</span> <span class='exclcommand'>\frac</span><span class='ignore'>{\gamma}</span><span class='ignore'>{</span><span class='ignore'>C</span><span class='ignore'>_</span><span class='ignore'>w</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{equation}</span><br>
<br>
<span class='word1'>For</span> <span class='word1'>rotation</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>radius</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>centre</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>robot</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>wheels</span> <span class='word1'>needs</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>known</span><span class='ignore'>,</span> <span class='word1'>see</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>RobotBase</span><span class='ignore'>:</span><span class='ignore'>Top</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>circumference</span> <span class='word1'>through</span> <span class='word1'>the</span> <span class='word1'>wheels</span> <span class='word1'>is</span> <span class='word1'>then</span> <span class='word1'>easily</span> <span class='word1'>calculated</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>distance</span> <span class='word1'>to</span> <span class='word1'>move</span> <span class='word1'>is</span> <span class='word1'>calculated</span> <span class='word1'>by</span> <span class='word1'>Equation</span> <span class='command'>\eqref</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>RotationalDistance</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>total</span> <span class='word1'>number</span> <span class='word1'>of</span> <span class='word1'>interrupts</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>calculated</span> <span class='word1'>using</span> <span class='word1'>Equation</span> <span class='command'>\eqref</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>NumberCounts</span><span class='ignore'>}</span><span class='ignore'>.</span> <br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{equation}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>RotationalDistance</span><span class='ignore'>}</span><br>
<span class='ignore'>\delta</span><span class='ignore'>_</span><span class='ignore'>{R}</span> <span class='ignore'>=</span> <span class='ignore'>\Theta </span><span class='exclcommand'>\times</span> <span class='exclcommand'>\frac</span><span class='ignore'>{</span><span class='ignore'>C</span><span class='ignore'>_</span><span class='ignore'>b</span><span class='ignore'>}</span><span class='ignore'>{360}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{equation}</span><br>
<br>
<span class='word1'>Combining</span> <span class='word1'>Equations</span> <span class='command'>\eqref</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>NumberCounts</span><span class='ignore'>}</span> <span class='word1'>and</span> <span class='command'>\eqref</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>RotationalDistance</span><span class='ignore'>}</span> <span class='word1'>gives</span><span class='ignore'>:</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{equation}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>RotationalInterrupts</span><span class='ignore'>}</span><br>
<span class='ignore'>Counts</span> <span class='ignore'>=</span> <span class='ignore'>\gamma </span><span class='exclcommand'>\times</span> <span class='exclcommand'>\frac</span><span class='ignore'>{</span><span class='ignore'>C</span><span class='ignore'>_</span><span class='ignore'>b</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>C</span><span class='ignore'>_</span><span class='ignore'>w</span><span class='ignore'>}</span> <span class='exclcommand'>\times</span> <span class='exclcommand'>\frac</span><span class='ignore'>{\Theta}{360}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{equation}</span><br>
<span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>RobotBase</span><span class='ignore'>_</span><span class='ignore'>Annotated</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>the</span> <span class='word1'>dimensions</span> <span class='word1'>of</span> <span class='word1'>interest</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>robot</span> <span class='word1'>base</span><span class='ignore'>.</span> <span class='word1'>In</span> <span class='word1'>the</span> <span class='word1'>set</span> <span class='word1'>up</span> <span class='word1'>method</span><span class='ignore'>,</span> <span class='word1'>Equations</span> <span class='command'>\eqref</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>NumberCounts</span><span class='ignore'>}</span> <span class='word1'>and</span> <span class='command'>\eqref</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>RotationalInterrupts</span><span class='ignore'>}</span> <span class='word1'>are</span> <span class='word1'>used</span> <span class='word1'>to</span> <span class='word1'>calculate</span> <span class='word1'>the</span> <span class='word1'>counts</span> <span class='word1'>needed</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>results</span> <span class='word1'>are</span> <span class='word1'>placed</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>global</span> <span class='word1'>struct</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>execute</span> <span class='word1'>method</span> <span class='word1'>is</span> <span class='word1'>then</span> <span class='word1'>run</span><span class='ignore'>.</span><br>
<br>
<span class='command'>\subsubsection</span><span class='word2'>{Execute}</span><br>
<br>
<span class='word1'>The</span> <span class='word1'>execute</span> <span class='word1'>method</span> <span class='word1'>detects</span> <span class='word1'>the</span> <span class='word1'>tabs</span> <span class='word1'>and</span> <span class='word1'>decrements</span> <span class='word1'>the</span> <span class='word1'>global</span> <span class='word1'>counter</span><span class='ignore'>.</span> <span class='word1'>When</span> <span class='word1'>the</span> <span class='word1'>counter</span> <span class='word1'>reaches</span> <span class='word1'>zero</span> <span class='word1'>the</span> <span class='word1'>motor</span> <span class='word1'>stops</span> <span class='word1'>and</span> <span class='word1'>when</span> <span class='word1'>both</span> <span class='word1'>motors</span> <span class='word1'>have</span> <span class='word1'>completed</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>method</span> <span class='word1'>exits</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>As</span> <span class='word1'>the</span> <span class='word1'>voltage</span> <span class='word1'>swing</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>collector</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>phototransistor</span> <span class='word1'>did</span> <span class='word1'>not</span> <span class='word1'>reach</span> <span class='word1'>near</span> <span class='word1'>0V</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>AVR</span> <span class='word1'>could</span> <span class='word1'>not</span> <span class='word1'>detect</span> <span class='word1'>this</span> <span class='word1'>as</span> <span class='word1'>a</span> <span class='word1'>logical</span> <span class='word1'>0</span><span class='ignore'>.</span> <span class='word1'>An</span> <span class='word1'>external</span> <span class='word1'>amplifier</span> <span class='word1'>could</span> <span class='word1'>have</span> <span class='word1'>been</span> <span class='word1'>used</span> <span class='word1'>to</span> <span class='word1'>generate</span> <span class='word1'>a</span> <span class='word1'>full</span> <span class='word1'>swing</span> <span class='word1'>voltage</span><span class='ignore'>.</span> <span class='word1'>However</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>AVR</span> <span class='word1'>has</span> <span class='word1'>internal</span> <span class='word1'>ADCs</span> <span class='word1'>and</span> <span class='word1'>analogue</span> <span class='word1'>comparators</span> <span class='word1'>which</span> <span class='word1'>were</span> <span class='word1'>used</span> <span class='word1'>instead</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>The</span> <span class='word1'>ADC</span> <span class='word1'>could</span> <span class='word1'>be</span> <span class='word1'>used</span> <span class='word1'>to</span> <span class='word1'>continually</span> <span class='word1'>sample</span> <span class='word1'>the</span> <span class='word1'>collector</span> <span class='word1'>voltage</span> <span class='word1'>and</span> <span class='word1'>detect</span> <span class='word1'>dips</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>signal</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>method</span> <span class='word1'>has</span> <span class='word1'>the</span> <span class='word1'>advantage</span> <span class='word1'>of</span> <span class='word1'>a</span> <span class='word1'>variable</span> <span class='word1'>threshold</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>ability</span> <span class='word1'>to</span> <span class='word1'>filter</span> <span class='word1'>noise</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>operation</span><span class='ignore'>,</span> <span class='word1'>however</span><span class='ignore'>,</span> <span class='word1'>would</span> <span class='word1'>be</span> <span class='word1'>complex</span> <span class='word1'>to</span> <span class='word1'>implement</span> <span class='word1'>in</span> <span class='word1'>code</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>An</span> <span class='word1'>alternative</span> <span class='word1'>was</span> <span class='word1'>to</span> <span class='word1'>use</span> <span class='word1'>an</span> <span class='word1'>analogue</span> <span class='word1'>comparator</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>UC3C</span> <span class='word1'>has</span> <span class='word1'>two</span> <span class='word1'>on-chip</span> <span class='word1'>comparator</span> <span class='word1'>interfaces</span><span class='ignore'>,</span> <span class='word1'>each</span> <span class='word1'>with</span> <span class='word1'>two</span> <span class='word1'>comparators</span><span class='ignore'>.</span> <span class='word1'>They</span> <span class='word1'>are</span> <span class='word1'>a</span> <span class='word1'>high</span> <span class='word1'>gain</span> <span class='word1'>operational</span> <span class='word1'>amplifier</span> <span class='word1'>with</span> <span class='word1'>added</span> <span class='word1'>options</span> <span class='word1'>of</span> <span class='word1'>hysteresis</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>ability</span> <span class='word1'>to</span> <span class='word1'>interrupt</span> <span class='word1'>amongst</span> <span class='word1'>other</span> <span class='word1'>attributes</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>comparators</span> <span class='word1'>can</span> <span class='word1'>use</span> <span class='word1'>two</span> <span class='word1'>analogue</span> <span class='word1'>inputs</span> <span class='word1'>or</span> <span class='word1'>use</span> <span class='word1'>the</span> <span class='word1'>internal</span> <span class='word1'>DACs</span> <span class='word1'>as</span> <span class='word1'>inputs</span><span class='ignore'>.</span> <span class='word1'>Potentiometers</span> <span class='word1'>were</span> <span class='word1'>used</span> <span class='word1'>to</span> <span class='word1'>set</span> <span class='word1'>the</span> <span class='word1'>reference</span> <span class='word1'>voltage</span> <span class='word1'>externally</span><span class='ignore'>.</span> <span class='word1'>Using</span> <span class='word1'>the</span> <span class='word1'>comparators</span> <span class='word1'>had</span> <span class='word1'>the</span> <span class='word1'>advantage</span> <span class='word1'>of</span> <span class='word1'>returning</span> <span class='word1'>a</span> <span class='word1'>boolean</span> <span class='word1'>value</span> <span class='word1'>representing</span> <span class='word1'>whether</span> <span class='word1'>the</span> <span class='word1'>collector</span> <span class='word1'>voltage</span> <span class='word1'>was</span> <span class='word1'>higher</span> <span class='word1'>or</span> <span class='word1'>lower</span> <span class='word1'>than</span> <span class='word1'>the</span> <span class='word1'>threshold</span> <span class='word1'>voltage</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>detection</span> <span class='word1'>of</span> <span class='word1'>a</span> <span class='word1'>tab</span> <span class='word1'>was</span> <span class='word1'>then</span> <span class='word1'>simpler</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>method</span> <span class='word1'>was</span> <span class='word1'>chosen</span> <span class='word1'>for</span> <span class='word1'>an</span> <span class='word1'>easier</span> <span class='word1'>implementation</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>The</span> <span class='word1'>first</span> <span class='word1'>method</span> <span class='word1'>implemented</span> <span class='word1'>was</span> <span class='word1'>to</span> <span class='word1'>use</span> <span class='word1'>the</span> <span class='word1'>analogue</span> <span class='word1'>comparators</span> <span class='word1'>to</span> <span class='word1'>interrupt</span> <span class='word1'>when</span> <span class='word1'>the</span> <span class='word1'>collector</span> <span class='word1'>voltage</span> <span class='word1'>crossed</span> <span class='word1'>the</span> <span class='word1'>threshold</span><span class='ignore'>.</span> <span class='word1'>Both</span> <span class='word1'>wheels</span> <span class='word1'>used</span> <span class='word1'>the</span> <span class='word1'>same</span> <span class='word1'>comparator</span> <span class='word1'>interface</span> <span class='word1'>and</span> <span class='word1'>therefore</span> <span class='word1'>ran</span> <span class='word1'>the</span> <span class='word1'>same</span> <span class='word1'>ISR</span> <span class='word1'>when</span> <span class='word1'>triggered</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>ISR</span> <span class='word1'>then</span> <span class='word1'>had</span> <span class='word1'>to</span> <span class='word1'>read</span> <span class='word1'>the</span> <span class='word1'>output</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>comparators</span> <span class='word1'>and</span> <span class='word1'>decrement</span> <span class='word1'>the</span> <span class='word1'>relevant</span> <span class='word1'>counter</span> <span class='word1'>for</span> <span class='word1'>the</span> <span class='word1'>correct</span> <span class='word1'>wheel</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>method</span> <span class='word1'>had</span> <span class='word1'>many</span> <span class='word1'>downfalls</span><span class='ignore'>.</span> <span class='word1'>First</span><span class='ignore'>,</span> <span class='word1'>it</span> <span class='word1'>was</span> <span class='word1'>not</span> <span class='word1'>possible</span> <span class='word1'>to</span> <span class='word1'>know</span> <span class='word1'>which</span> <span class='word1'>comparator</span> <span class='word1'>caused</span> <span class='word1'>the</span> <span class='word1'>interrupt</span><span class='ignore'>.</span> <span class='word1'>If</span> <span class='word1'>the</span> <span class='word1'>left</span> <span class='word1'>wheel</span> <span class='word1'>triggered</span> <span class='word1'>the</span> <span class='word1'>interrupt</span> <span class='word1'>while</span> <span class='word1'>the</span> <span class='word1'>right</span> <span class='word1'>was</span> <span class='word1'>below</span> <span class='word1'>the</span> <span class='word1'>threshold</span><span class='ignore'>,</span> <span class='word1'>both</span> <span class='word1'>left</span> <span class='word1'>and</span> <span class='word1'>right</span> <span class='word1'>counters</span> <span class='word1'>would</span> <span class='word1'>be</span> <span class='word1'>decremented</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>caused</span> <span class='word1'>a</span> <span class='word1'>large</span> <span class='word1'>error</span> <span class='word1'>each</span> <span class='word1'>time</span> <span class='word1'>it</span> <span class='word1'>occurred</span><span class='ignore'>.</span> <span class='word1'>Another</span> <span class='word1'>problem</span> <span class='word1'>was</span> <span class='word1'>noise</span><span class='ignore'>;</span> <span class='word1'>occasionally</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>lowering</span> <span class='word1'>voltage</span> <span class='word1'>would</span> <span class='word1'>cause</span> <span class='word1'>multiple</span> <span class='word1'>interrupts</span> <span class='word1'>each</span> <span class='word1'>time</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>problem</span> <span class='word1'>was</span> <span class='word1'>reduced</span> <span class='word1'>by</span> <span class='word1'>setting</span> <span class='word1'>the</span> <span class='word1'>hysteresis</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>comparators</span> <span class='word1'>but</span> <span class='word1'>did</span> <span class='word1'>not</span> <span class='word1'>solve</span> <span class='word1'>the</span> <span class='word1'>problem</span> <span class='word1'>completely</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>A</span> <span class='word1'>second</span> <span class='word1'>approach</span> <span class='word1'>utilised</span> <span class='word1'>a</span> <span class='word1'>simple</span> <span class='word1'>state</span> <span class='word1'>machine</span> <span class='word1'>and</span> <span class='word1'>software</span> <span class='word1'>based</span> <span class='word1'>hysteresis</span> <span class='word1'>to</span> <span class='word1'>solve</span> <span class='word1'>the</span> <span class='word1'>problems</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>state</span> <span class='word1'>machine</span> <span class='word1'>has</span> <span class='word1'>two</span> <span class='word1'>states</span> <span class='ignore'>`</span><span class='word1'>On</span> <span class='word1'>a</span> <span class='word1'>Tab</span><span class='ignore'>'</span> <span class='word1'>and</span> <span class='ignore'>`</span><span class='word1'>Not</span> <span class='word1'>on</span> <span class='word1'>a</span> <span class='word1'>Tab</span><span class='ignore'>'</span><span class='ignore'>.</span> <span class='word1'>When</span> <span class='word1'>the</span> <span class='word1'>method</span> <span class='word1'>enters</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>initial</span> <span class='word1'>state</span> <span class='word1'>is</span> <span class='word1'>read</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>comparators</span> <span class='word1'>so</span> <span class='word1'>that</span> <span class='word1'>if</span> <span class='word1'>the</span> <span class='word1'>wheel</span> <span class='word1'>is</span> <span class='word1'>already</span> <span class='word1'>on</span> <span class='word1'>a</span> <span class='word1'>tab</span><span class='ignore'>,</span> <span class='word1'>it</span> <span class='word1'>won't</span> <span class='word1'>be</span> <span class='word1'>counted</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>code</span> <span class='word1'>then</span> <span class='word1'>runs</span> <span class='word1'>in</span> <span class='word1'>a</span> <span class='word1'>loop</span> <span class='word1'>until</span> <span class='word1'>the</span> <span class='word1'>motors</span> <span class='word1'>stop</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>graphic</span> <span class='word1'>representation</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>code</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>StateMachine</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>Starting</span> <span class='word1'>in</span> <span class='ignore'>`</span><span class='word1'>Not</span> <span class='word1'>on</span> <span class='word1'>a</span> <span class='word1'>Tab</span><span class='ignore'>'</span> <span class='word1'>state</span><span class='ignore'>,</span> <span class='word1'>a</span> <span class='word1'>tab</span> <span class='word1'>must</span> <span class='word1'>be</span> <span class='word1'>detected</span> <span class='word1'>for</span> <span class='word1'>Hyst</span><span class='command'>\_Max</span> <span class='word1'>amount</span> <span class='word1'>of</span> <span class='word1'>cycles</span> <span class='word1'>in</span> <span class='word1'>succession</span> <span class='word1'>for</span> <span class='word1'>the</span> <span class='word1'>state</span> <span class='word1'>to</span> <span class='word1'>change</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>is</span> <span class='word1'>the</span> <span class='word1'>same</span> <span class='word1'>for</span> <span class='word1'>going</span> <span class='word1'>from</span> <span class='ignore'>`</span><span class='word1'>On</span> <span class='word1'>a</span> <span class='word1'>Tab</span><span class='ignore'>'</span> <span class='word1'>to</span> <span class='ignore'>`</span><span class='word1'>Not</span> <span class='word1'>on</span> <span class='word1'>a</span> <span class='word1'>Tab</span><span class='ignore'>'</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>is</span> <span class='word1'>to</span> <span class='word1'>reduce</span> <span class='word1'>noise</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>form</span> <span class='word1'>of</span> <span class='word1'>false</span> <span class='word1'>readings</span> <span class='word1'>and</span> <span class='word1'>increase</span> <span class='word1'>the</span> <span class='word1'>certainty</span> <span class='word1'>that</span> <span class='word1'>a</span> <span class='word1'>tab</span> <span class='word1'>is</span><span class='ignore'>,</span> <span class='word1'>or</span> <span class='word1'>is</span> <span class='word1'>not</span><span class='ignore'>,</span> <span class='word1'>in</span> <span class='word1'>detect</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>Global</span><span class='command'>\_Count</span> <span class='word1'>is</span> <span class='word1'>only</span> <span class='word1'>reduced</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>transition</span> <span class='word1'>to</span> <span class='ignore'>`</span><span class='word1'>On</span> <span class='word1'>a</span> <span class='word1'>Tab</span><span class='ignore'>'</span> <span class='word1'>so</span> <span class='word1'>it</span> <span class='word1'>is</span> <span class='word1'>difficult</span> <span class='word1'>for</span> <span class='word1'>this</span> <span class='word1'>to</span> <span class='word1'>decrement</span> <span class='word1'>multiple</span> <span class='word1'>times</span> <span class='word1'>in</span> <span class='word1'>normal</span> <span class='word1'>operation</span><span class='ignore'>.</span> <span class='word1'>To</span> <span class='word1'>increase</span> <span class='word1'>the</span> <span class='word1'>certainty</span><span class='ignore'>,</span> <span class='word1'>Hyst</span><span class='command'>\_Max</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>increased</span> <span class='word1'>at</span> <span class='word1'>the</span> <span class='word1'>expense</span> <span class='word1'>of</span> <span class='word1'>response</span> <span class='word1'>time</span><span class='ignore'>.</span> <br>
<br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>ASM.pdf</span><span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>A</span> <span class='word3'>state</span> <span class='word3'>machine</span> <span class='word3'>showing</span> <span class='word3'>the</span> <span class='word3'>operation</span> <span class='word3'>of</span> <span class='word3'>the</span> <span class='command'>\textit</span><span class='ignore'>{</span><span class='word3'>Motor</span><span class='command'>\_Execute</span><span class='ignore'>}</span> <span class='word3'>method</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>StateMachine</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='exclcommand'>\subfigure</span><span class='ignore'>[</span><span class='ignore'>Top</span> <span class='ignore'>View</span> <span class='ignore'>of</span> <span class='ignore'>robot</span> <span class='ignore'>base</span> <span class='ignore'>showing</span> <span class='ignore'>dimensions</span> <span class='ignore'>of</span> <span class='ignore'>interest</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>RobotBase</span><span class='ignore'>:</span><span class='ignore'>Top</span><span class='ignore'>}</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span> <span class='ignore'>=</span> <span class='exclcommand'>\textwidth</span><span class='ignore'>,</span> <span class='ignore'>keepaspectratio</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>Robotbase</span><span class='ignore'>_</span><span class='ignore'>top</span><span class='ignore'>_</span><span class='ignore'>annot.jpg</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='exclcommand'>\subfigure</span><span class='ignore'>[</span><span class='ignore'>Side</span> <span class='ignore'>View</span> <span class='ignore'>of</span> <span class='ignore'>robot</span> <span class='ignore'>base</span> <span class='ignore'>showing</span> <span class='ignore'>dimensions</span> <span class='ignore'>of</span> <span class='ignore'>interest</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>RobotBase</span><span class='ignore'>:</span><span class='ignore'>Side</span><span class='ignore'>}</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span> <span class='ignore'>=</span> <span class='exclcommand'>\textwidth</span><span class='ignore'>,</span> <span class='ignore'>keepaspectratio</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>Robotbase</span><span class='ignore'>_</span><span class='ignore'>side</span><span class='ignore'>_</span><span class='ignore'>annot.jpg</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Dimensions</span> <span class='word3'>of</span> <span class='word3'>interest</span> <span class='word3'>for</span> <span class='word3'>robot</span> <span class='word3'>movement</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>RobotBase</span><span class='ignore'>_</span><span class='ignore'>Annotated</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
 <br>
<br>
<span class='comment'>%The final code can be seen in appendix \ref{Chapter:AppendixC:Code}. </span><br>
<span class='comment'>%\textit{Motor\_Init} method must be called before operation can occur. </span><br>
<span class='word1'>In</span> <span class='word1'>code</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='command'>\textit</span><span class='ignore'>{</span><span class='word1'>Motor</span><span class='command'>\_Init</span><span class='ignore'>}</span> <span class='word1'>method</span> <span class='word1'>must</span> <span class='word1'>be</span> <span class='word1'>called</span> <span class='word1'>before</span> <span class='command'>\textit</span><span class='ignore'>{</span><span class='word1'>Motor</span><span class='command'>\_Execute</span><span class='ignore'>}</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>performed</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>sets</span> <span class='word1'>up</span> <span class='word1'>the</span> <span class='word1'>PWM</span> <span class='word1'>and</span> <span class='word1'>analogue</span> <span class='word1'>comparators</span><span class='ignore'>.</span> <span class='word1'>Methods</span> <span class='command'>\textit</span><span class='ignore'>{</span><span class='word1'>Motors</span><span class='command'>\_Move</span><span class='ignore'>}</span> <span class='word1'>and</span> <span class='command'>\textit</span><span class='ignore'>{</span><span class='word1'>Motors</span><span class='command'>\_Rotate</span><span class='ignore'>}</span> <span class='word1'>are</span> <span class='word1'>the</span> <span class='word1'>methods</span> <span class='word1'>that</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>called</span> <span class='word1'>to</span> <span class='word1'>move</span> <span class='word1'>in</span> <span class='word1'>a</span> <span class='word1'>straight</span> <span class='word1'>line</span> <span class='word1'>or</span> <span class='word1'>rotate</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>spot</span><span class='ignore'>.</span> <span class='word1'>They</span> <span class='word1'>both</span> <span class='word1'>take</span> <span class='word1'>an</span> <span class='word1'>input</span> <span class='word1'>which</span> <span class='word1'>is</span> <span class='word1'>a</span> <span class='word1'>signed</span> <span class='word1'>integer</span> <span class='word1'>of</span> <span class='word1'>either</span> <span class='word1'>the</span> <span class='word1'>distance</span> <span class='word1'>to</span> <span class='word1'>move</span> <span class='ignore'>(</span><span class='word1'>in</span> <span class='word1'>millimetres</span><span class='ignore'>)</span> <span class='word1'>or</span> <span class='word1'>the</span> <span class='word1'>angle</span> <span class='word1'>to</span> <span class='word1'>rotate</span> <span class='ignore'>(</span><span class='word1'>in</span> <span class='word1'>degrees</span><span class='ignore'>,</span> <span class='word1'>positive</span> <span class='word1'>is</span> <span class='word1'>a</span> <span class='word1'>clockwise</span> <span class='word1'>movement</span><span class='ignore'>)</span><span class='ignore'>.</span> <span class='word1'>They</span> <span class='word1'>both</span> <span class='word1'>return</span> <span class='word1'>the</span> <span class='word1'>actual</span> <span class='word1'>movement</span> <span class='word1'>distances</span><span class='ignore'>,</span> <span class='word1'>due</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>low</span> <span class='word1'>resolution</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>system</span><span class='ignore'>.</span><br>
<br>
<br>
<span class='command'>\subsection</span><span class='word2'>{Testing}</span><span class='command'>\label</span><span class='ignore'>{</span><span class='ignore'>Section</span><span class='ignore'>:</span><span class='ignore'>MotorTest</span><span class='ignore'>}</span><br>
<span class='comment'>%\inote{Test Rotation}</span><br>
<br>
<span class='word1'>To</span> <span class='word1'>test</span> <span class='word1'>the</span> <span class='word1'>motor</span> <span class='word1'>system</span><span class='ignore'>,</span> <span class='word1'>different</span> <span class='word1'>distances</span> <span class='word1'>were</span> <span class='word1'>given</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>movement</span> <span class='word1'>method</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>method</span> <span class='word1'>prints</span> <span class='word1'>how</span> <span class='word1'>many</span> <span class='word1'>counts</span> <span class='word1'>will</span> <span class='word1'>be</span> <span class='word1'>moved</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>actual</span> <span class='word1'>distance</span> <span class='word1'>moved</span> <span class='word1'>was</span> <span class='word1'>then</span> <span class='word1'>measured</span> <span class='word1'>and</span> <span class='word1'>repeated</span> <span class='word1'>four</span> <span class='word1'>times</span><span class='ignore'>.</span> <span class='word1'>Table</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>results</span><span class='ignore'>:</span><span class='ignore'>motor</span><span class='ignore'>:</span><span class='ignore'>distance</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>the</span> <span class='word1'>results</span> <span class='word1'>of</span> <span class='word1'>this</span> <span class='word1'>test</span><span class='ignore'>.</span> <span class='word1'>They</span> <span class='word1'>show</span> <span class='word1'>that</span> <span class='word1'>the</span> <span class='word1'>maximum</span> <span class='word1'>error</span> <span class='word1'>observed</span> <span class='word1'>is</span> <span class='mathgroup'>$</span><span class='ignore'>4.52</span><span class='ignore'>\%</span><span class='mathgroup'>$</span><span class='ignore'>,</span> <span class='word1'>which</span> <span class='word1'>related</span> <span class='word1'>to</span> <span class='mathgroup'>$</span><span class='ignore'>4.5mm</span><span class='mathgroup'>$</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>error</span> <span class='word1'>is</span> <span class='word1'>acceptable</span> <span class='word1'>as</span> <span class='word1'>a</span> <span class='word1'>half</span> <span class='word1'>centimetre</span> <span class='word1'>error</span> <span class='word1'>over</span> <span class='mathgroup'>$</span><span class='ignore'>10cm</span><span class='mathgroup'>$</span> <span class='word1'>will</span> <span class='word1'>not</span> <span class='word1'>impact</span> <span class='word1'>the</span> <span class='word1'>performance</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>robot</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>error</span> <span class='word1'>is</span> <span class='word1'>calculated</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>actual</span> <span class='word1'>distance</span> <span class='word1'>predicted</span> <span class='word1'>to</span> <span class='word1'>move</span><span class='ignore'>.</span> <br>
<br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{table}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Results</span> <span class='word3'>of</span> <span class='word3'>motor</span> <span class='word3'>distance</span> <span class='word3'>test</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>results</span><span class='ignore'>:</span><span class='ignore'>motor</span><span class='ignore'>:</span><span class='ignore'>distance</span><span class='ignore'>}</span><br>
<span class='exclgroup'>\begin</span><span class='exclgroup'>{tabular}</span><span class='ignore'>{</span><span class='ignore'>p</span><span class='ignore'>{</span><span class='ignore'>2.5cm</span><span class='ignore'>}</span><span class='ignore'>p</span><span class='ignore'>{</span><span class='ignore'>2.5cm</span><span class='ignore'>}</span><span class='ignore'>p</span><span class='ignore'>{</span><span class='ignore'>2.5cm</span><span class='ignore'>}</span><span class='ignore'>p</span><span class='ignore'>{</span><span class='ignore'>2.5cm</span><span class='ignore'>}</span><span class='ignore'>p</span><span class='ignore'>{</span><span class='ignore'>2.5cm</span><span class='ignore'>}</span><span class='ignore'>}</span> <span class='exclcommand'>\toprule</span><br>
<span class='exclcommand'>\textbf</span><span class='ignore'>{</span><span class='ignore'>Distance</span> <span class='ignore'>Specified</span> <span class='ignore'>(</span><span class='ignore'>mm</span><span class='ignore'>)</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span>	<span class='exclcommand'>\textbf</span><span class='ignore'>{</span><span class='ignore'>Number</span> <span class='ignore'>of</span> <span class='ignore'>Counts</span> <span class='ignore'>Calculated</span><span class='ignore'>}</span>	<span class='ignore'>&amp;</span> <span class='exclcommand'>\textbf</span><span class='ignore'>{</span><span class='ignore'>Counts</span> <span class='exclmath'>$</span><span class='exclcommand'>\times</span><span class='exclmath'>$</span> <span class='ignore'>Resolution</span> <span class='ignore'>(</span><span class='ignore'>mm</span><span class='ignore'>)</span><span class='ignore'>}</span>	<span class='ignore'>&amp;</span>&nbsp; <span class='exclcommand'>\textbf</span><span class='ignore'>{</span><span class='ignore'>Average</span> <span class='ignore'>Measured</span> <span class='ignore'>Distance</span> <span class='ignore'>Moved</span> <span class='ignore'>(</span><span class='ignore'>mm</span><span class='ignore'>)</span><span class='ignore'>}</span>	<span class='ignore'>&amp;</span>	<span class='exclcommand'>\textbf</span><span class='ignore'>{</span><span class='ignore'>Error</span> <span class='ignore'>(</span><span class='ignore'>\%</span><span class='ignore'>)</span><span class='ignore'>}</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\toprule</span><br>
<span class='ignore'>50</span>&nbsp; &nbsp; &nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>4</span>&nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>46.4</span>&nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>47.25</span>&nbsp; &nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>1.83</span>&nbsp; <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>75</span>&nbsp; &nbsp; &nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>6</span>&nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>69.6</span>&nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>70.75</span>&nbsp; &nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>1.65</span>&nbsp; <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>100</span>&nbsp; &nbsp; &nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>8</span>&nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>92.8</span>&nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>97.0</span>&nbsp; &nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>4.52</span>&nbsp; <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>120</span>&nbsp; &nbsp; &nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>10</span>&nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>116.0</span>&nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>113.25</span>&nbsp; &nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>2.37</span>&nbsp; <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>150</span>&nbsp; &nbsp; &nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>12</span>&nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>139.2</span>&nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>141.0</span>&nbsp; &nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>1.29</span>&nbsp; <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>170</span>&nbsp; &nbsp; &nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>14</span>&nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>162.4</span>&nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>161.5</span>&nbsp; &nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>0.55</span>&nbsp; <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>200</span>&nbsp; &nbsp; &nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>17</span>&nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>197.2</span>&nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>201.5</span>&nbsp; &nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>2.18</span>&nbsp; <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>250</span>&nbsp; &nbsp; &nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>21</span>&nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>243.6</span>&nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>244.5</span>&nbsp; &nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>0.37</span>&nbsp; <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>300</span>&nbsp; &nbsp; &nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>25</span>&nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>290.0</span>&nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>290.75</span>&nbsp; &nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>0.26</span>&nbsp; <span class='exclcommand'>\\</span> <span class='exclcommand'>\bottomrule</span><br>
<span class='exclgroup'>\end</span><span class='exclgroup'>{tabular}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{table}</span><br>
<br>
<span class='comment'>%\begin{figure}</span><br>
<span class='comment'>%\includegraphics[width=\textwidth]{Figures/Motor_Distance.eps}</span><br>
<span class='comment'>%\caption{A plot of Expected Distance against the measured data. Line indicates the average of the data at each point.}</span><br>
<span class='comment'>%\label{fig:results:motor:distance}</span><br>
<span class='comment'>%\end{figure}</span><br>
<br>
<span class='word1'>However</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>robot</span> <span class='word1'>did</span> <span class='word1'>not</span> <span class='word1'>move</span> <span class='word1'>in</span> <span class='word1'>a</span> <span class='word1'>straight</span> <span class='word1'>line</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>with</span> <span class='word1'>a</span> <span class='word1'>slight</span> <span class='word1'>arc</span><span class='ignore'>.</span> <span class='word1'>Speed</span> <span class='word1'>tests</span> <span class='word1'>were</span> <span class='word1'>performed</span> <span class='word1'>by</span> <span class='word1'>measuring</span> <span class='word1'>the</span> <span class='word1'>total</span> <span class='word1'>time</span> <span class='word1'>taken</span> <span class='word1'>to</span> <span class='word1'>complete</span> <span class='word1'>eight</span> <span class='word1'>full</span> <span class='word1'>revolutions</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>equivalent</span> <span class='word1'>of</span> <span class='word1'>moving</span> <span class='word1'>928mm</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>results</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>calculated</span> <span class='word1'>wheel</span> <span class='word1'>speeds</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Table</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>results</span><span class='ignore'>:</span><span class='ignore'>motor</span><span class='ignore'>:</span><span class='ignore'>speed</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>It</span> <span class='word1'>shows</span> <span class='word1'>that</span> <span class='word1'>the</span> <span class='word1'>left</span> <span class='word1'>motor</span> <span class='word1'>runs</span> <span class='word1'>slightly</span> <span class='word1'>faster</span> <span class='word1'>than</span> <span class='word1'>the</span> <span class='word1'>right</span><span class='ignore'>,</span> <span class='word1'>even</span> <span class='word1'>though</span> <span class='word1'>the</span> <span class='word1'>PWM</span> <span class='word1'>duty</span> <span class='word1'>cycle</span> <span class='word1'>is</span> <span class='word1'>the</span> <span class='word1'>same</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>controller</span> <span class='word1'>could</span> <span class='word1'>be</span> <span class='word1'>implemented</span> <span class='word1'>to</span> <span class='word1'>correct</span> <span class='word1'>this</span> <span class='word1'>error</span> <span class='word1'>during</span> <span class='word1'>operation</span><span class='ignore'>.</span> <span class='word1'>However</span><span class='ignore'>,</span> <span class='word1'>over</span> <span class='word1'>the</span> <span class='word1'>distances</span> <span class='word1'>covered</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>error</span> <span class='word1'>introduced</span> <span class='word1'>by</span> <span class='word1'>this</span> <span class='word1'>is</span> <span class='word1'>small</span> <span class='word1'>enough</span> <span class='word1'>to</span> <span class='word1'>neglect</span><span class='ignore'>.</span> <br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{table}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Results</span> <span class='word3'>of</span> <span class='word3'>motor</span> <span class='word3'>speed</span> <span class='word3'>test</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>results</span><span class='ignore'>:</span><span class='ignore'>motor</span><span class='ignore'>:</span><span class='ignore'>speed</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='exclgroup'>\begin</span><span class='exclgroup'>{tabular}</span><span class='ignore'>{ccc}</span> <span class='exclcommand'>\toprule</span><br>
<span class='exclcommand'>\textbf</span><span class='ignore'>{Wheel}</span> <span class='ignore'>&amp;</span>	<span class='exclcommand'>\textbf</span><span class='ignore'>{</span><span class='ignore'>Total</span> <span class='ignore'>Time</span> <span class='ignore'>Elapsed</span> <span class='ignore'>(</span><span class='exclmath'>$</span><span class='ignore'>s</span><span class='exclmath'>$</span><span class='ignore'>)</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span> <span class='exclcommand'>\textbf</span><span class='ignore'>{</span><span class='ignore'>Calculated</span> <span class='ignore'>Speed</span> <span class='ignore'>(</span><span class='exclmath'>$</span><span class='ignore'>mm.s</span><span class='ignore'>^</span><span class='ignore'>{</span><span class='ignore'>-</span><span class='ignore'>1</span><span class='ignore'>}</span><span class='exclmath'>$</span><span class='ignore'>)</span><span class='ignore'>}</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\toprule</span><br>
<span class='ignore'>Left</span> <span class='ignore'>&amp;</span> <span class='ignore'>44.6</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>20.8</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>Right</span> <span class='ignore'>&amp;</span> <span class='ignore'>49.6</span>	<span class='ignore'>&amp;</span>	<span class='ignore'>18.7</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\bottomrule</span><br>
<span class='exclgroup'>\end</span><span class='exclgroup'>{tabular}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{table}</span><br>
<br>
<span class='command'>\subsection</span><span class='word2'>{Conclusion}</span><br>
<span class='word1'>Due</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>low</span> <span class='word1'>resolution</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>sensor</span> <span class='ignore'>(</span><span class='word1'>10</span> <span class='word1'>counts</span> <span class='word1'>per</span> <span class='word1'>revolution</span><span class='ignore'>)</span><span class='ignore'>,</span> <span class='word1'>there</span> <span class='word1'>is</span> <span class='word1'>a</span> <span class='word1'>minimum</span> <span class='word1'>distance</span> <span class='word1'>that</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>moved</span> <span class='word1'>and</span> <span class='word1'>a</span> <span class='word1'>minimum</span> <span class='word1'>angle</span> <span class='word1'>of</span> <span class='word1'>rotation</span><span class='ignore'>,</span> <span class='word1'>shown</span> <span class='word1'>in</span> <span class='word1'>Equations</span> <span class='command'>\eqref</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>Resolution</span><span class='ignore'>:</span><span class='ignore'>Distance</span><span class='ignore'>}</span> <span class='word1'>and</span> <span class='command'>\eqref</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>Resolution</span><span class='ignore'>:</span><span class='ignore'>Angle</span><span class='ignore'>}</span> <span class='word1'>respectively</span><span class='ignore'>.</span> <span class='word1'>These</span> <span class='word1'>show</span> <span class='word1'>that</span> <span class='word1'>a</span> <span class='word1'>greater</span> <span class='word1'>distance</span> <span class='word1'>resolution</span> <span class='word1'>could</span> <span class='word1'>be</span> <span class='word1'>obtained</span> <span class='word1'>by</span> <span class='word1'>decreasing</span> <span class='word1'>the</span> <span class='word1'>wheel</span> <span class='word1'>size</span> <span class='word1'>or</span> <span class='word1'>increasing</span> <span class='mathgroup'>$</span><span class='ignore'>\gamma</span><span class='mathgroup'>$</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>a</span> <span class='word1'>greater</span> <span class='word1'>rotational</span> <span class='word1'>resolution</span> <span class='word1'>could</span> <span class='word1'>be</span> <span class='word1'>obtained</span> <span class='word1'>by</span> <span class='word1'>using</span> <span class='word1'>the</span> <span class='word1'>above</span><span class='ignore'>,</span> <span class='word1'>or</span> <span class='word1'>by</span> <span class='word1'>increasing</span> <span class='word1'>the</span> <span class='word1'>distance</span> <span class='word1'>the</span> <span class='word1'>wheels</span> <span class='word1'>are</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>centre</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>robot</span><span class='ignore'>.</span> <span class='word1'>In</span> <span class='word1'>general</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>ratio</span> <span class='mathgroup'>$</span><span class='ignore'>C</span><span class='ignore'>_</span><span class='ignore'>w</span><span class='ignore'>:</span><span class='ignore'>\gamma</span><span class='mathgroup'>$</span> <span class='word1'>should</span> <span class='word1'>be</span> <span class='word1'>as</span> <span class='word1'>large</span> <span class='word1'>as</span> <span class='word1'>possible</span> <span class='word1'>to</span> <span class='word1'>obtain</span> <span class='word1'>the</span> <span class='word1'>best</span> <span class='word1'>resolution</span> <span class='word1'>for</span> <span class='word1'>movement</span><span class='ignore'>.</span><br>
<br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{equation}</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>Resolution</span><span class='ignore'>:</span><span class='ignore'>Distance</span><span class='ignore'>}</span><br>
<span class='ignore'>\Delta</span><span class='ignore'>_</span><span class='ignore'>{\delta}</span> <span class='ignore'>=</span> <span class='exclcommand'>\frac</span><span class='ignore'>{</span><span class='ignore'>C</span><span class='ignore'>_</span><span class='ignore'>w</span><span class='ignore'>}</span><span class='ignore'>{\gamma}</span> <span class='ignore'>=</span> <span class='ignore'>12mm</span><br>
<span class='grouping'>\end</span><span class='grouping'>{equation}</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{equation}</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>Resolution</span><span class='ignore'>:</span><span class='ignore'>Angle</span><span class='ignore'>}</span><br>
<span class='ignore'>\Delta</span><span class='ignore'>_</span><span class='ignore'>{\theta}</span> <span class='ignore'>=</span> <span class='exclcommand'>\frac</span><span class='ignore'>{</span><span class='ignore'>360</span> <span class='exclcommand'>\times</span> <span class='ignore'>C</span><span class='ignore'>_</span><span class='ignore'>w</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>\gamma </span><span class='exclcommand'>\times</span> <span class='ignore'>C</span><span class='ignore'>_</span><span class='ignore'>b</span><span class='ignore'>}</span> <span class='exclcommand'>\approx</span> <span class='ignore'>15</span><span class='ignore'>^</span><span class='exclcommand'>\circ</span> <br>
<span class='grouping'>\end</span><span class='grouping'>{equation}</span><br>
<br>
<span class='word1'>This</span> <span class='word1'>method</span> <span class='word1'>lacks</span> <span class='word1'>on</span> <span class='word1'>two</span> <span class='word1'>points</span> <span class='ignore'>-</span> <span class='word1'>speed</span> <span class='word1'>control</span> <span class='word1'>and</span> <span class='word1'>accuracy</span><span class='ignore'>.</span><br>
<span class='word1'>A</span> <span class='word1'>better</span> <span class='word1'>controller</span> <span class='word1'>could</span> <span class='word1'>be</span> <span class='word1'>implemented</span> <span class='word1'>to</span> <span class='word1'>help</span> <span class='word1'>move</span> <span class='word1'>at</span> <span class='word1'>different</span> <span class='word1'>speeds</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>could</span> <span class='word1'>use</span> <span class='word1'>the</span> <span class='word1'>remaining</span> <span class='word1'>number</span> <span class='word1'>of</span> <span class='word1'>counts</span> <span class='word1'>to</span> <span class='word1'>gradually</span> <span class='word1'>slow</span> <span class='word1'>the</span> <span class='word1'>speed</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>motors</span> <span class='word1'>down</span> <span class='word1'>as</span> <span class='word1'>well</span> <span class='word1'>as</span> <span class='word1'>correct</span> <span class='word1'>the</span> <span class='word1'>speed</span> <span class='word1'>mismatch</span> <span class='word1'>between</span> <span class='word1'>the</span> <span class='word1'>wheels</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>PID</span> <span class='word1'>controller</span> <span class='word1'>could</span> <span class='word1'>be</span> <span class='word1'>implemented</span> <span class='word1'>if</span> <span class='word1'>greater</span> <span class='word1'>accuracy</span> <span class='word1'>is</span> <span class='word1'>needed</span> <span class='word1'>quicker</span><span class='ignore'>,</span> <span class='word1'>at</span> <span class='word1'>the</span> <span class='word1'>expense</span> <span class='word1'>of</span> <span class='word1'>computation</span> <span class='word1'>time</span> <span class='word1'>and</span> <span class='word1'>potential</span> <span class='word1'>overshoot</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>Rotary</span> <span class='word1'>encoders</span> <span class='word1'>could</span> <span class='word1'>be</span> <span class='word1'>used</span> <span class='word1'>to</span> <span class='word1'>detect</span> <span class='word1'>the</span> <span class='word1'>direction</span> <span class='word1'>of</span> <span class='word1'>wheels</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>good</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>more</span> <span class='word1'>costly</span><span class='ignore'>,</span> <span class='word1'>alternative</span> <span class='word1'>would</span> <span class='word1'>be</span> <span class='word1'>the</span> <span class='word1'>HUB-ee</span> <span class='word1'>wheel</span> <span class='word1'>by</span> <span class='command'>\cite</span><span class='ignore'>{</span><span class='ignore'>Creative</span><span class='ignore'>_</span><span class='ignore'>Robotics</span><span class='ignore'>}</span><span class='ignore'>,</span> <span class='word1'>which</span> <span class='word1'>includes</span> <span class='word1'>a</span> <span class='word1'>120</span> <span class='word1'>point</span> <span class='word1'>quadrature</span> <span class='word1'>encoder</span> <span class='word1'>and</span> <span class='word1'>sensor</span><span class='ignore'>,</span> <span class='word1'>motor</span> <span class='word1'>driver</span> <span class='word1'>and</span> <span class='word1'>a</span> <span class='word1'>geared</span> <span class='word1'>motor</span> <span class='word1'>all</span> <span class='word1'>within</span> <span class='word1'>the</span> <span class='word1'>wheel</span><span class='ignore'>.</span> <span class='word1'>These</span> <span class='word1'>wheels</span> <span class='word1'>have</span> <span class='word1'>12</span> <span class='word1'>times</span> <span class='word1'>the</span> <span class='word1'>accuracy</span> <span class='word1'>as</span> <span class='word1'>the</span> <span class='word1'>method</span> <span class='word1'>described</span> <span class='word1'>here</span> <span class='word1'>and</span> <span class='word1'>a</span> <span class='word1'>similar</span> <span class='word1'>interface</span><span class='ignore'>.</span> <br>
 <br>
<span class='word1'>Given</span> <span class='word1'>that</span> <span class='word1'>the</span> <span class='word1'>robot</span> <span class='word1'>does</span> <span class='word1'>not</span> <span class='word1'>need</span> <span class='word1'>to</span> <span class='word1'>move</span> <span class='word1'>any</span> <span class='word1'>more</span> <span class='word1'>accurately</span> <span class='word1'>that</span> <span class='word1'>to</span> <span class='word1'>1cm</span><span class='ignore'>,</span> <span class='word1'>this</span> <span class='word1'>method</span> <span class='word1'>has</span> <span class='word1'>proved</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>cheap</span> <span class='word1'>and</span> <span class='word1'>successful</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>robot</span> <span class='word1'>is</span> <span class='word1'>able</span> <span class='word1'>to</span> <span class='word1'>move</span> <span class='word1'>a</span> <span class='word1'>distance</span> <span class='word1'>with</span> <span class='word1'>reasonable</span> <span class='word1'>accuracy</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>to</span> <span class='word1'>a</span> <span class='word1'>fairly</span> <span class='word1'>low</span> <span class='word1'>resolution</span><span class='ignore'>.</span><br>
<br>
<span class='command'>\section</span><span class='ignore'>{</span><span class='word2'>PCB</span> <span class='word2'>Development</span><span class='ignore'>}</span><span class='command'>\label</span><span class='ignore'>{</span><span class='ignore'>Section</span><span class='ignore'>:</span><span class='ignore'>PCB</span><span class='ignore'>_</span><span class='ignore'>Dev</span><span class='ignore'>}</span><br>
<span class='command'>\subsection</span><span class='ignore'>{</span><span class='word2'>Circuit</span> <span class='word2'>Design</span><span class='ignore'>}</span><br>
<br>
<span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>Hierarchical</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>a</span> <span class='word1'>basic</span> <span class='word1'>hierarchy</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>robot</span><span class='ignore'>.</span> <span class='word1'>Each</span> <span class='word1'>pin</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>UC3C</span> <span class='word1'>can</span> <span class='word1'>have</span> <span class='word1'>one</span> <span class='word1'>of</span> <span class='word1'>up</span> <span class='word1'>to</span> <span class='word1'>six</span> <span class='word1'>special</span> <span class='word1'>functions</span><span class='ignore'>,</span> <span class='word1'>as</span> <span class='word1'>well</span> <span class='word1'>as</span> <span class='word1'>being</span> <span class='word1'>a</span> <span class='word1'>GPIO</span> <span class='word1'>pin</span><span class='ignore'>.</span>&nbsp; <span class='word1'>Table</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>UC3C</span><span class='ignore'>:</span><span class='ignore'>Pinout</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>the</span> <span class='word1'>pinout</span> <span class='word1'>for</span> <span class='word1'>the</span> <span class='word1'>microcontroller</span> <span class='word1'>used</span><span class='ignore'>.</span> <br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>hierarchy.pdf</span><span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>A</span> <span class='word3'>hierarchical</span> <span class='word3'>diagram</span> <span class='word3'>of</span> <span class='word3'>the</span> <span class='word3'>robot</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>Hierarchical</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{table}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>The</span> <span class='word3'>pinout</span> <span class='word3'>of</span> <span class='word3'>the</span> <span class='word3'>AVR</span> <span class='word3'>for</span> <span class='word3'>the</span> <span class='word3'>circuit</span><span class='ignore'>.</span> <span class='ignore'>`</span><span class='ignore'>-</span><span class='ignore'>'</span> <span class='word3'>means</span> <span class='word3'>unavailable</span> <span class='word3'>and</span> <span class='word3'>blank</span> <span class='word3'>means</span> <span class='word3'>unused</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>UC3C</span><span class='ignore'>:</span><span class='ignore'>Pinout</span><span class='ignore'>}</span><br>
<span class='comment'>%\begin{tabular}{|p{1.2cm}|p{3cm}|p{3cm}|p{3cm}|p{3cm}|}\cline{2-5}</span><br>
<span class='exclgroup'>\begin</span><span class='exclgroup'>{tabular}</span><span class='ignore'>{ccccc}</span><span class='exclcommand'>\toprule</span><span class='comment'>%\cline{2-5}</span><br>
<span class='comment'>%\multicolumn{1}{c|}{ } &amp; \multicolumn{4}{|c|}{Port} \\ \hline</span><br>
<span class='exclcommand'>\textbf</span><span class='ignore'>{Pin}</span> <span class='ignore'>&amp;</span> <span class='exclcommand'>\textbf</span><span class='ignore'>{</span><span class='ignore'>Port</span> <span class='ignore'>A</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span> <span class='exclcommand'>\textbf</span><span class='ignore'>{</span><span class='ignore'>Port</span> <span class='ignore'>B</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span> <span class='exclcommand'>\textbf</span><span class='ignore'>{</span><span class='ignore'>Port</span> <span class='ignore'>C</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span> <span class='exclcommand'>\textbf</span><span class='ignore'>{</span><span class='ignore'>Port</span> <span class='ignore'>D</span><span class='ignore'>}</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\toprule</span><br>
<span class='ignore'>0</span><span class='ignore'>&amp;</span><span class='ignore'>TCK</span><span class='ignore'>&amp;</span><span class='ignore'>CAMERA</span><span class='exclcommand'>\_</span> <span class='ignore'>0</span><span class='ignore'>&amp;</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-DATA13</span><span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>1</span><span class='ignore'>&amp;</span><span class='ignore'>TDI</span><span class='ignore'>&amp;</span><span class='ignore'>CAMERA</span><span class='exclcommand'>\_</span> <span class='ignore'>1</span><span class='ignore'>&amp;</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-DATA14</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>2</span><span class='ignore'>&amp;</span><span class='ignore'>TDO</span><span class='ignore'>&amp;</span><span class='ignore'>CAMERA</span><span class='exclcommand'>\_</span><span class='ignore'>2</span><span class='ignore'>&amp;</span><span class='ignore'>SDA</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-DATA15</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>3</span><span class='ignore'>&amp;</span><span class='ignore'>TMS</span><span class='ignore'>&amp;</span><span class='ignore'>CAMERA</span><span class='exclcommand'>\_</span><span class='ignore'>3</span><span class='ignore'>&amp;</span><span class='ignore'>SCL</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-ADDR0</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>4</span><span class='ignore'>&amp;</span><span class='ignore'>USB</span> <span class='ignore'>ID</span><span class='ignore'>&amp;</span><span class='ignore'>CAMERA</span><span class='exclcommand'>\_</span><span class='ignore'>4</span><span class='ignore'>&amp;</span><span class='ignore'>USART</span> <span class='ignore'>TXD</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-ADDR1</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>5</span><span class='ignore'>&amp;</span><span class='ignore'>&amp;</span><span class='ignore'>CAMERA</span><span class='exclcommand'>\_</span><span class='ignore'>5</span><span class='ignore'>&amp;</span><span class='ignore'>USART</span> <span class='ignore'>RXD</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-ADDR2</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>6</span><span class='ignore'>&amp;</span><span class='ignore'>AC</span> <span class='ignore'>R</span><span class='ignore'>&amp;</span><span class='ignore'>CAMERA</span><span class='exclcommand'>\_</span><span class='ignore'>6</span><span class='ignore'>&amp;</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-ADDR3</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>7</span><span class='ignore'>&amp;</span><span class='ignore'>AC</span> <span class='ignore'>R</span><span class='ignore'>&amp;</span><span class='ignore'>CAMERA</span><span class='exclcommand'>\_</span><span class='ignore'>7</span><span class='ignore'>&amp;</span><span class='ignore'>EBI</span> <span class='ignore'>NCS3</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-ADDR4</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>8</span><span class='ignore'>&amp;</span><span class='ignore'>AC</span> <span class='ignore'>L</span><span class='ignore'>&amp;</span><span class='ignore'>STBY1</span><span class='ignore'>&amp;</span><span class='ignore'>EBI</span> <span class='ignore'>NCS0</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-ADDR5</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>9</span><span class='ignore'>&amp;</span><span class='ignore'>AC</span> <span class='ignore'>L</span><span class='ignore'>&amp;</span><span class='ignore'>IN11</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-ADDR23</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-ADDR6</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>10</span><span class='ignore'>&amp;</span><span class='ignore'>VSYNC0</span><span class='ignore'>&amp;</span><span class='ignore'>IN12</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-ADDR22</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-ADDR7</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>11</span><span class='ignore'>&amp;</span><span class='ignore'>ADCREF</span><span class='ignore'>&amp;</span><span class='ignore'>PWM1</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-ADDR21</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-ADDR8</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>12</span><span class='ignore'>&amp;</span><span class='ignore'>&amp;</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-ADDR20</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-ADDR9</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>13</span><span class='ignore'>&amp;</span><span class='ignore'>&amp;</span><span class='ignore'>PWM2</span><span class='ignore'>&amp;</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-SDCK</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>14</span><span class='ignore'>&amp;</span><span class='ignore'>&amp;</span><span class='ignore'>IN22</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-SDCKE</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-ADDR1</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>15</span><span class='ignore'>&amp;</span><span class='ignore'>RRST0</span><span class='ignore'>&amp;</span><span class='ignore'>IN21</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-SDWE</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-ADDR11</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>16</span><span class='ignore'>&amp;</span><span class='ignore'>ADCREF</span><span class='ignore'>&amp;</span><span class='ignore'>STBY2</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-CAS</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-ADDR12</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>17</span><span class='ignore'>&amp;</span><span class='ignore'>-</span><span class='ignore'>&amp;</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-RAS</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-ADDR13</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>18</span><span class='ignore'>&amp;</span><span class='ignore'>-</span><span class='ignore'>&amp;</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-SDA10</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-ADDR14</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>19</span><span class='ignore'>&amp;</span><span class='ignore'>RCLK0</span><span class='ignore'>&amp;</span><span class='ignore'>SPI-MOSI</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-DATA0</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-ADDR15</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>20</span><span class='ignore'>&amp;</span><span class='ignore'>WEN0</span><span class='ignore'>&amp;</span><span class='ignore'>SPI-MISO</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-DATA1</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-ADDR16</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>21</span><span class='ignore'>&amp;</span><span class='ignore'>WRST0</span><span class='ignore'>&amp;</span><span class='ignore'>SPI-SCK</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-DATA2</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-ADDR17</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>22</span><span class='ignore'>&amp;</span><span class='ignore'>RRST1</span><span class='ignore'>&amp;</span><span class='ignore'>SPI-CS3</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-DATA3</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-ADDR18</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>23</span><span class='ignore'>&amp;</span><span class='ignore'>RCLK1</span><span class='ignore'>&amp;</span><span class='ignore'>SPI-CS2</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-DATA4</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-ADDR19</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>24</span><span class='ignore'>&amp;</span><span class='ignore'>WEN1</span><span class='ignore'>&amp;</span><span class='ignore'>SPI-CS1</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-DATA5</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-NWE1</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>25</span><span class='ignore'>&amp;</span><span class='ignore'>WRST1</span><span class='ignore'>&amp;</span><span class='ignore'>SPI-CS0</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-DATA6</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-NWE0</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>26</span><span class='ignore'>&amp;</span><span class='ignore'>VSYNC1</span><span class='ignore'>&amp;</span><span class='ignore'>SD</span><span class='ignore'>-</span> <span class='ignore'>DETECT</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-DATA7</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-NRD</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>27</span><span class='ignore'>&amp;</span><span class='ignore'>NOE1</span><span class='ignore'>&amp;</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-DATA8</span><span class='ignore'>&amp;</span><span class='ignore'>EBI</span> <span class='ignore'>NCS1</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>28</span><span class='ignore'>&amp;</span><span class='ignore'>NOE0</span><span class='ignore'>&amp;</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-DATA9</span><span class='ignore'>&amp;</span><span class='ignore'>EBI</span> <span class='ignore'>NCS2</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>29</span><span class='ignore'>&amp;</span><span class='ignore'>&amp;</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-DATA10</span><span class='ignore'>&amp;</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>30</span><span class='ignore'>&amp;</span><span class='ignore'>-</span><span class='ignore'>&amp;</span><span class='ignore'>CLK</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-DATA11</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-NWAIT</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>31</span><span class='ignore'>&amp;</span><span class='ignore'>-</span><span class='ignore'>&amp;</span><span class='ignore'>CLK</span><span class='ignore'>&amp;</span><span class='ignore'>EBI-DATA12</span><span class='ignore'>&amp;</span><span class='ignore'>-</span><span class='exclcommand'>\\</span> <span class='exclcommand'>\bottomrule</span><br>
<br>
<span class='exclgroup'>\end</span><span class='exclgroup'>{tabular}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{table}</span><br>
<br>
<span class='word1'>The</span> <span class='word1'>circuit</span> <span class='word1'>diagram</span> <span class='word1'>for</span> <span class='word1'>Revision</span> <span class='word1'>A</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Section</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>sch</span><span class='ignore'>:</span><span class='ignore'>Columbus</span><span class='ignore'>:</span><span class='ignore'>CircuitDiagram</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>schematic</span> <span class='word1'>for</span> <span class='word1'>the</span> <span class='word1'>SDRAM</span> <span class='word1'>and</span> <span class='word1'>values</span> <span class='word1'>and</span> <span class='word1'>locations</span> <span class='word1'>of</span> <span class='word1'>decoupling</span> <span class='word1'>capacitors</span> <span class='word1'>were</span> <span class='word1'>used</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>schematic</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>UC3C-EK</span> <span class='word1'>development</span> <span class='word1'>board</span> <span class='command'>\citep</span><span class='ignore'>{</span><span class='ignore'>Atmel</span><span class='ignore'>:</span><span class='ignore'>UC3CEK</span><span class='ignore'>}</span><span class='ignore'>.</span> <br>
<span class='command'>\subsection</span><span class='ignore'>{</span><span class='word2'>PCB</span> <span class='word2'>Design</span><span class='ignore'>}</span><br>
<span class='word1'>The</span> <span class='word1'>PCB</span> <span class='word1'>was</span> <span class='word1'>designed</span> <span class='word1'>using</span> <span class='word1'>EAGLE</span> <span class='word1'>CAD</span> <span class='word1'>Software</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>four</span> <span class='word1'>layer</span> <span class='word1'>board</span> <span class='word1'>was</span> <span class='word1'>decided</span> <span class='word1'>upon</span> <span class='word1'>to</span> <span class='word1'>reduce</span> <span class='word1'>the</span> <span class='word1'>number</span> <span class='word1'>of</span> <span class='word1'>tracks</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>more</span> <span class='word1'>easily</span> <span class='word1'>supply</span> <span class='word1'>power</span> <span class='word1'>and</span> <span class='word1'>ground</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>devices</span><span class='ignore'>.</span> <span class='word1'>Layer</span> <span class='word1'>two</span> <span class='word1'>is</span> <span class='word1'>a</span> <span class='mathgroup'>$</span><span class='ignore'>3.3V</span><span class='mathgroup'>$</span> <span class='word1'>plane</span> <span class='word1'>and</span> <span class='word1'>layer</span> <span class='word1'>three</span> <span class='word1'>is</span> <span class='word1'>a</span> <span class='word1'>ground</span> <span class='word1'>plane</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>ground</span> <span class='word1'>plane</span> <span class='word1'>is</span> <span class='word1'>also</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>top</span> <span class='word1'>and</span> <span class='word1'>bottom</span> <span class='word1'>layers</span> <span class='word1'>to</span> <span class='word1'>help</span> <span class='word1'>eliminate</span> <span class='word1'>any</span> <span class='word1'>ground</span> <span class='word1'>bounce</span> <span class='word1'>that</span> <span class='word1'>could</span> <span class='word1'>occur</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>The</span> <span class='word1'>SDRAM</span> <span class='word1'>uses</span> <span class='word1'>the</span> <span class='word1'>EBI</span> <span class='word1'>protocol</span><span class='ignore'>.</span> <span class='word1'>In</span> <span class='word1'>high</span> <span class='word1'>speed</span> <span class='word1'>systems</span><span class='ignore'>,</span> <span class='word1'>care</span> <span class='word1'>is</span> <span class='word1'>often</span> <span class='word1'>taken</span> <span class='word1'>to</span> <span class='word1'>equalise</span> <span class='word1'>track</span> <span class='word1'>lengths</span> <span class='command'>\citep</span><span class='ignore'>{liu2004equalization}</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>UC3C</span> <span class='word1'>maximum</span> <span class='word1'>clock</span> <span class='word1'>frequency</span> <span class='word1'>is</span> <span class='word1'>33MHz</span> <span class='ignore'>(</span><span class='word1'>with</span> <span class='word1'>no</span> <span class='word1'>wait</span> <span class='word1'>states</span><span class='ignore'>)</span><span class='ignore'>,</span> <span class='word1'>which</span> <span class='word1'>is</span> <span class='word1'>not</span> <span class='word1'>fast</span> <span class='word1'>enough</span> <span class='word1'>to</span> <span class='word1'>cause</span> <span class='word1'>any</span> <span class='word1'>track</span> <span class='word1'>equalisation</span> <span class='word1'>problems</span><span class='ignore'>.</span> <span class='word1'>Care</span><span class='ignore'>,</span> <span class='word1'>however</span><span class='ignore'>,</span> <span class='word1'>was</span> <span class='word1'>taken</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>USB</span> <span class='word1'>lines</span> <span class='word1'>to</span> <span class='word1'>ensure</span> <span class='word1'>correct</span> <span class='word1'>impedance</span> <span class='word1'>and</span> <span class='word1'>that</span> <span class='word1'>the</span> <span class='word1'>track</span> <span class='word1'>lengths</span> <span class='word1'>matched</span> <span class='word1'>to</span> <span class='word1'>each</span> <span class='word1'>other</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>Tracks</span> <span class='word1'>were</span> <span class='word1'>routed</span> <span class='word1'>in</span> <span class='word1'>order</span> <span class='word1'>of</span> <span class='word1'>priority</span><span class='ignore'>,</span> <span class='word1'>starting</span> <span class='word1'>with</span> <span class='word1'>the</span> <span class='word1'>UC3C</span><span class='ignore'>,</span> <span class='word1'>SDRAM</span> <span class='word1'>and</span> <span class='word1'>cameras</span><span class='ignore'>.</span> <span class='word1'>All</span> <span class='word1'>other</span> <span class='word1'>devices</span> <span class='word1'>were</span> <span class='word1'>then</span> <span class='word1'>routed</span> <span class='ignore'>(</span><span class='command'>\itc</span> <span class='word1'>multiplexer</span><span class='ignore'>,</span> <span class='word1'>SD</span> <span class='word1'>card</span><span class='ignore'>,</span> <span class='word1'>motor</span> <span class='word1'>drivers</span> <span class='word1'>etc</span><span class='ignore'>)</span><span class='ignore'>.</span> <span class='word1'>As</span> <span class='word1'>a</span> <span class='word1'>precaution</span><span class='ignore'>,</span> <span class='word1'>spare</span> <span class='word1'>pins</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>UC3C</span> <span class='word1'>were</span> <span class='word1'>routed</span> <span class='word1'>to</span> <span class='word1'>headers</span> <span class='ignore'>(</span><span class='word1'>J8</span> <span class='word1'>and</span> <span class='word1'>J9</span><span class='ignore'>)</span><span class='ignore'>,</span> <span class='word1'>so</span> <span class='word1'>that</span> <span class='word1'>additions</span> <span class='word1'>could</span> <span class='word1'>be</span> <span class='word1'>done</span> <span class='word1'>if</span> <span class='word1'>a</span> <span class='word1'>pinout</span> <span class='word1'>or</span> <span class='word1'>connection</span> <span class='word1'>was</span> <span class='word1'>found</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>incorrect</span><span class='ignore'>.</span> <span class='word1'>USART</span><span class='ignore'>,</span> <span class='command'>\itc</span> <span class='word1'>and</span> <span class='word1'>SPI</span> <span class='word1'>connections</span> <span class='word1'>were</span> <span class='word1'>routed</span> <span class='word1'>to</span> <span class='word1'>headers</span> <span class='word1'>J7</span><span class='ignore'>,</span> <span class='word1'>J4</span> <span class='word1'>and</span> <span class='word1'>J5</span> <span class='word1'>respectively</span> <span class='word1'>so</span> <span class='word1'>that</span> <span class='word1'>logic</span> <span class='word1'>analysers</span> <span class='word1'>and</span> <span class='word1'>a</span> <span class='word1'>COM</span> <span class='word1'>Port</span> <span class='word1'>could</span> <span class='word1'>be</span> <span class='word1'>attached</span> <span class='word1'>easily</span> <span class='word1'>for</span> <span class='word1'>debugging</span><span class='ignore'>,</span> <span class='word1'>or</span> <span class='word1'>so</span> <span class='word1'>that</span> <span class='word1'>extra</span> <span class='word1'>devices</span> <span class='word1'>could</span> <span class='word1'>be</span> <span class='word1'>added</span> <span class='word1'>onto</span> <span class='word1'>the</span> <span class='word1'>respective</span> <span class='word1'>protocols</span> <span class='word1'>for</span> <span class='word1'>future</span> <span class='word1'>developments</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>Passives</span> <span class='word1'>used</span> <span class='word1'>were</span> <span class='word1'>all</span> <span class='word1'>surface</span> <span class='word1'>mount</span> <span class='word1'>of</span> <span class='word1'>either</span> <span class='word1'>0603</span> <span class='word1'>or</span> <span class='word1'>1206</span> <span class='word1'>size</span> <span class='word1'>to</span> <span class='word1'>save</span> <span class='word1'>space</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>board</span><span class='ignore'>.</span> <span class='word1'>All</span> <span class='word1'>headers</span> <span class='word1'>used</span> <span class='word1'>were</span> <span class='word1'>0.1</span><span class='ignore'>'</span><span class='ignore'>'</span> <span class='word1'>spaced</span> <span class='word1'>for</span> <span class='word1'>easy</span> <span class='word1'>connections</span> <span class='word1'>and</span> <span class='word1'>a</span> <span class='word1'>mini</span> <span class='word1'>B</span> <span class='word1'>USB</span> <span class='word1'>socket</span> <span class='word1'>was</span> <span class='word1'>added</span><span class='ignore'>.</span> <span class='word1'>USB</span> <span class='word1'>could</span> <span class='word1'>be</span> <span class='word1'>used</span> <span class='word1'>to</span> <span class='word1'>power</span> <span class='word1'>the</span> <span class='word1'>robot</span> <span class='word1'>or</span> <span class='word1'>to</span> <span class='word1'>program</span> <span class='word1'>the</span> <span class='word1'>AVR</span> <span class='word1'>via</span> <span class='word1'>the</span> <span class='word1'>bootloader</span><span class='ignore'>.</span> <span class='word1'>Future</span> <span class='word1'>work</span> <span class='word1'>could</span> <span class='word1'>make</span> <span class='word1'>the</span> <span class='word1'>robot</span> <span class='word1'>act</span> <span class='word1'>as</span> <span class='word1'>a</span> <span class='word1'>USB</span> <span class='word1'>device</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>The</span> <span class='word1'>layout</span> <span class='word1'>of</span> <span class='word1'>components</span> <span class='word1'>was</span> <span class='word1'>important</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>cameras</span> <span class='word1'>needed</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>as</span> <span class='word1'>far</span> <span class='word1'>apart</span> <span class='word1'>as</span> <span class='word1'>possible</span> <span class='word1'>and</span> <span class='word1'>at</span> <span class='word1'>the</span> <span class='word1'>front</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>PCB</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>motor</span> <span class='word1'>drivers</span> <span class='word1'>were</span> <span class='word1'>situated</span> <span class='word1'>toward</span> <span class='word1'>the</span> <span class='word1'>back</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>PCB</span> <span class='word1'>and</span> <span class='word1'>headers</span> <span class='word1'>were</span> <span class='word1'>added</span> <span class='word1'>to</span> <span class='word1'>connect</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>motors</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>optosensors</span> <span class='word1'>were</span> <span class='word1'>positioned</span> <span class='word1'>such</span> <span class='word1'>that</span> <span class='word1'>they</span> <span class='word1'>could</span> <span class='word1'>be</span> <span class='word1'>mounted</span> <span class='word1'>directly</span> <span class='word1'>on</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>PCB</span> <span class='word1'>and</span> <span class='word1'>be</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>correct</span> <span class='word1'>position</span> <span class='word1'>to</span> <span class='word1'>sense</span> <span class='word1'>the</span> <span class='word1'>wheels</span><span class='ignore'>.</span> <span class='word1'>Mounting</span> <span class='word1'>holes</span> <span class='word1'>were</span> <span class='word1'>also</span> <span class='word1'>added</span> <span class='word1'>on</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>board</span> <span class='word1'>so</span> <span class='word1'>the</span> <span class='word1'>PCB</span> <span class='word1'>could</span> <span class='word1'>be</span> <span class='word1'>mounted</span> <span class='word1'>on</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>robot</span> <span class='word1'>base</span> <span class='word1'>easily</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>overall</span> <span class='word1'>dimensions</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>PCB</span> <span class='word1'>were</span> <span class='mathgroup'>$</span><span class='ignore'>100mm</span> <span class='exclcommand'>\times</span> <span class='ignore'>70mm</span><span class='mathgroup'>$</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>full</span> <span class='word1'>list</span> <span class='word1'>of</span> <span class='word1'>components</span> <span class='word1'>and</span> <span class='word1'>cost</span> <span class='word1'>of</span> <span class='word1'>each</span> <span class='word1'>is</span> <span class='word1'>documented</span> <span class='word1'>in</span> <span class='word1'>Appendix</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>Appendix</span><span class='ignore'>:</span><span class='ignore'>Costings</span><span class='ignore'>}</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>The</span> <span class='word1'>Eagle</span> <span class='word1'>CAD</span> <span class='word1'>Diagram</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>PCB</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Appendix</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>Appendix</span><span class='ignore'>:</span><span class='ignore'>PCB</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>PCB</span> <span class='word1'>was</span> <span class='word1'>manufactured</span> <span class='word1'>by</span> <span class='command'>\cite</span><span class='ignore'>{PCBCart}</span><span class='ignore'>.</span> <span class='word1'>Five</span> <span class='word1'>PCBs</span> <span class='word1'>cost</span> <span class='command'>\pounds</span> <span class='word1'>205</span> <span class='word1'>to</span> <span class='word1'>manufacture</span> <span class='word1'>and</span> <span class='word1'>ship</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>photo</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>PCB</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>PCB</span><span class='ignore'>:</span><span class='ignore'>Bare</span><span class='ignore'>}</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>Finally</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>name</span> <span class='command'>\textit</span><span class='ignore'>{</span><span class='ignore'>`</span><span class='ignore'>`</span><span class='word1'>The</span> <span class='word1'>Columbus</span><span class='ignore'>'</span><span class='ignore'>'</span><span class='ignore'>}</span> <span class='word1'>was</span> <span class='word1'>decided</span> <span class='word1'>on</span> <span class='word1'>as</span> <span class='word1'>the</span> <span class='word1'>original</span> <span class='word1'>application</span> <span class='word1'>for</span> <span class='word1'>the</span> <span class='word1'>project</span> <span class='word1'>was</span> <span class='word1'>a</span> <span class='word1'>mapping</span> <span class='word1'>robot</span> <span class='word1'>that</span> <span class='word1'>would</span> <span class='word1'>search</span> <span class='word1'>out</span> <span class='word1'>an</span> <span class='word1'>unknown</span> <span class='word1'>area</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>robot</span> <span class='word1'>was</span> <span class='word1'>named</span> <span class='word1'>after</span> <span class='word1'>Christopher</span> <span class='word1'>Columbus</span> <span class='word1'>who</span> <span class='word1'>explored</span> <span class='word1'>and</span> <span class='word1'>navigated</span> <span class='word1'>parts</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>American</span> <span class='word1'>continents</span> <span class='word1'>which</span> <span class='word1'>were</span> <span class='word1'>unknown</span> <span class='word1'>at</span> <span class='word1'>the</span> <span class='word1'>time</span><span class='ignore'>.</span> <br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='exclcommand'>\subfigure</span><span class='option'>[Top of the PCB]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span> <span class='ignore'>/</span> <span class='ignore'>2</span> <span class='ignore'>-</span> <span class='ignore'>1cm</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>PCB</span><span class='ignore'>_</span><span class='ignore'>Bare</span><span class='ignore'>_</span><span class='ignore'>Top.jpg</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='exclcommand'>\subfigure</span><span class='option'>[Bottom of the PCB]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span> <span class='ignore'>/</span> <span class='ignore'>2</span> <span class='ignore'>-</span> <span class='ignore'>1cm</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>PCB</span><span class='ignore'>_</span><span class='ignore'>Bare</span><span class='ignore'>_</span><span class='ignore'>Bottom.jpg</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>PCB</span> <span class='word3'>with</span> <span class='word3'>no</span> <span class='word3'>components</span> <span class='word3'>mounted</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>PCB</span><span class='ignore'>:</span><span class='ignore'>Bare</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<span class='command'>\inote</span><span class='ignore'>{</span><span class='ignore'>Considerations</span> <span class='ignore'>-</span> <span class='ignore'>Power</span> <span class='ignore'>consumption</span> <span class='ignore'>of</span> <span class='ignore'>devices</span> <span class='ignore'>not</span> <span class='ignore'>exceeding</span> <span class='ignore'>VReg</span><span class='ignore'>}</span><br>
<br>
<span class='command'>\subsection</span><span class='ignore'>{</span><span class='word2'>PCB</span> <span class='word2'>Testing</span><span class='ignore'>}</span><br>
<span class='word1'>A</span> <span class='word1'>program</span> <span class='word1'>was</span> <span class='word1'>written</span> <span class='word1'>to</span> <span class='word1'>test</span> <span class='word1'>all</span> <span class='word1'>the</span> <span class='word1'>devices</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>PCB</span><span class='ignore'>.</span> <span class='word1'>Tests</span> <span class='word1'>were</span> <span class='word1'>done</span> <span class='word1'>to</span> <span class='word1'>exercise</span> <span class='word1'>all</span> <span class='word1'>features</span> <span class='word1'>and</span> <span class='word1'>are</span> <span class='word1'>explained</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>subsequent</span> <span class='word1'>sections</span><span class='ignore'>.</span> <span class='word1'>All</span> <span class='word1'>code</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Appendix</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>Appendix</span><span class='ignore'>:</span><span class='ignore'>TestCode</span><span class='ignore'>}</span><br>
<span class='comment'>%\begin{enumerate}</span><br>
<span class='comment'>%\item[\ref{USART:Test}] USART Send and Receive</span><br>
<span class='comment'>%\item[\ref{SD:Test}] SD Card </span><br>
<span class='comment'>%\item[\ref{LED:Test}] LEDs </span><br>
<span class='comment'>%\item[\ref{SDRAM:Test}] SDRAM </span><br>
<span class='comment'>%\item[\ref{I2C:Test}] \itc </span><br>
<span class='comment'>%\item[\ref{Camera:Test}] Camera </span><br>
<span class='comment'>%\item[\ref{Motor:Test}] Motor </span><br>
<span class='comment'>%\end{enumerate}</span><br>
<br>
<br>
<span class='command'>\subsubsection</span><span class='ignore'>{</span><span class='word2'>USART</span> <span class='word2'>Test</span><span class='ignore'>}</span><span class='command'>\label</span><span class='ignore'>{</span><span class='ignore'>USART</span><span class='ignore'>:</span><span class='ignore'>Test</span><span class='ignore'>}</span><br>
<span class='word1'>When</span> <span class='word1'>the</span> <span class='word1'>test</span> <span class='word1'>program</span> <span class='word1'>begins</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>microcontroller</span> <span class='word1'>waits</span> <span class='word1'>for</span> <span class='word1'>a</span> <span class='word1'>character</span> <span class='word1'>input</span><span class='ignore'>.</span> <span class='word1'>All</span> <span class='word1'>characters</span> <span class='word1'>are</span> <span class='word1'>echoed</span> <span class='word1'>back</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>enables</span> <span class='word1'>the</span> <span class='word1'>user</span> <span class='word1'>to</span> <span class='word1'>check</span> <span class='word1'>the</span> <span class='word1'>communications</span> <span class='word1'>work</span><span class='ignore'>.</span> <span class='word1'>Once</span> <span class='word1'>a</span> <span class='word1'>carriage</span> <span class='word1'>return</span> <span class='word1'>key</span> <span class='word1'>is</span> <span class='word1'>received</span> <span class='ignore'>(</span><span class='mathgroup'>$</span><span class='ignore'>D</span><span class='ignore'>_</span><span class='ignore'>{16}</span><span class='mathgroup'>$</span><span class='ignore'>)</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>test</span> <span class='word1'>program</span> <span class='word1'>continues</span><span class='ignore'>.</span> <span class='word1'>Listing</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>lst</span><span class='ignore'>:</span><span class='ignore'>USARTTestCode</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>the</span> <span class='word1'>test</span> <span class='word1'>code</span> <span class='word1'>for</span> <span class='word1'>the</span> <span class='word1'>USART</span> <span class='word1'>protocol</span><span class='ignore'>.</span><br>
<br>
<br>
<span class='command'>\subsubsection</span><span class='ignore'>{</span><span class='word2'>SD</span> <span class='word2'>Card</span> <span class='word2'>Test</span><span class='ignore'>}</span><span class='command'>\label</span><span class='ignore'>{</span><span class='ignore'>SD</span><span class='ignore'>:</span><span class='ignore'>Test</span><span class='ignore'>}</span><br>
<span class='word1'>The</span> <span class='word1'>Atmel</span> <span class='word1'>Software</span> <span class='word1'>Framework</span> <span class='command'>\citep</span><span class='ignore'>{</span><span class='ignore'>Atmel</span><span class='ignore'>:</span><span class='ignore'>ASF</span><span class='ignore'>}</span> <span class='word1'>provided</span> <span class='word1'>drivers</span> <span class='word1'>and</span> <span class='word1'>code</span> <span class='word1'>for</span> <span class='word1'>SPI</span> <span class='word1'>communications</span> <span class='word1'>and</span> <span class='word1'>use</span> <span class='word1'>of</span> <span class='word1'>a</span> <span class='word1'>FAT32</span> <span class='word1'>file</span> <span class='word1'>system</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>code</span> <span class='word1'>was</span> <span class='word1'>configured</span> <span class='word1'>to</span> <span class='word1'>use</span> <span class='word1'>the</span> <span class='word1'>correct</span> <span class='word1'>chip</span> <span class='word1'>select</span> <span class='word1'>pin</span> <span class='word1'>for</span> <span class='word1'>the</span> <span class='word1'>SD</span> <span class='word1'>Card</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>correct</span> <span class='word1'>SPI</span> <span class='word1'>Bus</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>test</span> <span class='word1'>consists</span> <span class='word1'>of</span> <span class='word1'>initialising</span> <span class='word1'>the</span> <span class='word1'>memory</span><span class='ignore'>,</span> <span class='word1'>reading</span> <span class='word1'>the</span> <span class='word1'>capacity</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>card</span> <span class='word1'>and</span> <span class='word1'>printing</span> <span class='word1'>it</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>user</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>The</span> <span class='word1'>AVR</span> <span class='word1'>then</span> <span class='word1'>proceeds</span> <span class='word1'>to</span> <span class='word1'>delete</span> <span class='word1'>any</span> <span class='word1'>previous</span> <span class='word1'>log</span> <span class='word1'>file</span><span class='ignore'>,</span> <span class='word1'>create</span> <span class='word1'>a</span> <span class='word1'>new</span> <span class='word1'>log</span> <span class='word1'>file</span> <span class='word1'>and</span> <span class='word1'>writes</span> <span class='command'>\textit</span><span class='ignore'>{</span><span class='ignore'>`</span><span class='ignore'>`</span><span class='word1'>Columbus</span> <span class='word1'>Tester</span><span class='ignore'>'</span><span class='ignore'>'</span><span class='ignore'>}</span> <span class='word1'>to</span> <span class='word1'>it</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>first</span> <span class='word1'>8</span> <span class='word1'>characters</span><span class='ignore'>,</span> <span class='word1'>which</span> <span class='word1'>should</span> <span class='word1'>be</span> <span class='command'>\textit</span><span class='ignore'>{</span><span class='ignore'>`</span><span class='ignore'>`</span><span class='word1'>Columbus</span><span class='ignore'>'</span><span class='ignore'>'</span><span class='ignore'>}</span><span class='ignore'>,</span> <span class='word1'>are</span> <span class='word1'>read</span> <span class='word1'>back</span> <span class='word1'>and</span> <span class='word1'>checked</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>This</span> <span class='word1'>exercises</span> <span class='word1'>all</span> <span class='word1'>basic</span> <span class='word1'>file</span> <span class='word1'>I</span><span class='ignore'>/</span><span class='word1'>O</span> <span class='word1'>functions</span> <span class='ignore'>(</span><span class='word1'>creating</span><span class='ignore'>,</span> <span class='word1'>reading</span> <span class='word1'>and</span> <span class='word1'>writing</span><span class='ignore'>)</span> <span class='word1'>and</span> <span class='word1'>checks</span> <span class='word1'>that</span> <span class='word1'>they</span> <span class='word1'>work</span><span class='ignore'>.</span><br>
<br>
<span class='command'>\subsubsection</span><span class='ignore'>{</span><span class='word2'>LED</span> <span class='word2'>Test</span><span class='ignore'>}</span><span class='command'>\label</span><span class='ignore'>{</span><span class='ignore'>LED</span><span class='ignore'>:</span><span class='ignore'>Test</span><span class='ignore'>}</span><br>
<span class='word1'>All</span> <span class='word1'>LEDs</span> <span class='word1'>are</span> <span class='word1'>turned</span> <span class='word1'>on</span> <span class='word1'>for</span> <span class='word1'>1</span> <span class='word1'>second</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>then</span> <span class='word1'>turned</span> <span class='word1'>off</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>user</span> <span class='word1'>should</span> <span class='word1'>check</span> <span class='word1'>this</span> <span class='word1'>occurs</span><span class='ignore'>.</span> <span class='word1'>It</span> <span class='word1'>verifies</span> <span class='word1'>that</span> <span class='word1'>all</span> <span class='word1'>the</span> <span class='word1'>LEDs</span> <span class='word1'>are</span> <span class='word1'>functional</span> <span class='word1'>and</span> <span class='word1'>correctly</span> <span class='word1'>mounted</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>power</span> <span class='word1'>LED</span> <span class='word1'>should</span> <span class='word1'>be</span> <span class='word1'>on</span> <span class='word1'>when</span> <span class='word1'>power</span> <span class='word1'>is</span> <span class='word1'>supplied</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>PCB</span><span class='ignore'>.</span> <br>
<br>
<span class='command'>\subsubsection</span><span class='ignore'>{</span><span class='word2'>SDRAM</span> <span class='word2'>Test</span><span class='ignore'>}</span><span class='command'>\label</span><span class='ignore'>{</span><span class='ignore'>SDRAM</span><span class='ignore'>:</span><span class='ignore'>Test</span><span class='ignore'>}</span><br>
<span class='word1'>The</span> <span class='word1'>SDRAM</span> <span class='word1'>test</span> <span class='word1'>consists</span> <span class='word1'>of</span> <span class='word1'>initialising</span> <span class='word1'>the</span> <span class='word1'>SDRAM</span><span class='ignore'>,</span> <span class='word1'>calculating</span> <span class='word1'>the</span> <span class='word1'>SDRAM</span> <span class='word1'>size</span><span class='ignore'>,</span> <span class='word1'>writing</span> <span class='word1'>a</span> <span class='word1'>unique</span> <span class='word1'>test</span> <span class='word1'>pattern</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>whole</span> <span class='word1'>memory</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>then</span> <span class='word1'>reading</span> <span class='word1'>it</span> <span class='word1'>back</span> <span class='word1'>and</span> <span class='word1'>checking</span> <span class='word1'>it</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>total</span> <span class='word1'>number</span> <span class='word1'>of</span> <span class='word1'>errors</span> <span class='word1'>are</span> <span class='word1'>reported</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>The</span> <span class='word1'>test</span> <span class='word1'>was</span> <span class='word1'>adapted</span> <span class='word1'>from</span> <span class='word1'>an</span> <span class='word1'>example</span> <span class='word1'>application</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>ASF</span> <span class='command'>\citep</span><span class='ignore'>{</span><span class='ignore'>Atmel</span><span class='ignore'>:</span><span class='ignore'>ASF</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>code</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Listing</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>lst</span><span class='ignore'>:</span><span class='ignore'>SDRAMTestCode</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>It</span> <span class='word1'>consists</span> <span class='word1'>of</span> <span class='word1'>two</span> <span class='command'>\textit</span><span class='word1'>{for}</span> <span class='word1'>loops</span><span class='ignore'>.</span> <span class='word1'>In</span> <span class='word1'>the</span> <span class='word1'>first</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>iteration</span> <span class='word1'>number</span> <span class='word1'>is</span> <span class='word1'>assigned</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>memory</span> <span class='word1'>location</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>second</span> <span class='word1'>loop</span> <span class='word1'>reads</span> <span class='word1'>back</span> <span class='word1'>the</span> <span class='word1'>data</span> <span class='word1'>and</span> <span class='word1'>checks</span> <span class='word1'>it</span> <span class='word1'>is</span> <span class='word1'>correct</span><span class='ignore'>.</span> <span class='word1'>An</span> <span class='word1'>int</span><span class='ignore'>,</span> <span class='command'>\textit</span><span class='word1'>{noErrors}</span><span class='ignore'>,</span> <span class='word1'>is</span> <span class='word1'>used</span> <span class='word1'>to</span> <span class='word1'>count</span> <span class='word1'>errors</span><span class='ignore'>.</span> <br>
<br>
<span class='command'>\subsubsection</span><span class='ignore'>{</span><span class='command'>\itc</span> <span class='word2'>Test</span><span class='ignore'>}</span><span class='command'>\label</span><span class='ignore'>{</span><span class='ignore'>I2C</span><span class='ignore'>:</span><span class='ignore'>Test</span><span class='ignore'>}</span><br>
<span class='word1'>The</span> <span class='command'>\itc</span> <span class='word1'>test</span> <span class='word1'>checks</span> <span class='word1'>the</span> <span class='word1'>bus</span> <span class='word1'>for</span> <span class='word1'>devices</span><span class='ignore'>.</span> <span class='word1'>It</span> <span class='word1'>prints</span> <span class='word1'>out</span> <span class='word1'>a</span> <span class='word1'>table</span> <span class='word1'>showing</span> <span class='word1'>the</span> <span class='word1'>address</span> <span class='word1'>of</span> <span class='word1'>any</span> <span class='word1'>devices</span> <span class='word1'>that</span> <span class='word1'>acknowledge</span> <span class='word1'>a</span> <span class='word1'>probe</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>probe</span> <span class='word1'>is</span> <span class='word1'>set</span> <span class='word1'>up</span> <span class='word1'>to</span> <span class='word1'>write</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>address</span><span class='ignore'>.</span> <span class='word1'>If</span> <span class='word1'>a</span> <span class='word1'>device</span> <span class='word1'>exists</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>line</span><span class='ignore'>,</span> <span class='word1'>it</span> <span class='word1'>should</span> <span class='word1'>acknowledge</span> <span class='ignore'>(</span><span class='word1'>ACK</span><span class='ignore'>)</span> <span class='word1'>its</span> <span class='word1'>own</span> <span class='word1'>address</span> <span class='command'>\citep</span><span class='ignore'>{</span><span class='ignore'>Philips</span><span class='ignore'>:</span><span class='ignore'>I2C</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>probe</span> <span class='word1'>consists</span> <span class='word1'>of</span> <span class='word1'>a</span> <span class='word1'>set-up</span> <span class='word1'>to</span> <span class='word1'>write</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>address</span><span class='ignore'>.</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>I2C</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>the</span> <span class='command'>\itc</span> <span class='word1'>traffic</span> <span class='word1'>generated</span> <span class='word1'>for</span> <span class='word1'>a</span> <span class='word1'>probe</span><span class='ignore'>,</span> <span class='word1'>with</span> <span class='word1'>both</span> <span class='word1'>cases</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>device</span> <span class='word1'>responding</span> <span class='word1'>with</span> <span class='word1'>an</span> <span class='word1'>ACK</span><span class='ignore'>,</span> <span class='word1'>or</span> <span class='word1'>negative</span> <span class='word1'>acknowledging</span> <span class='ignore'>(</span><span class='word1'>NACK</span><span class='ignore'>)</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>test</span> <span class='word1'>is</span> <span class='word1'>done</span> <span class='word1'>three</span> <span class='word1'>times</span><span class='ignore'>:</span> <span class='word1'>with</span> <span class='word1'>no</span> <span class='word1'>channel</span> <span class='word1'>selected</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='command'>\itc</span> <span class='word1'>multiplexer</span><span class='ignore'>,</span> <span class='word1'>with</span> <span class='word1'>channel</span> <span class='word1'>0</span> <span class='word1'>selected</span> <span class='word1'>and</span> <span class='word1'>with</span> <span class='word1'>channel</span> <span class='word1'>1</span> <span class='word1'>selected</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>addresses</span> <span class='word1'>expected</span> <span class='word1'>are</span> <span class='mathgroup'>$</span><span class='ignore'>21</span><span class='ignore'>_</span><span class='ignore'>{16}</span><span class='mathgroup'>$</span> <span class='word1'>for</span> <span class='word1'>the</span> <span class='word1'>OV7670</span> <span class='word1'>Camera</span> <span class='word1'>and</span> <span class='mathgroup'>$</span><span class='ignore'>74</span><span class='ignore'>_</span><span class='ignore'>{16}</span><span class='mathgroup'>$</span> <span class='word1'>for</span> <span class='word1'>the</span> <span class='command'>\itc</span> <span class='word1'>multiplexer</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>camera</span> <span class='word1'>should</span> <span class='word1'>only</span> <span class='word1'>acknowledge</span> <span class='word1'>when</span> <span class='word1'>the</span> <span class='command'>\itc</span> <span class='word1'>multiplexer</span> <span class='word1'>has</span> <span class='word1'>the</span> <span class='word1'>relevant</span> <span class='word1'>channel</span> <span class='word1'>selected</span><span class='ignore'>.</span> <span class='word1'>Listing</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>lst</span><span class='ignore'>:</span><span class='ignore'>TWITestCode</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>the</span> <span class='word1'>test</span> <span class='word1'>code</span> <span class='word1'>for</span> <span class='word1'>the</span> <span class='command'>\itc</span> <span class='word1'>bus</span> <span class='word1'>and</span> <span class='word1'>Listing</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>lst</span><span class='ignore'>:</span><span class='ignore'>I2CTest</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>the</span> <span class='word1'>result</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>full</span> <span class='word1'>bus</span> <span class='word1'>scan</span> <span class='word1'>with</span> <span class='word1'>channel</span> <span class='word1'>0</span> <span class='word1'>selected</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>existence</span> <span class='word1'>of</span> <span class='word1'>both</span> <span class='word1'>cameras</span> <span class='word1'>is</span> <span class='word1'>checked</span><span class='ignore'>.</span> <span class='comment'>%The cameras are both checked to exist.</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\subfigure</span><span class='option'>[ACK]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>I2C</span><span class='ignore'>_</span><span class='ignore'>Probe</span><span class='ignore'>_</span><span class='ignore'>ACK.png</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='exclcommand'>\subfigure</span><span class='option'>[NACK]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>I2C</span><span class='ignore'>_</span><span class='ignore'>Probe</span><span class='ignore'>_</span><span class='ignore'>NACK.png</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>The</span> <span class='command'>\itc</span> <span class='word3'>traffic</span> <span class='word3'>of</span> <span class='word3'>a</span> <span class='word3'>probe</span><span class='ignore'>.</span> <span class='word3'>An</span> <span class='word3'>ACK</span> <span class='word3'>shows</span> <span class='word3'>a</span> <span class='word3'>device</span> <span class='word3'>exists</span><span class='ignore'>.</span> <span class='command'>\textit</span><span class='ignore'>{</span><span class='ignore'>`</span><span class='ignore'>!</span><span class='ignore'>'</span><span class='ignore'>}</span> <span class='word3'>indicates</span> <span class='word3'>a</span> <span class='word3'>NACK</span> <span class='word3'>was</span> <span class='word3'>returned</span><span class='ignore'>,</span> <span class='word3'>lack</span> <span class='word3'>of</span> <span class='command'>\textit</span><span class='ignore'>{</span><span class='ignore'>`</span><span class='ignore'>!</span><span class='ignore'>'</span><span class='ignore'>}</span> <span class='word3'>means</span> <span class='word3'>ACK</span><span class='ignore'>.</span> <span class='word3'>Green</span> <span class='word3'>bracket</span> <span class='word3'>shows</span> <span class='word3'>a</span> <span class='word3'>Start</span> <span class='word3'>and</span> <span class='word3'>red</span> <span class='word3'>bracket</span> <span class='word3'>indicates</span> <span class='word3'>a</span> <span class='word3'>Stop</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>I2C</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{lstlisting}</span><span class='ignore'>[</span><span class='word1'>caption</span><span class='ignore'>=</span><span class='ignore'>{</span><span class='word1'>Result</span> <span class='word1'>of</span> <span class='command'>\itc</span> <span class='word1'>bus</span> <span class='word1'>scan</span> <span class='word1'>with</span> <span class='word1'>Channel</span> <span class='word1'>0</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='command'>\itc</span> <span class='word1'>multiplexer</span> <span class='word1'>selected</span><span class='ignore'>}</span><span class='ignore'>,</span><span class='word1'>label</span><span class='ignore'>=</span><span class='ignore'>{</span><span class='word1'>lst</span><span class='ignore'>:</span><span class='word1'>I2CTest</span><span class='ignore'>}</span><span class='ignore'>]</span><br>
<span class='word1'>Scanning</span> <span class='word1'>Channel</span> <span class='word1'>0</span><br>
<span class='word1'>h</span> <span class='word1'>0</span> <span class='word1'>1</span> <span class='word1'>2</span> <span class='word1'>3</span> <span class='word1'>4</span> <span class='word1'>5</span> <span class='word1'>6</span> <span class='word1'>7</span> <span class='word1'>8</span> <span class='word1'>9</span> <span class='word1'>A</span> <span class='word1'>B</span> <span class='word1'>C</span> <span class='word1'>D</span> <span class='word1'>E</span> <span class='word1'>F</span><br>
<span class='word1'>0</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span><br>
<span class='word1'>1</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span><br>
<span class='word1'>2</span> <span class='ignore'>-</span> <span class='word1'>A</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span><br>
<span class='word1'>3</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span><br>
<span class='word1'>4</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span><br>
<span class='word1'>5</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span><br>
<span class='word1'>6</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span><br>
<span class='word1'>7</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='word1'>A</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span> <span class='ignore'>-</span><br>
<span class='grouping'>\end</span><span class='grouping'>{lstlisting}</span><br>
<br>
<span class='command'>\subsubsection</span><span class='ignore'>{</span><span class='word2'>Camera</span> <span class='word2'>Test</span><span class='ignore'>}</span><span class='command'>\label</span><span class='ignore'>{</span><span class='ignore'>Camera</span><span class='ignore'>:</span><span class='ignore'>Test</span><span class='ignore'>}</span><br>
<br>
<span class='word1'>This</span> <span class='word1'>test</span> <span class='word1'>consists</span> <span class='word1'>of</span> <span class='word1'>initialising</span> <span class='word1'>both</span> <span class='word1'>cameras</span> <span class='word1'>and</span> <span class='word1'>checking</span> <span class='word1'>it</span> <span class='word1'>succeeds</span><span class='ignore'>.</span> <span class='word1'>Two</span> <span class='word1'>photos</span> <span class='word1'>are</span> <span class='word1'>then</span> <span class='word1'>taken</span> <span class='word1'>and</span> <span class='word1'>stored</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>SD</span> <span class='word1'>card</span><span class='ignore'>.</span> <span class='word1'>Success</span> <span class='word1'>or</span> <span class='word1'>failure</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>initialisation</span> <span class='word1'>and</span> <span class='word1'>capture</span> <span class='word1'>is</span> <span class='word1'>sent</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>debug</span> <span class='word1'>terminal</span><span class='ignore'>.</span> <span class='word1'>An</span> <span class='word1'>image</span> <span class='word1'>from</span> <span class='word1'>each</span> <span class='word1'>camera</span> <span class='word1'>should</span> <span class='word1'>exist</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>SD</span> <span class='word1'>card</span><span class='ignore'>.</span> <span class='word1'>Listing</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>lst</span><span class='ignore'>:</span><span class='ignore'>CameraTestCode</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>the</span> <span class='word1'>code</span> <span class='word1'>to</span> <span class='word1'>conduct</span> <span class='word1'>this</span> <span class='word1'>test</span><span class='ignore'>.</span><br>
<br>
<span class='command'>\subsubsection</span><span class='ignore'>{</span><span class='word2'>Motor</span> <span class='word2'>Driver</span> <span class='word2'>Test</span><span class='ignore'>}</span><span class='command'>\label</span><span class='ignore'>{</span><span class='ignore'>Motor</span><span class='ignore'>:</span><span class='ignore'>Test</span><span class='ignore'>}</span><br>
<span class='word1'>An</span> <span class='word1'>extensive</span> <span class='word1'>test</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>motor</span> <span class='word1'>driver</span> <span class='word1'>is</span> <span class='word1'>discussed</span> <span class='word1'>in</span> <span class='word1'>Section</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>Section</span><span class='ignore'>:</span><span class='ignore'>MotorTest</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>test</span> <span class='word1'>code</span> <span class='word1'>in</span> <span class='word1'>this</span> <span class='word1'>application</span> <span class='word1'>resets</span> <span class='word1'>the</span> <span class='word1'>motors</span> <span class='word1'>so</span> <span class='word1'>that</span> <span class='word1'>they</span> <span class='word1'>are</span> <span class='word1'>aligned</span> <span class='word1'>to</span> <span class='word1'>a</span> <span class='word1'>white</span> <span class='word1'>tab</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>wheel</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>code</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Listing</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>lst</span><span class='ignore'>:</span><span class='ignore'>MotorTestCode</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>robot</span> <span class='word1'>should</span> <span class='word1'>move</span> <span class='word1'>no</span> <span class='word1'>further</span> <span class='word1'>than</span> <span class='word1'>1cm</span> <span class='word1'>to</span> <span class='word1'>reach</span> <span class='word1'>a</span> <span class='word1'>white</span> <span class='word1'>tab</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>motors</span> <span class='word1'>should</span> <span class='word1'>drive</span> <span class='word1'>forward</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>test</span> <span class='word1'>is</span> <span class='word1'>useful</span> <span class='word1'>as</span> <span class='word1'>it</span> <span class='word1'>ensures</span> <span class='word1'>the</span> <span class='word1'>motors</span> <span class='word1'>are</span> <span class='word1'>connected</span> <span class='word1'>the</span> <span class='word1'>correctly</span> <span class='word1'>and</span> <span class='word1'>that</span> <span class='word1'>the</span> <span class='word1'>threshold</span> <span class='word1'>is</span> <span class='word1'>set</span> <span class='word1'>to</span> <span class='word1'>an</span> <span class='word1'>appropriate</span> <span class='word1'>level</span><span class='ignore'>.</span><br>
<br>
<span class='command'>\subsection</span><span class='ignore'>{</span><span class='word2'>PCB</span> <span class='word2'>Faults</span><span class='ignore'>}</span><br>
<span class='word1'>During</span> <span class='word1'>the</span> <span class='word1'>build</span> <span class='word1'>and</span> <span class='word1'>test</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>PCB</span><span class='ignore'>,</span> <span class='word1'>a</span> <span class='word1'>number</span> <span class='word1'>of</span> <span class='word1'>faults</span> <span class='word1'>were</span> <span class='word1'>found</span><span class='ignore'>.</span> <span class='word1'>Each</span> <span class='word1'>is</span> <span class='word1'>explained</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>solution</span> <span class='word1'>for</span> <span class='word1'>the</span> <span class='word1'>problem</span> <span class='word1'>given</span><span class='ignore'>.</span> <br>
<span class='command'>\subsubsection</span><span class='ignore'>{</span><span class='word2'>TCRT1010</span> <span class='word2'>Footprint</span><span class='ignore'>}</span><br>
<span class='word1'>The</span> <span class='word1'>holes</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>footprint</span> <span class='word1'>for</span> <span class='word1'>the</span> <span class='word1'>optosensor</span> <span class='word1'>were</span> <span class='word1'>not</span> <span class='word1'>large</span> <span class='word1'>enough</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>was</span> <span class='word1'>a</span> <span class='word1'>minor</span> <span class='word1'>problem</span> <span class='word1'>as</span> <span class='word1'>the</span> <span class='word1'>sensor</span> <span class='word1'>was</span> <span class='word1'>soldered</span> <span class='word1'>in</span> <span class='word1'>a</span> <span class='word1'>surface</span> <span class='word1'>mount</span> <span class='word1'>style</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>didn't</span> <span class='word1'>affect</span> <span class='word1'>the</span> <span class='word1'>location</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>sensor</span> <span class='word1'>so</span> <span class='word1'>had</span> <span class='word1'>no</span> <span class='word1'>implications</span> <span class='word1'>other</span> <span class='word1'>than</span> <span class='word1'>the</span> <span class='word1'>connection</span> <span class='word1'>being</span> <span class='word1'>weaker</span> <span class='word1'>than</span> <span class='word1'>it</span> <span class='word1'>should</span> <span class='word1'>be</span><span class='ignore'>.</span> <br>
<br>
<span class='command'>\subsubsection</span><span class='ignore'>{</span><span class='word2'>SDRAM</span> <span class='word2'>Footprint</span><span class='ignore'>}</span><br>
<span class='word1'>The</span> <span class='word1'>SDRAM</span> <span class='word1'>footprint</span> <span class='word1'>was</span> <span class='word1'>made</span> <span class='word1'>exactly</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>specification</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>pad</span> <span class='word1'>size</span> <span class='word1'>and</span> <span class='word1'>locations</span> <span class='word1'>with</span> <span class='word1'>no</span> <span class='word1'>consideration</span> <span class='word1'>for</span> <span class='word1'>soldering</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>meant</span> <span class='word1'>the</span> <span class='word1'>chip</span> <span class='word1'>fitted</span> <span class='word1'>exactly</span> <span class='word1'>on</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>footprint</span> <span class='word1'>and</span> <span class='word1'>made</span> <span class='word1'>soldering</span> <span class='word1'>difficult</span><span class='ignore'>.</span> <span class='comment'>% as pads had to be preloaded with solder and the device's pins were heated and bound to the solder. </span><br>
<span class='word1'>It</span> <span class='word1'>put</span> <span class='word1'>the</span> <span class='word1'>device</span> <span class='word1'>at</span> <span class='word1'>risk</span> <span class='word1'>as</span> <span class='word1'>more</span> <span class='word1'>heat</span> <span class='word1'>had</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>used</span> <span class='word1'>that</span> <span class='word1'>usually</span> <span class='word1'>necessary</span><span class='ignore'>.</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>SDRAM</span><span class='ignore'>_</span><span class='ignore'>Err</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>the</span> <span class='word1'>SDRAM</span> <span class='word1'>chip</span> <span class='word1'>slightly</span> <span class='word1'>offset</span> <span class='word1'>against</span> <span class='word1'>the</span> <span class='word1'>footprint</span><span class='ignore'>.</span> <br>
<span class='comment'>%It can be seen that there is no extra space on the pad to be able to easily solder the device. </span><br>
<span class='word1'>Though</span> <span class='word1'>this</span> <span class='word1'>made</span> <span class='word1'>building</span> <span class='word1'>difficult</span> <span class='word1'>and</span> <span class='word1'>increased</span> <span class='word1'>soldering</span> <span class='word1'>errors</span><span class='ignore'>,</span> <span class='word1'>it</span> <span class='word1'>had</span> <span class='word1'>no</span> <span class='word1'>impact</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>operation</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>device</span><span class='ignore'>.</span> <span class='word1'>To</span> <span class='word1'>avoid</span> <span class='word1'>reproducing</span> <span class='word1'>the</span> <span class='word1'>problem</span><span class='ignore'>,</span> <span class='word1'>future</span> <span class='word1'>PCB</span> <span class='word1'>designs</span> <span class='word1'>should</span> <span class='word1'>use</span> <span class='word1'>existing</span> <span class='word1'>footprints</span> <span class='word1'>where</span> <span class='word1'>available</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>consider</span> <span class='word1'>the</span> <span class='word1'>design</span> <span class='word1'>from</span> <span class='word1'>a</span> <span class='word1'>practical</span> <span class='word1'>assembly</span> <span class='word1'>point</span> <span class='word1'>of</span> <span class='word1'>view</span><span class='ignore'>.</span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span> <span class='ignore'>/</span> <span class='ignore'>2</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>PCB</span><span class='ignore'>_</span><span class='ignore'>SDRAM.jpg</span><span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>SDRAM</span> <span class='word3'>chip</span> <span class='word3'>shown</span> <span class='word3'>against</span> <span class='word3'>its</span> <span class='word3'>footprint</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>SDRAM</span><span class='ignore'>_</span><span class='ignore'>Err</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
<br>
<span class='comment'>%To avoid this, existing footprints could be used from other libraries, or double checking the footprints made. The problem meant extra care during soldering had to be taken but has not impeded the operation of the device. </span><br>
<br>
<span class='command'>\subsubsection</span><span class='ignore'>{</span><span class='word2'>SDRAM</span> <span class='word2'>Chip</span> <span class='word2'>Select</span><span class='ignore'>}</span><br>
<span class='word1'>The</span> <span class='word1'>code</span> <span class='word1'>was</span> <span class='word1'>prototyped</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>Atmel</span> <span class='word1'>UC3C-EK</span> <span class='word1'>development</span> <span class='word1'>board</span> <span class='word1'>prior</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>PCB</span> <span class='word1'>arriving</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>used</span> <span class='word1'>chip</span> <span class='word1'>select</span> <span class='word1'>1</span> <span class='word1'>for</span> <span class='word1'>the</span> <span class='word1'>SDRAM</span> <span class='word1'>but</span> <span class='word1'>the</span> <span class='word1'>PCB</span> <span class='word1'>was</span> <span class='word1'>designed</span> <span class='word1'>using</span> <span class='word1'>chip</span> <span class='word1'>select</span> <span class='word1'>0</span><span class='ignore'>.</span> <span class='word1'>When</span> <span class='word1'>the</span> <span class='word1'>PCB</span> <span class='word1'>was</span> <span class='word1'>built</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>code</span> <span class='word1'>did</span> <span class='word1'>not</span> <span class='word1'>work</span><span class='ignore'>.</span> <span class='word1'>To</span> <span class='word1'>diagnose</span> <span class='word1'>this</span> <span class='word1'>problem</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>control</span> <span class='word1'>lines</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>SDRAM</span> <span class='word1'>were</span> <span class='word1'>probed</span> <span class='word1'>with</span> <span class='word1'>a</span> <span class='word1'>logic</span> <span class='word1'>analyser</span><span class='ignore'>.</span> <span class='word1'>On</span> <span class='word1'>the</span> <span class='word1'>UC3C-EK</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>bus</span> <span class='word1'>was</span> <span class='word1'>busy</span> <span class='word1'>with</span> <span class='word1'>refresh</span> <span class='word1'>cycles</span> <span class='word1'>outside</span> <span class='word1'>of</span> <span class='word1'>SDRAM</span> <span class='word1'>access</span><span class='ignore'>.</span> <span class='word1'>On</span> <span class='word1'>the</span> <span class='word1'>Columbus</span><span class='ignore'>,</span> <span class='word1'>no</span> <span class='word1'>activity</span> <span class='word1'>was</span> <span class='word1'>seen</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>The</span> <span class='word1'>reason</span> <span class='word1'>the</span> <span class='word1'>correct</span> <span class='word1'>control</span> <span class='word1'>wasn't</span> <span class='word1'>being</span> <span class='word1'>seen</span> <span class='word1'>was</span> <span class='word1'>due</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>UC3C</span> <span class='word1'>device</span> <span class='word1'>having</span> <span class='word1'>a</span> <span class='word1'>dedicated</span> <span class='word1'>SDRAM</span> <span class='word1'>controller</span><span class='ignore'>,</span> <span class='word1'>attached</span> <span class='word1'>only</span> <span class='word1'>to</span> <span class='word1'>chip</span> <span class='word1'>select</span> <span class='word1'>line</span> <span class='word1'>1</span><span class='ignore'>.</span> <span class='word1'>Chip</span> <span class='word1'>select</span> <span class='word1'>1</span> <span class='word1'>was</span> <span class='word1'>available</span> <span class='word1'>on</span> <span class='word1'>an</span> <span class='word1'>external</span> <span class='word1'>pin</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>vias</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>CS0</span> <span class='word1'>and</span> <span class='word1'>CS1</span> <span class='word1'>lines</span> <span class='word1'>were</span> <span class='word1'>close</span> <span class='word1'>to</span> <span class='word1'>each</span> <span class='word1'>other</span><span class='ignore'>.</span> <span class='word1'>Therefore</span><span class='ignore'>,</span> <span class='word1'>to</span> <span class='word1'>overcome</span> <span class='word1'>the</span> <span class='word1'>problem</span><span class='ignore'>,</span> <span class='word1'>a</span> <span class='word1'>small</span> <span class='word1'>enamelled</span> <span class='word1'>wire</span> <span class='word1'>was</span> <span class='word1'>soldered</span> <span class='word1'>to</span> <span class='word1'>join</span> <span class='word1'>the</span> <span class='word1'>two</span> <span class='word1'>vias</span> <span class='word1'>together</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>solved</span> <span class='word1'>the</span> <span class='word1'>problem</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>correct</span> <span class='word1'>signals</span> <span class='word1'>were</span> <span class='word1'>then</span> <span class='word1'>seen</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>control</span> <span class='word1'>lines</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>patch</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>PCB</span><span class='ignore'>:</span><span class='ignore'>Bottom</span><span class='ignore'>}</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>This</span> <span class='word1'>fault</span> <span class='word1'>was</span> <span class='word1'>caused</span> <span class='word1'>by</span> <span class='word1'>not</span> <span class='word1'>reading</span> <span class='word1'>the</span> <span class='word1'>datasheet</span> <span class='word1'>carefully</span> <span class='word1'>and</span> <span class='word1'>ignoring</span> <span class='word1'>a</span> <span class='word1'>proven</span> <span class='word1'>circuit</span> <span class='word1'>diagram</span><span class='ignore'>.</span> <span class='word1'>Operation</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>device</span> <span class='word1'>was</span> <span class='word1'>not</span> <span class='word1'>hindered</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>fix</span> <span class='word1'>was</span> <span class='word1'>simple</span><span class='ignore'>.</span><br>
<br>
<span class='command'>\subsubsection</span><span class='ignore'>{</span><span class='word2'>SDRAM</span> <span class='word2'>Data</span> <span class='word2'>Line</span> <span class='word2'>Resistors</span><span class='ignore'>}</span><br>
<span class='word1'>Once</span> <span class='word1'>the</span> <span class='word1'>chip</span> <span class='word1'>select</span> <span class='word1'>problem</span> <span class='word1'>was</span> <span class='word1'>solved</span><span class='ignore'>,</span> <span class='word1'>data</span> <span class='word1'>returned</span> <span class='word1'>was</span> <span class='word1'>unreliable</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>SDRAM</span> <span class='word1'>is</span> <span class='word1'>word</span> <span class='ignore'>(</span><span class='word1'>32</span> <span class='word1'>bit</span><span class='ignore'>)</span> <span class='word1'>addressed</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>accessed</span> <span class='word1'>in</span> <span class='word1'>16</span> <span class='word1'>bits</span><span class='ignore'>.</span> <span class='word1'>Each</span> <span class='word1'>SDRAM</span> <span class='word1'>access</span><span class='ignore'>,</span> <span class='word1'>therefore</span><span class='ignore'>,</span> <span class='word1'>consisted</span> <span class='word1'>of</span> <span class='word1'>two</span> <span class='word1'>access</span> <span class='word1'>cycles</span><span class='ignore'>.</span> <br>
<span class='word1'>Upon</span> <span class='word1'>investigation</span> <span class='word1'>of</span> <span class='word1'>this</span> <span class='word1'>problem</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>14th</span><span class='ignore'>,</span> <span class='word1'>15th</span><span class='ignore'>,</span> <span class='word1'>30th</span> <span class='word1'>and</span> <span class='word1'>31st</span> <span class='ignore'>(</span><span class='word1'>top</span> <span class='word1'>two</span> <span class='word1'>bits</span> <span class='word1'>of</span> <span class='word1'>each</span> <span class='word1'>16</span> <span class='word1'>bit</span> <span class='word1'>access</span><span class='ignore'>)</span> <span class='word1'>seemed</span> <span class='word1'>to</span> <span class='word1'>read</span> <span class='word1'>as</span> <span class='word1'>a</span> <span class='word1'>1</span> <span class='word1'>the</span> <span class='word1'>majority</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>time</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>result</span> <span class='word1'>wasn't</span> <span class='word1'>repeatable</span> <span class='word1'>and</span> <span class='word1'>sometimes</span> <span class='word1'>returned</span> <span class='word1'>correct</span> <span class='word1'>data</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>other</span> <span class='word1'>bits</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>data</span> <span class='word1'>were</span> <span class='word1'>always</span> <span class='word1'>correct</span><span class='ignore'>.</span> <span class='word1'>Table</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>SDRAM</span><span class='ignore'>_</span><span class='ignore'>Err</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>some</span> <span class='word1'>examples</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>problematic</span> <span class='word1'>data</span> <span class='word1'>bits</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>data</span> <span class='word1'>written</span> <span class='word1'>should</span> <span class='word1'>match</span> <span class='word1'>the</span> <span class='word1'>data</span> <span class='word1'>read</span> <span class='word1'>back</span><span class='ignore'>.</span> <br>
<span class='command'>\inote</span><span class='ignore'>{</span><span class='ignore'>Maybe</span> <span class='ignore'>a</span> <span class='ignore'>picture</span> <span class='ignore'>or</span> <span class='ignore'>a</span> <span class='ignore'>diagram</span> <span class='ignore'>would</span> <span class='ignore'>explain</span> <span class='ignore'>the</span> <span class='ignore'>problem</span> <span class='ignore'>more</span> <span class='ignore'>clearly</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{table}</span><span class='ignore'>[</span><span class='ignore'>!</span><span class='ignore'>ht</span><span class='ignore'>]</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Examples</span> <span class='word3'>of</span> <span class='word3'>the</span> <span class='word3'>incorrect</span> <span class='word3'>data</span> <span class='word3'>returned</span> <span class='word3'>from</span> <span class='word3'>the</span> <span class='word3'>SDRAM</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>SDRAM</span><span class='ignore'>_</span><span class='ignore'>Err</span><span class='ignore'>}</span><br>
<span class='exclgroup'>\begin</span><span class='exclgroup'>{tabular}</span><span class='ignore'>{cc}</span><span class='exclcommand'>\toprule</span><br>
<span class='exclcommand'>\textbf</span><span class='ignore'>{</span><span class='ignore'>Data</span> <span class='ignore'>Written</span><span class='ignore'>}</span>&nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='exclcommand'>\textbf</span><span class='ignore'>{</span><span class='ignore'>Data</span> <span class='ignore'>Read</span><span class='ignore'>}</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\toprule</span><br>
<span class='ignore'>00000000</span> <span class='ignore'>00000000</span> <span class='ignore'>00000000</span> <span class='ignore'>00000000</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='exclcommand'>\textcolor</span><span class='ignore'>{red}{11}000000</span> <span class='ignore'>00000000</span> <span class='exclcommand'>\textcolor</span><span class='ignore'>{red}{11}000000</span> <span class='ignore'>00000000</span> <span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>00001111</span> <span class='ignore'>00001111</span> <span class='ignore'>00001111</span> <span class='ignore'>00001111</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='exclcommand'>\textcolor</span><span class='ignore'>{red}{11}001111</span> <span class='ignore'>00001111</span> <span class='exclcommand'>\textcolor</span><span class='ignore'>{red}{11}001111</span> <span class='ignore'>00001111</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\bottomrule</span><br>
<span class='exclgroup'>\end</span><span class='exclgroup'>{tabular}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{table}</span><br>
<br>
<span class='word1'>The</span> <span class='word1'>problem</span> <span class='word1'>was</span> <span class='word1'>traced</span> <span class='word1'>to</span> <span class='word1'>resistors</span> <span class='command'>\textbf</span><span class='word1'>{R31}</span> <span class='word1'>and</span> <span class='command'>\textbf</span><span class='word1'>{R32}</span><span class='ignore'>.</span> <span class='word1'>They</span> <span class='word1'>were</span> <span class='word1'>soldered</span> <span class='word1'>on</span> <span class='word1'>incorrectly</span> <span class='word1'>so</span> <span class='word1'>that</span> <span class='word1'>the</span> <span class='word1'>two</span> <span class='word1'>data</span> <span class='word1'>lines</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>SDRAM</span> <span class='word1'>were</span> <span class='word1'>connected</span> <span class='word1'>together</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>two</span> <span class='word1'>AVR</span> <span class='word1'>GPIO</span> <span class='word1'>pins</span> <span class='word1'>were</span> <span class='word1'>connected</span> <span class='word1'>together</span><span class='ignore'>.</span> <span class='word1'>Data</span> <span class='word1'>was</span> <span class='word1'>then</span> <span class='word1'>read</span> <span class='word1'>back</span> <span class='word1'>from</span><span class='ignore'>,</span> <span class='word1'>effectively</span><span class='ignore'>,</span> <span class='word1'>a</span> <span class='word1'>high</span> <span class='word1'>impedance</span> <span class='word1'>line</span> <span class='word1'>and</span> <span class='word1'>therefore</span> <span class='word1'>varied</span><span class='ignore'>.</span> <span class='word1'>Once</span> <span class='word1'>the</span> <span class='word1'>resistors</span> <span class='word1'>were</span> <span class='word1'>soldered</span> <span class='word1'>correctly</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>issue</span> <span class='word1'>no</span> <span class='word1'>longer</span> <span class='word1'>persisted</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>whole</span> <span class='word1'>SDRAM</span> <span class='word1'>test</span> <span class='word1'>passed</span><span class='ignore'>.</span> <span class='word1'>By</span> <span class='word1'>utilising</span> <span class='word1'>the</span> <span class='word1'>soldermask</span> <span class='word1'>more</span><span class='ignore'>,</span> <span class='word1'>device</span> <span class='word1'>orientations</span> <span class='word1'>could</span> <span class='word1'>be</span> <span class='word1'>added</span> <span class='word1'>to</span> <span class='word1'>ensure</span> <span class='word1'>correct</span> <span class='word1'>placement</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>extended</span> <span class='word1'>to</span> <span class='word1'>other</span> <span class='word1'>devices</span><span class='ignore'>,</span> <span class='word1'>such</span> <span class='word1'>as</span> <span class='word1'>diodes</span> <span class='word1'>and</span> <span class='word1'>capacitors</span><span class='ignore'>,</span> <span class='word1'>especially</span> <span class='word1'>in</span> <span class='word1'>densely</span> <span class='word1'>populated</span> <span class='word1'>areas</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>PCB</span><span class='ignore'>.</span> <br>
<br>
<span class='command'>\subsubsection</span><span class='ignore'>{</span><span class='word2'>Camera</span> <span class='word2'>Interrupt</span> <span class='word2'>Line</span><span class='ignore'>}</span><br>
<br>
<span class='word1'>As</span> <span class='word1'>discussed</span> <span class='word1'>in</span> <span class='word1'>Section</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>Section</span><span class='ignore'>:</span><span class='ignore'>Camera</span><span class='ignore'>}</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>OV7670</span> <span class='word1'>needs</span> <span class='word1'>an</span> <span class='word1'>interrupt</span> <span class='word1'>line</span> <span class='word1'>to</span> <span class='word1'>synchronise</span> <span class='word1'>quickly</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>start</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>frame</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>UC3C</span> <span class='word1'>has</span> <span class='word1'>9</span> <span class='word1'>external</span> <span class='word1'>interrupt</span> <span class='word1'>lines</span><span class='ignore'>.</span> <span class='word1'>On</span> <span class='word1'>the</span> <span class='word1'>PCB</span><span class='ignore'>,</span> <span class='word1'>interrupt</span> <span class='word1'>lines</span> <span class='word1'>0</span> <span class='word1'>and</span> <span class='word1'>1</span> <span class='word1'>were</span> <span class='word1'>used</span> <span class='word1'>for</span> <span class='word1'>this</span> <span class='word1'>control</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>Interrupt</span> <span class='word1'>line</span> <span class='word1'>1</span> <span class='word1'>was</span> <span class='word1'>easily</span> <span class='word1'>configured</span> <span class='word1'>and</span> <span class='word1'>worked</span> <span class='word1'>as</span> <span class='word1'>expected</span><span class='ignore'>.</span> <span class='word1'>However</span><span class='ignore'>,</span> <span class='word1'>interrupt</span> <span class='word1'>0</span> <span class='word1'>did</span> <span class='word1'>not</span> <span class='word1'>seem</span> <span class='word1'>to</span> <span class='word1'>trigger</span> <span class='word1'>the</span> <span class='word1'>interrupt</span> <span class='word1'>service</span> <span class='word1'>routine</span><span class='ignore'>.</span> <span class='word1'>It</span> <span class='word1'>was</span> <span class='word1'>found</span> <span class='word1'>that</span> <span class='word1'>interrupt</span> <span class='word1'>0</span> <span class='word1'>was</span> <span class='word1'>a</span> <span class='ignore'>`</span><span class='ignore'>`</span><span class='word1'>Non</span> <span class='word1'>Maskable</span> <span class='word1'>Interrupt</span><span class='ignore'>'</span><span class='ignore'>'</span> <span class='word1'>which</span> <span class='word1'>has</span> <span class='word1'>specific</span> <span class='word1'>uses</span> <span class='word1'>and</span> <span class='word1'>cannot</span> <span class='word1'>be</span> <span class='word1'>used</span> <span class='word1'>in</span> <span class='word1'>to</span> <span class='word1'>trigger</span> <span class='word1'>a</span> <span class='word1'>method</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>The</span> <span class='word1'>external</span> <span class='word1'>interrupt</span> <span class='word1'>4</span> <span class='word1'>pin</span> <span class='word1'>was</span> <span class='word1'>wired</span> <span class='word1'>to</span> <span class='word1'>Junction</span> <span class='word1'>8</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>PCB</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>wire</span> <span class='word1'>was</span> <span class='word1'>attached</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>camera's</span> <span class='word1'>VSYNC</span> <span class='word1'>line</span> <span class='word1'>and</span> <span class='word1'>attached</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>relevant</span> <span class='word1'>pin</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>header</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>operation</span> <span class='word1'>was</span> <span class='word1'>then</span> <span class='word1'>easily</span> <span class='word1'>obtained</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>VSYNC</span> <span class='word1'>line</span> <span class='word1'>triggered</span> <span class='word1'>correctly</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>This</span> <span class='word1'>issue</span> <span class='word1'>would</span> <span class='word1'>have</span> <span class='word1'>been</span> <span class='word1'>avoided</span> <span class='word1'>with</span> <span class='word1'>more</span> <span class='word1'>understanding</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>device</span> <span class='word1'>beforehand</span> <span class='word1'>and</span> <span class='word1'>by</span> <span class='word1'>checking</span> <span class='word1'>the</span> <span class='word1'>datasheet</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>patch</span> <span class='word1'>can</span> <span class='word1'>also</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>PCB</span><span class='ignore'>:</span><span class='ignore'>Bottom</span><span class='ignore'>}</span><span class='ignore'>.</span><br>
<br>
<br>
<span class='command'>\subsubsection</span><span class='ignore'>{</span><span class='word2'>Motor</span> <span class='word2'>Driver</span> <span class='word2'>Footprint</span><span class='ignore'>}</span><br>
<br>
<span class='word1'>An</span> <span class='word1'>error</span> <span class='word1'>was</span> <span class='word1'>made</span> <span class='word1'>in</span> <span class='word1'>creating</span> <span class='word1'>the</span> <span class='word1'>device</span> <span class='word1'>for</span> <span class='word1'>the</span> <span class='word1'>TB6593FNG</span> <span class='word1'>Motor</span> <span class='word1'>Driver</span> <span class='word1'>in</span> <span class='word1'>EAGLE</span><span class='ignore'>.</span> <br>
<span class='word1'>The</span> <span class='word1'>chip</span> <span class='word1'>has</span> <span class='word1'>two</span> <span class='word1'>pins</span> <span class='word1'>for</span> <span class='word1'>each</span> <span class='word1'>motor</span> <span class='word1'>output</span><span class='ignore'>.</span><span class='comment'>%outputs and each motor output has two pins to drive each pin of the motor. </span><br>
<span class='word1'>The</span> <span class='word1'>pin</span> <span class='word1'>assignment</span> <span class='word1'>was</span> <span class='word1'>mixed</span> <span class='word1'>up</span> <span class='word1'>when</span> <span class='word1'>created</span> <span class='word1'>and</span> <span class='word1'>connected</span> <span class='word1'>the</span> <span class='word1'>two</span> <span class='word1'>outputs</span> <span class='word1'>together</span><span class='ignore'>.</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>Motor</span><span class='ignore'>:</span><span class='ignore'>Error</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>the</span> <span class='word1'>track</span> <span class='word1'>errors</span> <span class='word1'>on</span> <span class='word1'>one</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>motor</span> <span class='word1'>drivers</span><span class='ignore'>.</span> <br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span> <span class='ignore'>=</span> <span class='exclcommand'>\textwidth</span> <span class='ignore'>/</span><span class='ignore'>2</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>MotorDriver</span><span class='ignore'>_</span><span class='ignore'>error.png</span><span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Motor</span> <span class='word3'>driver</span> <span class='word3'>error</span> <span class='ignore'>-</span> <span class='word3'>outputs</span> <span class='word3'>incorrectly</span> <span class='word3'>connected</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>Motor</span><span class='ignore'>:</span><span class='ignore'>Error</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
<span class='word1'>To</span> <span class='word1'>solve</span> <span class='word1'>this</span><span class='ignore'>,</span> <span class='word1'>pins</span> <span class='word1'>7</span> <span class='word1'>and</span> <span class='word1'>14</span> <span class='word1'>were</span> <span class='word1'>lifted</span> <span class='word1'>and</span> <span class='word1'>removed</span> <span class='word1'>so</span> <span class='word1'>that</span> <span class='word1'>output</span> <span class='word1'>1</span> <span class='word1'>and</span> <span class='word1'>output</span> <span class='word1'>2</span> <span class='word1'>were</span> <span class='word1'>not</span> <span class='word1'>connected</span> <span class='word1'>together</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>devices</span> <span class='word1'>were</span> <span class='word1'>not</span> <span class='word1'>damaged</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>process</span> <span class='word1'>of</span> <span class='word1'>testing</span> <span class='word1'>this</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>motors</span> <span class='word1'>functioned</span> <span class='word1'>correctly</span> <span class='word1'>after</span> <span class='word1'>the</span> <span class='word1'>modification</span><span class='ignore'>.</span> <br>
<span class='comment'>%Double checking the footprints made against the datasheet would have avoided this problem. </span><br>
<span class='word1'>No</span> <span class='word1'>impact</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>operation</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>drivers</span> <span class='word1'>has</span> <span class='word1'>been</span> <span class='word1'>seen</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>the</span> <span class='word1'>patch</span> <span class='word1'>may</span> <span class='word1'>hinder</span> <span class='word1'>the</span> <span class='word1'>device's</span> <span class='word1'>ability</span> <span class='word1'>to</span> <span class='word1'>sink</span> <span class='word1'>current</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>motors</span> <span class='word1'>when</span> <span class='word1'>driving</span> <span class='word1'>at</span> <span class='word1'>higher</span> <span class='word1'>speeds</span><span class='ignore'>.</span> <br>
<br>
<span class='command'>\subsection</span><span class='ignore'>{</span><span class='word2'>PCB</span> <span class='word2'>Conclusions</span><span class='ignore'>}</span><br>
<span class='word1'>A</span> <span class='word1'>number</span> <span class='word1'>of</span> <span class='word1'>faults</span> <span class='word1'>were</span> <span class='word1'>made</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>PCB</span> <span class='word1'>design</span><span class='ignore'>.</span> <span class='word1'>They</span> <span class='word1'>are</span><span class='ignore'>:</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{itemize}</span><br>
<span class='command'>\item</span> <span class='word1'>TCRT1010</span> <span class='word1'>footprint</span><br>
<span class='command'>\item</span> <span class='word1'>SDRAM</span> <span class='word1'>footprint</span><br>
<span class='command'>\item</span> <span class='word1'>SDRAM</span> <span class='word1'>chip</span> <span class='word1'>select</span> <span class='word1'>line</span><br>
<span class='command'>\item</span> <span class='word1'>SDRAM</span> <span class='word1'>data</span> <span class='word1'>line</span> <span class='word1'>resistors</span><br>
<span class='command'>\item</span> <span class='word1'>Camera</span> <span class='word1'>interrupt</span> <span class='word1'>line</span><br>
<span class='command'>\item</span> <span class='word1'>Motor</span> <span class='word1'>driver</span> <span class='word1'>footprint</span><br>
<span class='grouping'>\end</span><span class='grouping'>{itemize}</span><br>
<span class='word1'>Three</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>faults</span> <span class='word1'>were</span> <span class='word1'>due</span> <span class='word1'>to</span> <span class='word1'>footprint</span> <span class='word1'>errors</span><span class='ignore'>.</span> <span class='word1'>Consulting</span> <span class='word1'>the</span> <span class='word1'>data</span> <span class='word1'>sheets</span> <span class='word1'>or</span> <span class='word1'>using</span> <span class='word1'>existing</span> <span class='word1'>footprints</span> <span class='word1'>would</span> <span class='word1'>have</span> <span class='word1'>avoided</span> <span class='word1'>these</span> <span class='word1'>problems</span><span class='ignore'>.</span> <span class='word1'>Two</span> <span class='word1'>circuit</span> <span class='word1'>errors</span> <span class='word1'>were</span> <span class='word1'>due</span> <span class='word1'>to</span> <span class='word1'>special</span> <span class='word1'>operations</span> <span class='word1'>of</span> <span class='word1'>pins</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>UC3C</span><span class='ignore'>.</span> <span class='word1'>More</span> <span class='word1'>experience</span> <span class='word1'>with</span> <span class='word1'>this</span> <span class='word1'>device</span> <span class='word1'>could</span> <span class='word1'>have</span> <span class='word1'>prevented</span> <span class='word1'>this</span> <span class='word1'>but</span> <span class='word1'>the</span> <span class='word1'>errors</span> <span class='word1'>were</span> <span class='word1'>easily</span> <span class='word1'>patched</span><span class='ignore'>.</span> <span class='word1'>By</span> <span class='word1'>utilising</span> <span class='word1'>the</span> <span class='word1'>soldermask</span> <span class='word1'>more</span><span class='ignore'>,</span> <span class='word1'>errors</span> <span class='word1'>would</span> <span class='word1'>be</span> <span class='word1'>prevented</span> <span class='word1'>during</span> <span class='word1'>building</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>For</span> <span class='word1'>future</span> <span class='word1'>PCBs</span><span class='ignore'>,</span> <span class='word1'>more</span> <span class='word1'>care</span> <span class='word1'>will</span> <span class='word1'>be</span> <span class='word1'>taken</span> <span class='word1'>in</span> <span class='word1'>circuit</span> <span class='word1'>design</span><span class='ignore'>,</span> <span class='word1'>with</span> <span class='word1'>prototyping</span> <span class='word1'>of</span> <span class='word1'>circuits</span> <span class='word1'>with</span> <span class='word1'>the</span> <span class='word1'>hardware</span> <span class='word1'>that</span> <span class='word1'>will</span> <span class='word1'>be</span> <span class='word1'>used</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>will</span> <span class='word1'>highlight</span> <span class='word1'>any</span> <span class='word1'>pin-specific</span> <span class='word1'>operations</span> <span class='ignore'>(</span><span class='word1'>e.g</span><span class='ignore'>.</span> <span class='word1'>the</span> <span class='word1'>non</span> <span class='word1'>maskable</span> <span class='word1'>interrupt</span><span class='ignore'>)</span> <span class='word1'>and</span> <span class='word1'>reduce</span> <span class='word1'>debugging</span> <span class='word1'>post-production</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>effectiveness</span> <span class='word1'>of</span> <span class='word1'>a</span> <span class='word1'>soldermask</span> <span class='word1'>is</span> <span class='word1'>also</span> <span class='word1'>apparent</span><span class='ignore'>,</span> <span class='word1'>so</span> <span class='word1'>more</span> <span class='word1'>time</span> <span class='word1'>spent</span> <span class='word1'>on</span> <span class='word1'>utilising</span> <span class='word1'>this</span> <span class='word1'>would</span> <span class='word1'>be</span> <span class='word1'>helpful</span> <span class='word1'>during</span> <span class='word1'>assembly</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>The</span> <span class='word1'>PCB</span> <span class='word1'>itself</span> <span class='word1'>was</span> <span class='word1'>a</span> <span class='word1'>success</span><span class='ignore'>.</span> <span class='word1'>It</span> <span class='word1'>was</span> <span class='word1'>a</span> <span class='word1'>complex</span> <span class='word1'>PCB</span> <span class='word1'>with</span> <span class='word1'>a</span> <span class='word1'>high</span> <span class='word1'>risk</span> <span class='word1'>of</span> <span class='word1'>potential</span> <span class='word1'>errors</span><span class='ignore'>.</span> <span class='word1'>All</span> <span class='word1'>devices</span> <span class='word1'>are</span> <span class='word1'>functional</span> <span class='ignore'>(</span><span class='word1'>with</span> <span class='word1'>a</span> <span class='word1'>few</span> <span class='word1'>small</span> <span class='word1'>modifications</span><span class='ignore'>)</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>PCB</span> <span class='word1'>so</span> <span class='word1'>firmware</span> <span class='word1'>development</span> <span class='word1'>could</span> <span class='word1'>continue</span> <span class='word1'>with</span> <span class='word1'>all</span> <span class='word1'>hardware</span> <span class='word1'>able</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>used</span><span class='ignore'>.</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>PCB</span><span class='ignore'>:</span><span class='ignore'>Built</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>the</span> <span class='word1'>fully</span> <span class='word1'>assembled</span> <span class='word1'>PCB</span> <span class='word1'>with</span> <span class='word1'>the</span> <span class='word1'>modifications</span> <span class='word1'>needed</span><span class='ignore'>.</span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='exclcommand'>\subfigure</span><span class='ignore'>[</span><span class='ignore'>Top</span> <span class='ignore'>view</span> <span class='ignore'>of</span> <span class='ignore'>built</span> <span class='ignore'>PCB</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>PCB</span><span class='ignore'>:</span><span class='ignore'>Top</span><span class='ignore'>}</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span> <span class='ignore'>=</span> <span class='exclcommand'>\textwidth</span><span class='ignore'>,</span> <span class='ignore'>keepaspectratio</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>PCB</span><span class='ignore'>_</span><span class='ignore'>Top.jpg</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='exclcommand'>\subfigure</span><span class='ignore'>[</span><span class='ignore'>Bottom</span> <span class='ignore'>view</span> <span class='ignore'>of</span> <span class='ignore'>built</span> <span class='ignore'>PCB</span> <span class='ignore'>with</span> <span class='ignore'>patches</span> <span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>PCB</span><span class='ignore'>:</span><span class='ignore'>Bottom</span><span class='ignore'>}</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span> <span class='ignore'>=</span> <span class='exclcommand'>\textwidth</span><span class='ignore'>,</span> <span class='ignore'>keepaspectratio</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>PCB</span><span class='ignore'>_</span><span class='ignore'>Bottom.jpg</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Pictures</span> <span class='word3'>of</span> <span class='word3'>the</span> <span class='word3'>built</span> <span class='word3'>PCB</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>PCB</span><span class='ignore'>:</span><span class='ignore'>Built</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<span class='command'>\section</span><span class='word2'>{Conclusions}</span><br>
<br>
<span class='word1'>Overall</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>hardware</span> <span class='word1'>design</span> <span class='word1'>and</span> <span class='word1'>firmware</span> <span class='word1'>was</span> <span class='word1'>a</span> <span class='word1'>success</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>few</span> <span class='word1'>minor</span> <span class='word1'>faults</span> <span class='word1'>were</span> <span class='word1'>apparent</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>PCB</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>these</span> <span class='word1'>were</span> <span class='word1'>easily</span> <span class='word1'>patched</span> <span class='word1'>and</span> <span class='word1'>caused</span> <span class='word1'>no</span> <span class='word1'>problems</span><span class='ignore'>.</span> <span class='word1'>Using</span> <span class='word1'>a</span> <span class='word1'>firmware</span> <span class='word1'>test</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>components</span> <span class='word1'>are</span> <span class='word1'>seen</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>fully</span> <span class='word1'>functional</span> <span class='word1'>giving</span> <span class='word1'>the</span> <span class='word1'>UC3C</span> <span class='word1'>full</span> <span class='word1'>ability</span> <span class='word1'>to</span> <span class='word1'>control</span> <span class='word1'>motors</span><span class='ignore'>,</span> <span class='word1'>cameras</span><span class='ignore'>,</span> <span class='command'>\itc</span> <span class='word1'>multiplexer</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>memory</span> <span class='word1'>of</span> <span class='word1'>both</span> <span class='word1'>SD</span> <span class='word1'>card</span> <span class='ignore'>(</span><span class='word1'>up</span> <span class='word1'>to</span> <span class='word1'>2GB</span> <span class='word1'>size</span><span class='ignore'>)</span> <span class='word1'>and</span> <span class='word1'>external</span> <span class='word1'>4MB</span> <span class='word1'>SDRAM</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>provides</span> <span class='word1'>a</span> <span class='word1'>good</span> <span class='word1'>platform</span> <span class='word1'>for</span> <span class='word1'>a</span> <span class='word1'>manoeuvrable</span><span class='ignore'>,</span> <span class='word1'>stereoscopic</span> <span class='word1'>vision</span> <span class='word1'>robot</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>developed</span><span class='ignore'>.</span> </p></div>
<div class='count'>
<ul class='count'>
<li class='header'>Included file: HardwareDevelopment.tex</li>
<li>Encoding: ascii</li>
<li>Words in text: 5440</li>
<li>Words in headers: 73</li>
<li>Words in float captions: 236</li>
<li>Number of headers: 34</li>
<li>Number of floats: 24</li>
<li>Number of math inlines: 18</li>
<li>Number of math displayed: 5</li>
<li>Subcounts:</li>
<span class='subcount'>
<li class='fielddesc'>&nbsp; text+headers+captions (#headers/#floats/#inlines/#displayed)</li>
  <li>41+4+0 (1/0/0/0) Chapter: Hardware and Firmware Development} \label{Chapter:HardwareDevelopment</li>
  <li>118+1+9 (1/1/0/0) Section: Camera} \label{Section:Camera</li>
  <li>577+3+49 (1/3/4/0) Subsection: Single Camera Operation</li>
  <li>380+3+0 (1/0/3/0) Subsection: Dual Camera Operation</li>
  <li>74+2+0 (1/0/0/0) Section: SD Card} \label{sect:SDCard</li>
  <li>219+2+22 (1/2/0/0) Subsection: Storing Images</li>
  <li>162+2+22 (1/3/1/0) Section: The Prototypes</li>
  <li>0+3+0 (1/0/0/0) Section: Motor Driver Development}\label{Section:Motor_Dev</li>
  <li>237+1+16 (1/2/0/0) Subsection: Hardware</li>
  <li>872+5+26 (3/3/0/3) Subsection: Firmware Development</li>
  <li>174+1+10 (1/2/3/0) Subsection: Testing}\label{Section:MotorTest</li>
  <li>261+1+0 (1/0/2/2) Subsection: Conclusion</li>
  <li>0+2+0 (1/0/0/0) Section: PCB Development}\label{Section:PCB_Dev</li>
  <li>70+2+20 (1/2/0/0) Subsection: Circuit Design</li>
  <li>477+2+5 (1/1/2/0) Subsection: PCB Design</li>
  <li>657+17+31 (8/1/3/0) Subsection: PCB Testing</li>
  <li>844+19+21 (7/3/0/0) Subsection: PCB Faults</li>
  <li>200+2+5 (1/1/0/0) Subsection: PCB Conclusions</li>
  <li>77+1+0 (1/0/0/0) Section: Conclusions</li>
</span>
</ul>
</div>
<h2>File: InvestigationVision.tex</h2>
<div class='parse'><p>
<span class='comment'>%% ----------------------------------------------------------------</span><br>
<span class='comment'>%% InvestigationVision.tex</span><br>
<span class='comment'>%% ---------------------------------------------------------------- </span><br>
<span class='command'>\chapter</span><span class='ignore'>{</span><span class='word2'>Vision</span> <span class='word2'>Algorithms</span><span class='ignore'>}</span> <span class='command'>\label</span><span class='ignore'>{</span><span class='ignore'>Chapter</span><span class='ignore'>:</span><span class='ignore'>InvestigationVision</span><span class='ignore'>}</span><br>
<br>
<span class='command'>\section</span><span class='ignore'>{</span><span class='word2'>Matching</span> <span class='word2'>Algorithms</span><span class='ignore'>}</span><span class='command'>\label</span><span class='ignore'>{</span><span class='ignore'>Section</span><span class='ignore'>:</span><span class='ignore'>Comparison</span><span class='ignore'>}</span><br>
<span class='comment'>%\inote{find some references to back these claims up}</span><br>
<span class='comment'>%\inote{Talk about how to compare images and TEST them all. Make a final comparison to decide on which will be used}</span><br>
<span class='word1'>In</span> <span class='word1'>computer</span> <span class='word1'>vision</span><span class='ignore'>,</span> <span class='word1'>there</span> <span class='word1'>are</span> <span class='word1'>many</span> <span class='word1'>different</span> <span class='word1'>ways</span> <span class='word1'>of</span> <span class='word1'>comparing</span> <span class='word1'>two</span> <span class='word1'>similar</span> <span class='word1'>images</span><span class='ignore'>.</span> <span class='word1'>These</span> <span class='word1'>include</span> <span class='word1'>the</span> <span class='word1'>sum</span> <span class='word1'>of</span> <span class='word1'>absolute</span> <span class='word1'>differences</span> <span class='ignore'>(</span><span class='word1'>SAD</span><span class='ignore'>)</span> <span class='command'>\citep</span><span class='ignore'>{</span><span class='ignore'>Hamzah</span><span class='ignore'>:</span><span class='ignore'>DistanceDetection</span><span class='ignore'>}</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>sum</span> <span class='word1'>of</span> <span class='word1'>squared</span> <span class='word1'>differences</span> <span class='ignore'>(</span><span class='word1'>SSD</span><span class='ignore'>)</span><span class='command'>\citep</span><span class='ignore'>{</span><span class='ignore'>Mrovlje</span><span class='ignore'>:</span><span class='ignore'>Distance</span><span class='ignore'>_</span><span class='ignore'>Stereoscopic</span><span class='ignore'>}</span> <span class='word1'>and</span>&nbsp; <span class='word1'>normalised</span> <span class='word1'>cross</span> <span class='word1'>correlation</span> <span class='ignore'>(</span><span class='word1'>NCC</span><span class='ignore'>)</span><span class='command'>\citep</span><span class='ignore'>{zhao2006image}</span><span class='ignore'>.</span> <span class='word1'>Each</span> <span class='word1'>of</span> <span class='word1'>these</span> <span class='word1'>methods</span> <span class='word1'>will</span> <span class='word1'>be</span> <span class='word1'>explained</span> <span class='word1'>and</span> <span class='word1'>tested</span> <span class='word1'>in</span> <span class='word1'>order</span> <span class='word1'>to</span> <span class='word1'>compare</span> <span class='word1'>them</span><span class='ignore'>.</span> <span class='word1'>All</span> <span class='word1'>testing</span> <span class='word1'>will</span> <span class='word1'>use</span> <span class='word1'>images</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>StereoTest</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>Each</span> <span class='word1'>test</span> <span class='word1'>uses</span> <span class='word1'>the</span> <span class='word1'>same</span> <span class='word1'>size</span> <span class='word1'>template</span> <span class='ignore'>(</span><span class='mathgroup'>$</span><span class='ignore'>50px</span><span class='exclcommand'>\times</span><span class='ignore'>50px</span><span class='mathgroup'>$</span><span class='ignore'>)</span> <span class='word1'>to</span> <span class='word1'>compare</span> <span class='word1'>the</span> <span class='word1'>two</span> <span class='word1'>images</span><span class='ignore'>.</span> <br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='exclcommand'>\subfigure</span><span class='option'>[Left Image]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>/</span><span class='ignore'>2-1cm</span><span class='ignore'>,</span><span class='ignore'>keepaspectratio</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>deskLeft.png</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='exclcommand'>\subfigure</span><span class='option'>[Right Image]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>/</span><span class='ignore'>2-1cm</span><span class='ignore'>,</span><span class='ignore'>keepaspectratio</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>deskRight.png</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Stereoscopic</span> <span class='word3'>test</span> <span class='word3'>images</span> <span class='word3'>from</span> <span class='word3'>MATLAB</span> <span class='word3'>examples</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>StereoTest</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
<br>
<span class='comment'>%Explanation of how they work</span><br>
<span class='comment'>%\inote{Maybe do a basic 5x5 example for each?}</span><br>
<span class='command'>\subsection</span><span class='ignore'>{</span><span class='word2'>Sum</span> <span class='word2'>of</span> <span class='word2'>Absolute</span> <span class='word2'>Differences</span><span class='ignore'>}</span><span class='command'>\label</span><span class='ignore'>{</span><span class='ignore'>Section</span><span class='ignore'>:</span><span class='ignore'>SAD</span><span class='ignore'>}</span><br>
<br>
<span class='word1'>Given</span> <span class='word1'>two</span> <span class='word1'>identically</span> <span class='word1'>sized</span> <span class='word1'>two</span> <span class='word1'>dimensional</span> <span class='word1'>matrices</span><span class='ignore'>,</span> <span class='mathgroup'>$</span><span class='ignore'>A</span><span class='ignore'>,</span> <span class='ignore'>B</span><span class='mathgroup'>$</span><span class='ignore'>,</span> <span class='word1'>of</span> <span class='word1'>dimensions</span> <span class='mathgroup'>$</span><span class='ignore'>I</span><span class='ignore'>,</span><span class='ignore'>J</span><span class='mathgroup'>$</span><span class='ignore'>,</span> <span class='word1'>SAD</span> <span class='word1'>is</span> <span class='word1'>defined</span> <span class='word1'>as</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{equation}</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>SAD</span><span class='ignore'>}</span><br>
<span class='ignore'>SAD</span> <span class='ignore'>=</span> <span class='exclcommand'>\sum</span><span class='exclcommand'>\limits_</span><span class='ignore'>{</span><span class='ignore'>i</span><span class='ignore'>=</span><span class='ignore'>0</span><span class='ignore'>}</span><span class='ignore'>^</span><span class='ignore'>{</span><span class='ignore'>I-1</span><span class='ignore'>}</span> <span class='exclcommand'>\sum</span><span class='exclcommand'>\limits_</span><span class='ignore'>{</span><span class='ignore'>j</span><span class='ignore'>=</span><span class='ignore'>0</span><span class='ignore'>}</span><span class='ignore'>^</span><span class='ignore'>{</span><span class='ignore'>J-1</span><span class='ignore'>}</span> <span class='ignore'>A</span><span class='ignore'>[</span><span class='ignore'>i</span><span class='ignore'>,</span><span class='ignore'>j</span><span class='ignore'>]</span> <span class='ignore'>-</span> <span class='ignore'>B</span><span class='ignore'>[</span><span class='ignore'>i</span><span class='ignore'>,</span><span class='ignore'>j</span><span class='ignore'>]</span> <br>
<span class='grouping'>\end</span><span class='grouping'>{equation}</span><br>
<br>
<span class='word1'>This</span> <span class='word1'>method</span> <span class='word1'>subtracts</span> <span class='word1'>the</span> <span class='word1'>observed</span> <span class='word1'>template</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>expected</span><span class='ignore'>.</span> <span class='word1'>All</span> <span class='word1'>differences</span> <span class='word1'>are</span> <span class='word1'>then</span> <span class='word1'>added</span> <span class='word1'>together</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>algorithm</span> <span class='word1'>is</span> <span class='word1'>simple</span> <span class='word1'>and</span> <span class='word1'>requires</span> <span class='word1'>a</span> <span class='word1'>small</span> <span class='word1'>amount</span> <span class='word1'>of</span> <span class='word1'>computation</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>algorithm</span> <span class='word1'>returns</span> <span class='word1'>values</span> <span class='word1'>where</span> <span class='word1'>a</span> <span class='word1'>small</span> <span class='word1'>result</span> <span class='word1'>means</span> <span class='word1'>the</span> <span class='word1'>two</span> <span class='word1'>images</span> <span class='word1'>are</span> <span class='word1'>well</span> <span class='word1'>matched</span><span class='ignore'>.</span><br>
<br>
<span class='command'>\subsection</span><span class='ignore'>{</span><span class='word2'>Sum</span> <span class='word2'>of</span> <span class='word2'>Squared</span> <span class='word2'>Differences</span><span class='ignore'>}</span><span class='command'>\label</span><span class='ignore'>{</span><span class='ignore'>Section</span><span class='ignore'>:</span><span class='ignore'>SSD</span><span class='ignore'>}</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{equation}</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>SSD</span><span class='ignore'>}</span><br>
<span class='ignore'>SSD</span> <span class='ignore'>=</span> <span class='exclcommand'>\sum</span><span class='exclcommand'>\limits_</span><span class='ignore'>{</span><span class='ignore'>i</span><span class='ignore'>=</span><span class='ignore'>0</span><span class='ignore'>}</span><span class='ignore'>^</span><span class='ignore'>{</span><span class='ignore'>I-1</span><span class='ignore'>}</span> <span class='exclcommand'>\sum</span><span class='exclcommand'>\limits_</span><span class='ignore'>{</span><span class='ignore'>j</span><span class='ignore'>=</span><span class='ignore'>0</span><span class='ignore'>}</span><span class='ignore'>^</span><span class='ignore'>{</span><span class='ignore'>J-1</span><span class='ignore'>}</span> <span class='ignore'>(</span><span class='ignore'>A</span><span class='ignore'>[</span><span class='ignore'>i</span><span class='ignore'>,</span><span class='ignore'>j</span><span class='ignore'>]</span> <span class='ignore'>-</span> <span class='ignore'>B</span><span class='ignore'>[</span><span class='ignore'>i</span><span class='ignore'>,</span><span class='ignore'>j</span><span class='ignore'>]</span> <span class='ignore'>)</span><span class='ignore'>^</span><span class='ignore'>2</span><br>
<span class='grouping'>\end</span><span class='grouping'>{equation}</span><br>
<br>
<span class='word1'>This</span> <span class='word1'>is</span> <span class='word1'>very</span> <span class='word1'>similar</span> <span class='word1'>to</span> <span class='word1'>SAD</span> <span class='word1'>but</span> <span class='word1'>adds</span> <span class='word1'>more</span> <span class='word1'>complexity</span> <span class='word1'>by</span> <span class='word1'>squaring</span> <span class='word1'>each</span> <span class='word1'>difference</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>removes</span> <span class='word1'>the</span> <span class='word1'>ability</span> <span class='word1'>of</span> <span class='word1'>equally</span> <span class='word1'>different</span> <span class='word1'>but</span> <span class='word1'>opposite</span> <span class='word1'>differences</span> <span class='word1'>cancelling</span> <span class='word1'>each</span> <span class='word1'>other</span> <span class='word1'>out</span> <span class='ignore'>(</span><span class='word1'>grey</span> <span class='word1'>to</span> <span class='word1'>white</span> <span class='word1'>of</span> <span class='word1'>one</span> <span class='word1'>pixel</span> <span class='word1'>will</span> <span class='word1'>cancel</span> <span class='word1'>out</span> <span class='word1'>a</span> <span class='word1'>white</span> <span class='word1'>to</span> <span class='word1'>grey</span> <span class='word1'>difference</span> <span class='word1'>in</span> <span class='word1'>another</span> <span class='word1'>with</span> <span class='word1'>SAD</span><span class='ignore'>)</span><span class='ignore'>.</span> <span class='word1'>Again</span><span class='ignore'>,</span> <span class='word1'>a</span> <span class='word1'>low</span> <span class='word1'>result</span> <span class='word1'>is</span> <span class='word1'>a</span> <span class='word1'>match</span> <span class='word1'>in</span> <span class='word1'>this</span> <span class='word1'>case</span><span class='ignore'>.</span><br>
<br>
<span class='comment'>%\inote{sort chi out, if I want to do it...}</span><br>
<span class='comment'>%\subsection{'Chi Squared'}</span><br>
<span class='comment'>%$\chi ^{2}$ is ``Insert definition here". For use with images the equation can be adapted to \ref{eq:ChiSquare}. </span><br>
<span class='comment'>%</span><br>
<span class='comment'>%\begin{equation} \label{eq:ChiSquare}</span><br>
<span class='comment'>%\chi ^{2} = \sum\limits_{i=0}^{I-1} \sum\limits_{j=0}^{J-1}\frac{(A[i,j] - B[i,j])^2}{(A[i,j]+B[i,j])/2}</span><br>
<span class='comment'>%\end{equation}</span><br>
<br>
<br>
<span class='command'>\subsection</span><span class='ignore'>{</span><span class='word2'>Normalised</span> <span class='word2'>Cross</span> <span class='word2'>Correlation</span><span class='ignore'>}</span><span class='command'>\label</span><span class='ignore'>{</span><span class='ignore'>Section</span><span class='ignore'>:</span><span class='ignore'>NCC</span><span class='ignore'>}</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{equation}</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>NCC</span><span class='ignore'>}</span><br>
<span class='ignore'>NCC</span> <span class='ignore'>=</span>&nbsp; <span class='exclcommand'>\frac</span><span class='ignore'>{1}{n}</span><span class='exclcommand'>\sum</span><span class='exclcommand'>\limits_</span><span class='ignore'>{</span><span class='ignore'>i</span><span class='ignore'>,</span><span class='ignore'>j</span><span class='ignore'>}</span> <span class='exclcommand'>\frac</span><span class='ignore'>{</span><span class='ignore'>(</span><span class='ignore'>A</span><span class='ignore'>[</span><span class='ignore'>i</span><span class='ignore'>,</span><span class='ignore'>j</span><span class='ignore'>]</span> <span class='ignore'>-</span> <span class='exclcommand'>\bar</span><span class='ignore'>{A}</span><span class='ignore'>)</span><span class='ignore'>.</span><span class='ignore'>(</span><span class='ignore'>B</span><span class='ignore'>[</span><span class='ignore'>i</span><span class='ignore'>,</span><span class='ignore'>j</span><span class='ignore'>]</span> <span class='ignore'>-</span> <span class='exclcommand'>\bar</span><span class='ignore'>{B}</span><span class='ignore'>)</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>\sigma </span><span class='ignore'>_</span><span class='ignore'>A</span> <span class='ignore'>.</span> <span class='ignore'>\sigma </span><span class='ignore'>_</span><span class='ignore'>B</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{equation}</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{center}</span><br>
<span class='word1'>Where</span> <span class='mathgroup'>$</span><span class='ignore'>n</span><span class='mathgroup'>$</span> <span class='word1'>is</span> <span class='word1'>the</span> <span class='word1'>number</span> <span class='word1'>of</span> <span class='word1'>pixels</span> <span class='word1'>in</span> <span class='mathgroup'>$</span><span class='ignore'>A</span><span class='mathgroup'>$</span> <span class='word1'>and</span> <span class='mathgroup'>$</span><span class='ignore'>B</span><span class='mathgroup'>$</span><span class='ignore'>,</span> <span class='command'>\\</span><span class='mathgroup'>$</span><span class='ignore'>\sigma</span><span class='mathgroup'>$</span> <span class='word1'>is</span> <span class='word1'>the</span> <span class='word1'>standard</span> <span class='word1'>deviation</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>image</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='command'>\\</span><span class='mathgroup'>$</span><span class='exclcommand'>\bar</span><span class='ignore'>{A}</span><span class='mathgroup'>$</span> <span class='word1'>is</span> <span class='word1'>the</span> <span class='word1'>a</span> <span class='word1'>average</span> <span class='word1'>pixel</span> <span class='word1'>value</span><span class='ignore'>.</span> <br>
<span class='comment'>%\inote{Find a source for this equation}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{center}</span><br>
<span class='comment'>%\inote{No date on Reference}</span><br>
<span class='word1'>NCC</span> <span class='word1'>is</span> <span class='word1'>very</span> <span class='word1'>similar</span> <span class='word1'>to</span> <span class='word1'>cross</span> <span class='word1'>correlation</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>normalised</span> <span class='word1'>to</span> <span class='word1'>reduce</span> <span class='word1'>the</span> <span class='word1'>error</span> <span class='word1'>if</span> <span class='word1'>one</span> <span class='word1'>image</span> <span class='word1'>is</span> <span class='word1'>brighter</span> <span class='word1'>than</span> <span class='word1'>the</span> <span class='word1'>other</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>is</span> <span class='word1'>common</span> <span class='word1'>in</span> <span class='word1'>computer</span> <span class='word1'>vision</span> <span class='command'>\citep</span><span class='ignore'>{</span><span class='ignore'>Tsai</span><span class='ignore'>:</span><span class='ignore'>NCC</span><span class='ignore'>}</span> <span class='word1'>and</span> <span class='word1'>cross</span> <span class='word1'>correlation</span> <span class='word1'>is</span> <span class='word1'>often</span> <span class='word1'>used</span> <span class='word1'>in</span> <span class='word1'>digital</span> <span class='word1'>signal</span> <span class='word1'>processing</span><span class='ignore'>,</span> <span class='word1'>so</span> <span class='word1'>fast</span> <span class='word1'>algorithms</span> <span class='word1'>have</span> <span class='word1'>been</span> <span class='word1'>made</span> <span class='word1'>to</span> <span class='word1'>calculate</span> <span class='word1'>this</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>Unlike</span> <span class='word1'>SSD</span> <span class='word1'>and</span> <span class='word1'>SAD</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>normalised</span> <span class='word1'>cross</span> <span class='word1'>correlation</span> <span class='word1'>gives</span> <span class='word1'>a</span> <span class='word1'>high</span> <span class='word1'>value</span> <span class='word1'>for</span> <span class='word1'>a</span> <span class='word1'>match</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>downside</span> <span class='word1'>to</span> <span class='word1'>this</span> <span class='word1'>algorithm</span> <span class='word1'>comes</span> <span class='word1'>with</span> <span class='word1'>the</span> <span class='word1'>complexity</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>equation</span> <span class='word1'>as</span> <span class='word1'>it</span> <span class='word1'>contains</span> <span class='word1'>division</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>calculation</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>square</span> <span class='word1'>root</span> <span class='word1'>of</span> <span class='word1'>a</span> <span class='word1'>number</span> <span class='word1'>in</span> <span class='word1'>order</span> <span class='word1'>to</span> <span class='word1'>find</span> <span class='word1'>the</span> <span class='word1'>standard</span> <span class='word1'>deviation</span><span class='ignore'>.</span> <br>
<span class='word1'>Floating</span> <span class='word1'>point</span> <span class='word1'>arithmetic</span> <span class='word1'>is</span> <span class='word1'>extensively</span> <span class='word1'>used</span><span class='ignore'>,</span> <span class='word1'>which</span> <span class='word1'>takes</span> <span class='word1'>much</span> <span class='word1'>more</span> <span class='word1'>time</span> <span class='word1'>to</span> <span class='word1'>execute</span> <span class='word1'>on</span> <span class='word1'>a</span> <span class='word1'>microcontroller</span> <span class='word1'>than</span> <span class='word1'>pure</span> <span class='word1'>integer</span> <span class='word1'>arithmetic</span><span class='ignore'>.</span><br>
<span class='comment'>%These operations are rarely implemented in hardware and are time consuming to carry out in software. They also require floating point registers and operates slowly on a microcontroller without any. </span><br>
<br>
<br>
<br>
<span class='comment'>%test and compare</span><br>
<span class='command'>\subsection</span><span class='word2'>{Comparison}</span><br>
<br>
<span class='word1'>To</span> <span class='word1'>compare</span> <span class='word1'>these</span> <span class='word1'>equations</span><span class='ignore'>,</span> <span class='word1'>a</span> <span class='mathgroup'>$</span><span class='ignore'>50px</span> <span class='exclcommand'>\times</span> <span class='ignore'>50px</span><span class='mathgroup'>$</span> <span class='word1'>template</span> <span class='word1'>taken</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>right</span> <span class='word1'>picture</span> <span class='word1'>was</span> <span class='word1'>compared</span> <span class='word1'>with</span> <span class='word1'>the</span> <span class='word1'>left</span> <span class='word1'>image</span> <span class='word1'>over</span> <span class='word1'>the</span> <span class='word1'>entire</span> <span class='word1'>valid</span> <span class='word1'>range</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>coordinates</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>graph</span> <span class='word1'>give</span> <span class='word1'>the</span> <span class='word1'>centre</span> <span class='word1'>pixel</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>calculation</span><span class='ignore'>.</span> <br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='exclcommand'>\subfigure</span><span class='ignore'>[</span><span class='ignore'>S.A.D</span> <span class='ignore'>results</span> <span class='ignore'>-</span> <span class='ignore'>blue</span> <span class='ignore'>shows</span> <span class='ignore'>areas</span> <span class='ignore'>of</span> <span class='ignore'>matching</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Results</span><span class='ignore'>:</span><span class='ignore'>SAD</span><span class='ignore'>}</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='option'>[width = 12cm, keepaspectratio]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>SADResults.eps</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='exclcommand'>\subfigure</span><span class='ignore'>[</span><span class='ignore'>S.S.D</span><span class='ignore'>.</span> <span class='ignore'>results</span> <span class='ignore'>-</span> <span class='ignore'>blue</span> <span class='ignore'>shows</span> <span class='ignore'>areas</span> <span class='ignore'>of</span> <span class='ignore'>matching</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Results</span><span class='ignore'>:</span><span class='ignore'>SSD</span><span class='ignore'>}</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='option'>[width = 12cm, keepaspectratio]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>SSDResults.eps</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='exclcommand'>\subfigure</span><span class='ignore'>[</span><span class='ignore'>N.C.C</span><span class='ignore'>.</span> <span class='ignore'>results</span> <span class='ignore'>-</span> <span class='ignore'>red</span> <span class='ignore'>shows</span> <span class='ignore'>areas</span> <span class='ignore'>of</span> <span class='ignore'>matching</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Results</span><span class='ignore'>:</span><span class='ignore'>NCC</span><span class='ignore'>}</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='option'>[width = 12cm, keepaspectratio]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>NCCResults.eps</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Result</span> <span class='word3'>graphs</span> <span class='word3'>of</span> <span class='word3'>comparison</span> <span class='word3'>algorithms</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>CompResults</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
<span class='word1'>Each</span> <span class='word1'>graph</span> <span class='word1'>shows</span> <span class='word1'>the</span> <span class='word1'>correct</span> <span class='word1'>area</span> <span class='word1'>being</span> <span class='word1'>identified</span> <span class='word1'>as</span> <span class='word1'>a</span> <span class='word1'>match</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>this</span> <span class='word1'>also</span> <span class='word1'>highlights</span> <span class='word1'>the</span> <span class='word1'>downfalls</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>SAD</span> <span class='word1'>and</span> <span class='word1'>SSD</span> <span class='word1'>methods</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>graphs</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>CompResults</span><span class='ignore'>}</span> <span class='word1'>are</span> <span class='word1'>rotated</span> <span class='word1'>to</span> <span class='word1'>match</span> <span class='word1'>the</span> <span class='word1'>orientation</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>images</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>StereoTest</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>Each</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>images</span> <span class='word1'>is</span> <span class='word1'>tested</span> <span class='word1'>by</span> <span class='word1'>attempting</span> <span class='word1'>to</span> <span class='word1'>match</span> <span class='word1'>the</span> <span class='word1'>desk</span> <span class='word1'>phone</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>right</span> <span class='word1'>image</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>entirety</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>left</span> <span class='word1'>image</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>actual</span> <span class='word1'>match</span> <span class='word1'>should</span> <span class='word1'>be</span> <span class='word1'>around</span> <span class='mathgroup'>$</span><span class='ignore'>(</span><span class='ignore'>170</span><span class='ignore'>,</span> <span class='ignore'>176</span><span class='ignore'>)</span><span class='mathgroup'>$</span><span class='ignore'>.</span> <span class='word1'>An</span> <span class='word1'>exact</span> <span class='word1'>result</span> <span class='word1'>cannot</span> <span class='word1'>be</span> <span class='word1'>estimated</span> <span class='word1'>as</span> <span class='word1'>the</span> <span class='word1'>images</span> <span class='word1'>are</span> <span class='word1'>not</span> <span class='word1'>matched</span> <span class='word1'>perfectly</span> <span class='ignore'>-</span> <span class='word1'>there</span> <span class='word1'>isn't</span> <span class='word1'>an</span> <span class='word1'>exact</span> <span class='word1'>integer</span> <span class='word1'>of</span> <span class='word1'>pixel</span> <span class='word1'>difference</span> <span class='word1'>between</span> <span class='word1'>the</span> <span class='word1'>images</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>is</span> <span class='word1'>the</span> <span class='word1'>sub</span> <span class='word1'>pixel</span> <span class='word1'>problem</span> <span class='command'>\citep</span><span class='ignore'>{haller2012design}</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>SAD</span> <span class='word1'>results</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Results</span><span class='ignore'>:</span><span class='ignore'>SAD</span><span class='ignore'>}</span> <span class='word1'>show</span> <span class='word1'>large</span> <span class='word1'>areas</span> <span class='word1'>of</span> <span class='word1'>matching</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>minimum</span> <span class='word1'>occurs</span> <span class='word1'>around</span> <span class='word1'>the</span> <span class='word1'>location</span> <span class='word1'>expected</span><span class='ignore'>(</span><span class='mathgroup'>$</span><span class='ignore'>170</span><span class='ignore'>,</span><span class='ignore'>175</span><span class='mathgroup'>$</span><span class='ignore'>)</span> <span class='word1'>of</span> <span class='word1'>a</span> <span class='word1'>value</span> <span class='word1'>of</span> <span class='mathgroup'>$</span><span class='ignore'>5.66</span><span class='exclcommand'>\times</span> <span class='ignore'>10</span><span class='ignore'>^</span><span class='ignore'>4</span><span class='mathgroup'>$</span><span class='ignore'>.</span> <br>
<span class='word1'>However</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>dark</span> <span class='word1'>area</span> <span class='word1'>beneath</span> <span class='word1'>the</span> <span class='word1'>desk</span> <span class='word1'>is</span> <span class='word1'>a</span> <span class='word1'>false</span> <span class='word1'>detection</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>SAD</span> <span class='word1'>algorithm</span> <span class='word1'>detects</span> <span class='word1'>a</span> <span class='word1'>greater</span> <span class='word1'>comparison</span> <span class='word1'>with</span> <span class='word1'>a</span> <span class='word1'>low</span> <span class='word1'>value</span> <span class='word1'>of</span> <span class='mathgroup'>$</span><span class='ignore'>3370</span><span class='mathgroup'>$</span> <span class='word1'>at</span> <span class='mathgroup'>$</span><span class='ignore'>(</span><span class='ignore'>227</span><span class='ignore'>,</span> <span class='ignore'>275</span><span class='ignore'>)</span><span class='mathgroup'>$</span> <span class='word1'>which</span> <span class='word1'>causes</span> <span class='word1'>a</span> <span class='word1'>false</span> <span class='word1'>match</span><span class='ignore'>.</span><br>
<span class='comment'>%However, along the bottom of the image, where a dark area occurs below the desk in the lower part of figures \ref{fig:StereoTest}, the SAD algorithm detects a greater comparison, with the lowest value in this area being $3370$ at $(227, 275)$. This creates a false detection here. </span><br>
<br>
<span class='word1'>SSD</span><span class='ignore'>,</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Results</span><span class='ignore'>:</span><span class='ignore'>SSD</span><span class='ignore'>}</span><span class='ignore'>,</span> <span class='word1'>shows</span> <span class='word1'>matches</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>same</span> <span class='word1'>two</span> <span class='word1'>areas</span><span class='ignore'>:</span> <span class='word1'>where</span> <span class='word1'>a</span> <span class='word1'>match</span> <span class='word1'>should</span> <span class='word1'>occur</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>dark</span> <span class='word1'>area</span> <span class='word1'>beneath</span> <span class='word1'>the</span> <span class='word1'>desk</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>minimum</span> <span class='word1'>value</span> <span class='word1'>where</span> <span class='word1'>the</span> <span class='word1'>match</span> <span class='word1'>should</span> <span class='word1'>occur</span> <span class='word1'>is</span> <span class='mathgroup'>$</span><span class='ignore'>4.355</span> <span class='exclcommand'>\times</span> <span class='ignore'>10</span><span class='ignore'>^</span><span class='ignore'>5</span><span class='mathgroup'>$</span> <span class='word1'>at</span> <span class='word1'>location</span> <span class='mathgroup'>$</span><span class='ignore'>(</span><span class='ignore'>170</span><span class='ignore'>,</span><span class='ignore'>176</span><span class='ignore'>)</span><span class='mathgroup'>$</span><span class='ignore'>.</span> <span class='word1'>However</span><span class='ignore'>,</span> <span class='word1'>there</span> <span class='word1'>is</span> <span class='word1'>a</span> <span class='word1'>large</span> <span class='word1'>match</span> <span class='word1'>correlation</span> <span class='word1'>between</span> <span class='word1'>the</span> <span class='word1'>dark</span> <span class='word1'>area</span> <span class='word1'>under</span> <span class='word1'>the</span> <span class='word1'>desk</span> <span class='word1'>where</span> <span class='word1'>the</span> <span class='word1'>actual</span> <span class='word1'>lowest</span> <span class='word1'>value</span> <span class='word1'>of</span> <span class='mathgroup'>$</span><span class='ignore'>2.768</span><span class='exclcommand'>\times</span><span class='ignore'>10</span><span class='ignore'>^</span><span class='ignore'>4</span><span class='mathgroup'>$</span> <span class='word1'>occurs</span> <span class='word1'>at</span> <span class='mathgroup'>$</span><span class='ignore'>(</span><span class='ignore'>225</span><span class='ignore'>,</span><span class='ignore'>274</span><span class='ignore'>)</span><span class='mathgroup'>$</span><span class='ignore'>.</span> <span class='word1'>This</span><span class='ignore'>,</span> <span class='word1'>again</span><span class='ignore'>,</span> <span class='word1'>is</span> <span class='word1'>a</span> <span class='word1'>false</span> <span class='word1'>match</span> <span class='word1'>and</span> <span class='word1'>is</span> <span class='word1'>a</span> <span class='word1'>downfall</span> <span class='word1'>of</span> <span class='word1'>this</span> <span class='word1'>algorithm</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>The</span> <span class='word1'>NCC</span> <span class='word1'>results</span> <span class='word1'>are</span> <span class='word1'>visible</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Results</span><span class='ignore'>:</span><span class='ignore'>NCC</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>match</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>at</span> <span class='word1'>coordinate</span> <span class='mathgroup'>$</span><span class='ignore'>(</span><span class='ignore'>195</span><span class='ignore'>,</span><span class='ignore'>201</span><span class='ignore'>)</span><span class='mathgroup'>$</span> <span class='word1'>with</span> <span class='word1'>a</span> <span class='word1'>peak</span> <span class='word1'>value</span> <span class='word1'>of</span> <span class='mathgroup'>$</span><span class='ignore'>0.9654</span><span class='mathgroup'>$</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>coordinate</span> <span class='word1'>is</span> <span class='word1'>different</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>previous</span> <span class='word1'>results</span> <span class='word1'>because</span> <span class='word1'>the</span> <span class='word1'>cross</span> <span class='word1'>correlation</span> <span class='word1'>works</span> <span class='word1'>over</span> <span class='word1'>the</span> <span class='word1'>boundary</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>image</span> <span class='word1'>creating</span> <span class='word1'>more</span> <span class='word1'>results</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>dimensions</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>image</span> <span class='word1'>are</span> <span class='mathgroup'>$</span><span class='ignore'>300px</span> <span class='exclcommand'>\times</span> <span class='ignore'>400px</span><span class='mathgroup'>$</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>the</span> <span class='word1'>NCC</span> <span class='word1'>returns</span> <span class='word1'>a</span> <span class='word1'>dataset</span> <span class='word1'>of</span> <span class='word1'>dimensions</span> <span class='mathgroup'>$</span><span class='ignore'>350px</span> <span class='exclcommand'>\times</span> <span class='ignore'>450px</span><span class='mathgroup'>$</span> <span class='word1'>when</span> <span class='word1'>using</span> <span class='word1'>a</span> <span class='word1'>template</span> <span class='word1'>size</span> <span class='word1'>of</span> <span class='mathgroup'>$</span><span class='ignore'>50px</span><span class='exclcommand'>\times</span> <span class='ignore'>50px</span><span class='mathgroup'>$</span><span class='ignore'>.</span> <span class='word1'>To</span> <span class='word1'>get</span> <span class='word1'>the</span> <span class='word1'>actual</span> <span class='word1'>match</span><span class='ignore'>,</span> <span class='word1'>half</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>box</span> <span class='word1'>size</span> <span class='word1'>must</span> <span class='word1'>be</span> <span class='word1'>subtracted</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>returned</span> <span class='word1'>coordinate</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>means</span> <span class='word1'>the</span> <span class='word1'>match</span> <span class='word1'>occurs</span> <span class='word1'>at</span> <span class='mathgroup'>$</span><span class='ignore'>(</span><span class='ignore'>170</span><span class='ignore'>,</span><span class='ignore'>176</span><span class='ignore'>)</span><span class='mathgroup'>$</span><span class='ignore'>.</span> <span class='word1'>With</span> <span class='word1'>this</span> <span class='word1'>algorithm</span><span class='ignore'>,</span> <span class='word1'>there</span> <span class='word1'>is</span> <span class='word1'>no</span> <span class='word1'>area</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>image</span> <span class='word1'>which</span> <span class='word1'>is</span> <span class='word1'>close</span> <span class='word1'>to</span> <span class='word1'>a</span> <span class='word1'>false</span> <span class='word1'>detection</span><span class='ignore'>.</span> <br>
<br>
<span class='command'>\subsection</span><span class='word2'>{Conclusion}</span><br>
<span class='word1'>It</span> <span class='word1'>is</span> <span class='word1'>apparent</span> <span class='word1'>that</span> <span class='word1'>there</span> <span class='word1'>is</span> <span class='word1'>a</span> <span class='word1'>direct</span> <span class='word1'>correlation</span> <span class='word1'>between</span> <span class='word1'>the</span> <span class='word1'>complexity</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>matching</span> <span class='word1'>algorithm</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>reliability</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>match</span> <span class='word1'>returned</span><span class='ignore'>.</span> <span class='word1'>In</span> <span class='word1'>brightly</span> <span class='word1'>lit</span><span class='ignore'>,</span> <span class='word1'>colourful</span> <span class='word1'>environments</span> <span class='word1'>absent</span> <span class='word1'>of</span> <span class='word1'>dark</span> <span class='word1'>colours</span><span class='ignore'>,</span> <span class='word1'>SAD</span> <span class='word1'>and</span> <span class='word1'>SSD</span> <span class='word1'>should</span> <span class='word1'>provide</span> <span class='word1'>a</span> <span class='word1'>reliable</span> <span class='word1'>result</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>this</span> <span class='word1'>cannot</span> <span class='word1'>be</span> <span class='word1'>guaranteed</span> <span class='word1'>to</span> <span class='word1'>always</span> <span class='word1'>be</span> <span class='word1'>the</span> <span class='word1'>case</span><span class='ignore'>.</span> <span class='word1'>Therefore</span> <span class='word1'>further</span> <span class='word1'>development</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>matching</span> <span class='word1'>algorithm</span> <span class='word1'>will</span> <span class='word1'>start</span> <span class='word1'>with</span> <span class='word1'>using</span> <span class='word1'>the</span> <span class='word1'>normalised</span> <span class='word1'>cross</span> <span class='word1'>correlation</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>comprise</span> <span class='word1'>between</span> <span class='word1'>complexity</span> <span class='word1'>and</span> <span class='word1'>reliability</span> <span class='word1'>needs</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>reached</span><span class='ignore'>,</span> <span class='word1'>where</span> <span class='word1'>reliability</span> <span class='word1'>is</span> <span class='word1'>the</span> <span class='word1'>more</span> <span class='word1'>desirable</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>two</span><span class='ignore'>.</span> <span class='word1'>Cross</span> <span class='word1'>correlation</span> <span class='word1'>is</span> <span class='word1'>also</span> <span class='word1'>widely</span> <span class='word1'>used</span> <span class='word1'>in</span> <span class='word1'>digital</span> <span class='word1'>signal</span> <span class='word1'>processing</span><span class='ignore'>,</span> <span class='word1'>so</span> <span class='word1'>optimised</span> <span class='word1'>algorithms</span> <span class='word1'>suitable</span> <span class='word1'>for</span> <span class='word1'>microcontrollers</span> <span class='word1'>do</span> <span class='word1'>exist</span><span class='ignore'>.</span><br>
<br>
<span class='command'>\section</span><span class='ignore'>{</span><span class='word2'>Range</span> <span class='word2'>Finding</span><span class='ignore'>}</span><br>
<span class='command'>\subsection</span><span class='word2'>{Derivations}</span><br>
<br>
<span class='word1'>By</span> <span class='word1'>using</span> <span class='word1'>two</span> <span class='word1'>images</span> <span class='word1'>separated</span> <span class='word1'>by</span> <span class='word1'>a</span> <span class='word1'>horizontal</span> <span class='word1'>distance</span><span class='ignore'>,</span> <span class='mathgroup'>$</span><span class='ignore'>B</span><span class='mathgroup'>$</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>range</span> <span class='word1'>of</span> <span class='word1'>an</span> <span class='word1'>object</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>found</span> <span class='word1'>given</span> <span class='word1'>some</span> <span class='word1'>characteristics</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>camera</span><span class='ignore'>.</span> <span class='word1'>Appendix</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>Appendix</span><span class='ignore'>:</span><span class='ignore'>Range</span><span class='ignore'>}</span> <span class='word1'>contains</span> <span class='word1'>the</span> <span class='word1'>derivations</span> <span class='word1'>for</span> <span class='word1'>the</span> <span class='word1'>follow</span> <span class='word1'>scenarios</span><span class='ignore'>:</span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{enumerate}</span><br>
<span class='command'>\item</span> <span class='word1'>Object</span> <span class='word1'>is</span> <span class='word1'>between</span> <span class='word1'>the</span> <span class='word1'>cameras</span> <span class='ignore'>(</span><span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>problem</span><span class='ignore'>_</span><span class='ignore'>between</span><span class='ignore'>}</span><span class='ignore'>)</span><br>
<span class='command'>\item</span> <span class='word1'>Object</span> <span class='word1'>is</span> <span class='word1'>in</span> <span class='word1'>left</span> <span class='word1'>or</span> <span class='word1'>right</span> <span class='word1'>hand</span> <span class='word1'>sides</span> <span class='word1'>of</span> <span class='word1'>both</span> <span class='word1'>images</span> <span class='ignore'>(</span><span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>problem</span><span class='ignore'>_</span><span class='ignore'>toleft</span><span class='ignore'>}</span><span class='ignore'>)</span><br>
<span class='command'>\item</span> <span class='word1'>Object</span> <span class='word1'>is</span> <span class='word1'>directly</span> <span class='word1'>in</span> <span class='word1'>front</span> <span class='word1'>of</span> <span class='word1'>a</span> <span class='word1'>camera</span> <span class='ignore'>(</span><span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>problem</span><span class='ignore'>_</span><span class='ignore'>infront</span><span class='ignore'>}</span><span class='ignore'>)</span><br>
<span class='grouping'>\end</span><span class='grouping'>{enumerate}</span><br>
<br>
<br>
<span class='command'>\subsection</span><span class='word2'>{Summary}</span><br>
<span class='word1'>There</span> <span class='word1'>are</span> <span class='word1'>three</span> <span class='word1'>situations</span> <span class='word1'>that</span> <span class='word1'>can</span> <span class='word1'>occur</span><span class='ignore'>.</span> <span class='word1'>These</span> <span class='word1'>are</span> <span class='word1'>listed</span> <span class='word1'>below</span> <span class='word1'>with</span> <span class='word1'>their</span> <span class='word1'>equations</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>Object</span> <span class='word1'>is</span> <span class='word1'>between</span> <span class='word1'>the</span> <span class='word1'>two</span> <span class='word1'>cameras</span><span class='ignore'>:</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{equation}</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>summary</span><span class='ignore'>:</span><span class='ignore'>1</span><span class='ignore'>}</span><br>
<span class='ignore'>D</span> <span class='ignore'>=</span> <span class='exclcommand'>\frac</span><span class='ignore'>{</span><span class='ignore'>Bx</span><span class='ignore'>_</span><span class='ignore'>0</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>2</span><span class='exclcommand'>\tan</span><span class='ignore'>(</span><span class='exclcommand'>\frac</span><span class='ignore'>{</span><span class='exclcommand'>\varphi_</span><span class='ignore'>0</span><span class='ignore'>}</span><span class='ignore'>{2}</span><span class='ignore'>)</span><span class='ignore'>(</span><span class='ignore'>x</span><span class='ignore'>_</span><span class='ignore'>1</span> <span class='ignore'>-</span> <span class='ignore'>x</span><span class='ignore'>_</span><span class='ignore'>2</span><span class='ignore'>)</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{equation}</span><br>
<br>
<span class='word1'>Object</span> <span class='word1'>is</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>same</span> <span class='word1'>side</span> <span class='word1'>in</span> <span class='word1'>both</span> <span class='word1'>images</span><span class='ignore'>:</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{equation}</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>summary</span><span class='ignore'>:</span><span class='ignore'>2</span><span class='ignore'>}</span><br>
<span class='ignore'>D</span> <span class='ignore'>=</span> <span class='ignore'>B</span><span class='ignore'>.</span><span class='exclcommand'>\frac</span><span class='ignore'>{</span><span class='exclcommand'>\cos</span><span class='ignore'>(</span><span class='exclcommand'>\varphi_</span><span class='ignore'>2</span><span class='ignore'>)</span><span class='ignore'>.</span><span class='exclcommand'>\cos</span><span class='ignore'>(</span><span class='exclcommand'>\varphi_</span><span class='ignore'>1</span><span class='ignore'>)</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>sin</span><span class='ignore'>(</span><span class='exclcommand'>\varphi_</span><span class='ignore'>2</span> <span class='ignore'>-</span> <span class='exclcommand'>\varphi_</span><span class='ignore'>1</span><span class='ignore'>)</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{equation}</span><br>
<span class='word1'>Object</span> <span class='word1'>is</span> <span class='word1'>directly</span> <span class='word1'>in</span> <span class='word1'>front</span> <span class='word1'>of</span> <span class='word1'>a</span> <span class='word1'>camera</span><span class='ignore'>:</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{equation}</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>summary</span><span class='ignore'>:</span><span class='ignore'>3</span><span class='ignore'>}</span><br>
<span class='ignore'>D</span> <span class='ignore'>=</span> <span class='ignore'>B</span> <span class='exclcommand'>\tan</span><span class='exclcommand'>\left</span><span class='ignore'>(</span><span class='exclcommand'>\frac</span><span class='ignore'>{\pi}{2}</span> <span class='ignore'>-</span> <span class='exclcommand'>\varphi_</span><span class='ignore'>{2}</span><span class='exclcommand'>\right</span><span class='ignore'>)</span><br>
<span class='grouping'>\end</span><span class='grouping'>{equation}</span><br>
<br>
<span class='word1'>Where</span> <span class='mathgroup'>$</span><span class='exclcommand'>\varphi_</span><span class='ignore'>1</span><span class='mathgroup'>$</span> <span class='word1'>is</span> <span class='word1'>defined</span> <span class='word1'>in</span> <span class='word1'>Equation</span> <span class='command'>\eqref</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>p2</span><span class='ignore'>:</span><span class='ignore'>phi1</span><span class='ignore'>}</span> <span class='word1'>and</span> <span class='mathgroup'>$</span><span class='exclcommand'>\varphi_</span><span class='ignore'>2</span><span class='mathgroup'>$</span> <span class='word1'>is</span> <span class='word1'>defined</span> <span class='word1'>in</span> <span class='word1'>Equation</span> <span class='command'>\eqref</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>p2</span><span class='ignore'>:</span><span class='ignore'>phi2</span><span class='ignore'>}</span><span class='ignore'>.</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{equation}</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>p2</span><span class='ignore'>:</span><span class='ignore'>phi1</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\varphi_</span><span class='ignore'>1</span> <span class='ignore'>=</span> <span class='exclcommand'>\arctan</span><span class='exclcommand'>\left</span><span class='ignore'>(</span><span class='exclcommand'>\frac</span><span class='ignore'>{</span><span class='ignore'>2x</span><span class='ignore'>_</span><span class='ignore'>1</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>x</span><span class='ignore'>_</span><span class='ignore'>0</span><span class='ignore'>}</span><span class='exclcommand'>\tan</span><span class='exclcommand'>\left</span><span class='ignore'>(</span><span class='exclcommand'>\frac</span><span class='ignore'>{</span><span class='exclcommand'>\varphi_</span><span class='ignore'>0</span><span class='ignore'>}</span><span class='ignore'>{2}</span><span class='exclcommand'>\right</span><span class='ignore'>)</span><span class='exclcommand'>\right</span><span class='ignore'>)</span><br>
<span class='grouping'>\end</span><span class='grouping'>{equation}</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{equation}</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>p2</span><span class='ignore'>:</span><span class='ignore'>phi2</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\varphi_</span><span class='ignore'>2</span> <span class='ignore'>=</span> <span class='exclcommand'>\arctan</span><span class='exclcommand'>\left</span><span class='ignore'>(</span><span class='exclcommand'>\frac</span><span class='ignore'>{</span><span class='ignore'>2x</span><span class='ignore'>_</span><span class='ignore'>2</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>x</span><span class='ignore'>_</span><span class='ignore'>0</span><span class='ignore'>}</span><span class='exclcommand'>\tan</span><span class='exclcommand'>\left</span><span class='ignore'>(</span><span class='exclcommand'>\frac</span><span class='ignore'>{</span><span class='exclcommand'>\varphi_</span><span class='ignore'>0</span><span class='ignore'>}</span><span class='ignore'>{2}</span><span class='exclcommand'>\right</span><span class='ignore'>)</span><span class='exclcommand'>\right</span><span class='ignore'>)</span><br>
<span class='grouping'>\end</span><span class='grouping'>{equation}</span><br>
<span class='command'>\\</span><br>
<span class='word1'>When</span> <span class='word1'>the</span> <span class='word1'>images</span> <span class='word1'>have</span> <span class='word1'>been</span> <span class='word1'>matched</span><span class='ignore'>,</span> <span class='word1'>these</span> <span class='word1'>equations</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>used</span> <span class='word1'>to</span> <span class='word1'>calculate</span> <span class='word1'>the</span> <span class='word1'>distance</span> <span class='word1'>to</span> <span class='word1'>an</span> <span class='word1'>object</span><span class='ignore'>.</span><br>
<br>
<span class='command'>\subsection</span><span class='ignore'>{</span><span class='word2'>Field</span> <span class='word2'>of</span> <span class='word2'>View</span><span class='ignore'>}</span><br>
<span class='comment'>%The field of view is an important characteristic to calculate distances and must be measured for the camera. </span><br>
<span class='word1'>The</span> <span class='word1'>field</span> <span class='word1'>of</span> <span class='word1'>view</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>camera</span> <span class='word1'>is</span> <span class='word1'>an</span> <span class='word1'>important</span> <span class='word1'>variable</span> <span class='word1'>that</span> <span class='word1'>must</span> <span class='word1'>be</span> <span class='word1'>measured</span><span class='ignore'>.</span> <span class='word1'>Field</span> <span class='word1'>of</span> <span class='word1'>view</span> <span class='word1'>was</span> <span class='word1'>measured</span> <span class='word1'>by</span> <span class='word1'>placing</span> <span class='word1'>a</span> <span class='word1'>ruler</span> <span class='word1'>at</span> <span class='word1'>a</span> <span class='word1'>distance</span> <span class='word1'>in</span> <span class='word1'>front</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>camera</span> <span class='word1'>and</span> <span class='word1'>measuring</span> <span class='word1'>the</span> <span class='word1'>total</span> <span class='word1'>distance</span> <span class='word1'>seen</span> <span class='word1'>across</span> <span class='word1'>the</span> <span class='word1'>image</span><span class='ignore'>.</span> <span class='word1'>Equation</span> <span class='command'>\eqref</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>FoV</span><span class='ignore'>}</span><span class='ignore'>,</span> <span class='word1'>derived</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>set-up</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>FoV</span><span class='ignore'>}</span><span class='ignore'>,</span> <span class='word1'>was</span> <span class='word1'>then</span> <span class='word1'>used</span> <span class='word1'>to</span> <span class='word1'>calculate</span> <span class='word1'>the</span> <span class='word1'>field</span> <span class='word1'>of</span> <span class='word1'>view</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>was</span> <span class='word1'>done</span> <span class='word1'>multiple</span> <span class='word1'>times</span> <span class='word1'>for</span> <span class='word1'>accuracy</span><span class='ignore'>.</span> <span class='word1'>Results</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Table</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>fieldofview</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>field</span> <span class='word1'>of</span> <span class='word1'>view</span> <span class='word1'>used</span> <span class='word1'>is</span> <span class='word1'>the</span> <span class='word1'>average</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>data</span> <span class='word1'>set</span> <span class='word1'>and</span> <span class='word1'>was</span> <span class='word1'>found</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='mathgroup'>$</span><span class='exclcommand'>\varphi_</span><span class='ignore'>0</span> <span class='ignore'>=</span> <span class='ignore'>0.6249</span><span class='ignore'>^</span><span class='ignore'>c</span><span class='mathgroup'>$</span><span class='ignore'>.</span> <br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>FoV.pdf</span><span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Diagram</span> <span class='word3'>of</span> <span class='word3'>the</span> <span class='word3'>set-up</span> <span class='word3'>to</span> <span class='word3'>measure</span> <span class='word3'>the</span> <span class='word3'>field</span> <span class='word3'>of</span> <span class='word3'>view</span> <span class='word3'>of</span> <span class='word3'>the</span> <span class='word3'>camera</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>FoV</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{equation}</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>FoV</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\varphi_</span><span class='ignore'>0</span> <span class='ignore'>=</span> <span class='ignore'>2</span><span class='exclcommand'>\arctan</span><span class='exclcommand'>\left</span><span class='ignore'>(</span><span class='exclcommand'>\frac</span><span class='ignore'>{L}{2D}</span><span class='exclcommand'>\right</span><span class='ignore'>)</span><br>
<span class='grouping'>\end</span><span class='grouping'>{equation}</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{table}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Table</span> <span class='word3'>of</span> <span class='word3'>results</span> <span class='word3'>to</span> <span class='word3'>calculate</span> <span class='word3'>the</span> <span class='word3'>field</span> <span class='word3'>of</span> <span class='word3'>view</span> <span class='word3'>of</span> <span class='word3'>the</span> <span class='word3'>camera</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>fieldofview</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='exclgroup'>\begin</span><span class='exclgroup'>{tabular}</span><span class='ignore'>{ccc}</span> <span class='exclcommand'>\toprule</span><br>
<span class='exclcommand'>\textbf</span><span class='ignore'>{</span><span class='ignore'>L</span> <span class='ignore'>(</span><span class='ignore'>mm</span><span class='ignore'>)</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span> <span class='exclcommand'>\textbf</span><span class='ignore'>{</span><span class='ignore'>D</span> <span class='ignore'>(</span><span class='ignore'>mm</span><span class='ignore'>)</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span><span class='exclmath'>$</span><span class='exclcommand'>\boldsymbol</span><span class='ignore'>{</span><span class='exclcommand'>\varphi</span> <span class='ignore'>(</span><span class='ignore'>^</span><span class='ignore'>c</span><span class='ignore'>)</span><span class='ignore'>}</span><span class='exclmath'>$</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\toprule</span><br>
<span class='ignore'>70</span> <span class='ignore'>&amp;</span> <span class='ignore'>104</span> <span class='ignore'>&amp;</span> <span class='ignore'>0.6435</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>90</span> <span class='ignore'>&amp;</span> <span class='ignore'>135</span> <span class='ignore'>&amp;</span><span class='ignore'>0.6015</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>178</span> <span class='ignore'>&amp;</span> <span class='ignore'>285</span> <span class='ignore'>&amp;</span><span class='ignore'>0.6054</span><span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>214</span> <span class='ignore'>&amp;</span> <span class='ignore'>345</span> <span class='ignore'>&amp;</span><span class='ignore'>0.6493</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\bottomrule</span><br>
<span class='ignore'>\multicolumn{2}{c}{Average}</span> <span class='ignore'>&amp;</span> <span class='ignore'>0.6249</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\bottomrule</span><br>
<span class='exclgroup'>\end</span><span class='exclgroup'>{tabular}</span><br>
<br>
<span class='grouping'>\end</span><span class='grouping'>{table}</span><br>
<br>
<br>
<br>
<span class='command'>\subsection</span><span class='word2'>{Testing}</span><br>
<span class='word1'>MATLAB</span> <span class='word1'>was</span> <span class='word1'>used</span> <span class='word1'>to</span> <span class='word1'>test</span> <span class='word1'>the</span> <span class='word1'>range</span> <span class='word1'>finding</span><span class='ignore'>.</span> <span class='word1'>It</span> <span class='word1'>is</span> <span class='word1'>unable</span> <span class='word1'>to</span> <span class='word1'>automatically</span> <span class='word1'>detect</span> <span class='word1'>an</span> <span class='word1'>object</span> <span class='word1'>so</span> <span class='word1'>the</span> <span class='word1'>user</span> <span class='word1'>must</span> <span class='word1'>select</span> <span class='word1'>the</span> <span class='word1'>template</span> <span class='word1'>when</span> <span class='word1'>prompted</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>A</span> <span class='word1'>stereo</span> <span class='word1'>pair</span> <span class='word1'>of</span> <span class='word1'>images</span> <span class='word1'>of</span> <span class='word1'>a</span> <span class='word1'>rubber</span> <span class='word1'>duck</span> <span class='word1'>at</span> <span class='word1'>different</span> <span class='word1'>ranges</span> <span class='word1'>were</span> <span class='word1'>captured</span> <span class='word1'>using</span> <span class='word1'>the</span> <span class='word1'>completed</span> <span class='word1'>robot</span><span class='ignore'>.</span> <span class='word1'>To</span> <span class='word1'>calculate</span> <span class='word1'>the</span> <span class='word1'>distance</span><span class='ignore'>,</span> <span class='word1'>a</span> <span class='word1'>template</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>right</span> <span class='word1'>image</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>duck's</span> <span class='word1'>head</span> <span class='word1'>was</span> <span class='word1'>cross</span> <span class='word1'>correlated</span> <span class='word1'>with</span> <span class='word1'>the</span> <span class='word1'>left</span> <span class='word1'>image</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>maximum</span> <span class='word1'>peak</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>result</span> <span class='word1'>was</span> <span class='word1'>found</span> <span class='word1'>and</span> <span class='word1'>used</span> <span class='word1'>as</span> <span class='word1'>the</span> <span class='word1'>match</span> <span class='word1'>point</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>distance</span> <span class='word1'>was</span> <span class='word1'>then</span> <span class='word1'>calculated</span> <span class='word1'>using</span> <span class='word1'>Equation</span> <span class='command'>\eqref</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>summary</span><span class='ignore'>:</span><span class='ignore'>1</span><span class='ignore'>}</span><span class='ignore'>,</span> <span class='word1'>with</span> <span class='mathgroup'>$</span><span class='ignore'>B</span><span class='ignore'>=</span><span class='ignore'>42mm</span><span class='mathgroup'>$</span><span class='ignore'>,</span> <span class='mathgroup'>$</span><span class='exclcommand'>\varphi_</span><span class='ignore'>0</span><span class='ignore'>=</span><span class='ignore'>0.6249</span><span class='mathgroup'>$</span> <span class='word1'>and</span> <span class='mathgroup'>$</span><span class='ignore'>x</span><span class='ignore'>_</span><span class='ignore'>0</span><span class='ignore'>=</span><span class='ignore'>320</span><span class='mathgroup'>$</span><span class='ignore'>.</span> <span class='word1'>Example</span> <span class='word1'>images</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>duck</span><span class='ignore'>:</span><span class='ignore'>stereo</span><span class='ignore'>}</span> <span class='word1'>and</span> <span class='word1'>an</span> <span class='word1'>example</span> <span class='word1'>NCC</span> <span class='word1'>result</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>duck</span><span class='ignore'>:</span><span class='ignore'>ncc</span><span class='ignore'>}</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>Table</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>range</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>the</span> <span class='word1'>distances</span> <span class='word1'>tested</span> <span class='word1'>with</span> <span class='word1'>the</span> <span class='word1'>distance</span> <span class='word1'>calculated</span> <span class='word1'>using</span> <span class='word1'>the</span> <span class='word1'>above</span> <span class='word1'>method</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>ranges</span> <span class='word1'>calculated</span> <span class='word1'>were</span> <span class='word1'>inaccurate</span><span class='ignore'>.</span> <span class='word1'>Matching</span> <span class='word1'>can</span> <span class='word1'>only</span> <span class='word1'>be</span> <span class='word1'>achieved</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>accuracy</span> <span class='word1'>of</span> <span class='word1'>a</span> <span class='word1'>few</span> <span class='word1'>pixels</span> <span class='word1'>without</span> <span class='word1'>a</span> <span class='word1'>more</span> <span class='word1'>complex</span> <span class='word1'>design</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>therefore</span> <span class='word1'>can</span> <span class='word1'>introduce</span> <span class='word1'>a</span> <span class='word1'>small</span> <span class='word1'>error</span> <span class='word1'>when</span> <span class='word1'>matching</span> <span class='word1'>and</span> <span class='word1'>cause</span> <span class='word1'>a</span> <span class='word1'>large</span> <span class='word1'>distance</span> <span class='word1'>error</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>calculation</span><span class='ignore'>.</span> <br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{table}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Results</span> <span class='word3'>of</span> <span class='word3'>range</span> <span class='word3'>finding</span> <span class='word3'>test</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>range</span><span class='ignore'>}</span><br>
<span class='exclgroup'>\begin</span><span class='exclgroup'>{tabular}</span><span class='ignore'>{</span><span class='ignore'>p{3cm}p{3cm}p{3cm}p{3cm}</span><span class='ignore'>}</span> <span class='exclcommand'>\toprule</span><br>
<span class='exclcommand'>\textbf</span><span class='ignore'>{</span><span class='ignore'>Actual</span> <span class='ignore'>Distance</span> <span class='ignore'>(</span><span class='ignore'>mm</span><span class='ignore'>)</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span> <span class='exclcommand'>\textbf</span><span class='ignore'>{</span><span class='ignore'>Pixel</span> <span class='ignore'>Difference</span> <span class='ignore'>in</span> <span class='ignore'>Images</span> <span class='ignore'>(</span><span class='ignore'>pixel</span><span class='ignore'>)</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span> <span class='exclcommand'>\textbf</span><span class='ignore'>{</span><span class='ignore'>Calculated</span> <span class='ignore'>Distance</span> <span class='ignore'>(</span><span class='ignore'>mm</span><span class='ignore'>)</span><span class='ignore'>}</span> <span class='ignore'>&amp;</span> <span class='exclcommand'>\textbf</span><span class='ignore'>{</span><span class='ignore'>Error</span> <span class='ignore'>(</span><span class='ignore'>\%</span><span class='ignore'>)</span><span class='ignore'>}</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\toprule</span><br>
<span class='ignore'>100</span> <span class='ignore'>&amp;</span> <span class='ignore'>290</span> <span class='ignore'>&amp;</span> <span class='ignore'>72</span> <span class='ignore'>&amp;</span> <span class='ignore'>28</span><span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>200</span> <span class='ignore'>&amp;</span> <span class='ignore'>152</span> <span class='ignore'>&amp;</span> <span class='ignore'>137</span> <span class='ignore'>&amp;</span> <span class='ignore'>32</span><span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>300</span> <span class='ignore'>&amp;</span> <span class='ignore'>109</span> <span class='ignore'>&amp;</span> <span class='ignore'>191</span> <span class='ignore'>&amp;</span> <span class='ignore'>36</span><span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>400</span> <span class='ignore'>&amp;</span> <span class='ignore'>88</span> <span class='ignore'>&amp;</span> <span class='ignore'>236</span> <span class='ignore'>&amp;</span> <span class='ignore'>41</span><span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>500</span> <span class='ignore'>&amp;</span> <span class='ignore'>75</span> <span class='ignore'>&amp;</span> <span class='ignore'>277</span> <span class='ignore'>&amp;</span> <span class='ignore'>45</span><span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>600</span> <span class='ignore'>&amp;</span> <span class='ignore'>67</span> <span class='ignore'>&amp;</span> <span class='ignore'>310</span> <span class='ignore'>&amp;</span> <span class='ignore'>48</span><span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>700</span> <span class='ignore'>&amp;</span> <span class='ignore'>61</span> <span class='ignore'>&amp;</span> <span class='ignore'>341</span> <span class='ignore'>&amp;</span> <span class='ignore'>51</span><span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>800</span> <span class='ignore'>&amp;</span> <span class='ignore'>57</span> <span class='ignore'>&amp;</span> <span class='ignore'>365</span> <span class='ignore'>&amp;</span> <span class='ignore'>54</span><span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>900</span> <span class='ignore'>&amp;</span> <span class='ignore'>53</span> <span class='ignore'>&amp;</span> <span class='ignore'>393</span> <span class='ignore'>&amp;</span> <span class='ignore'>56</span><span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>1000</span> <span class='ignore'>&amp;</span> <span class='ignore'>51</span> <span class='ignore'>&amp;</span> <span class='ignore'>408</span> <span class='ignore'>&amp;</span> <span class='ignore'>59</span><span class='exclcommand'>\\</span> <span class='exclcommand'>\bottomrule</span><br>
<span class='exclgroup'>\end</span><span class='exclgroup'>{tabular}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{table}</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='exclcommand'>\subfigure</span><span class='option'>[Left image]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='option'>[scale=0.4]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>Duck</span><span class='ignore'>_</span><span class='ignore'>L.jpg</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='exclcommand'>\subfigure</span><span class='option'>[Right image]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='option'>[scale=0.4]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>Duck</span><span class='ignore'>_</span><span class='ignore'>R.jpg</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Stereo</span> <span class='word3'>pair</span> <span class='word3'>of</span> <span class='word3'>images</span> <span class='word3'>of</span> <span class='word3'>a</span> <span class='word3'>rubber</span> <span class='word3'>duck</span> <span class='word3'>on</span> <span class='word3'>a</span> <span class='word3'>reel</span> <span class='word3'>of</span> <span class='word3'>solder</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>duck</span><span class='ignore'>:</span><span class='ignore'>stereo</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>NCC</span><span class='ignore'>_</span><span class='ignore'>Duck.eps</span><span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>NCC</span> <span class='word3'>results</span> <span class='word3'>from</span> <span class='word3'>matching</span> <span class='word3'>using</span> <span class='word3'>the</span> <span class='word3'>duck's</span> <span class='word3'>head</span> <span class='word3'>from</span> <span class='word3'>the</span> <span class='word3'>right</span> <span class='word3'>image</span> <span class='word3'>as</span> <span class='word3'>the</span> <span class='word3'>template</span> <span class='word3'>to</span> <span class='word3'>the</span> <span class='word3'>left</span> <span class='word3'>image</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>duck</span><span class='ignore'>:</span><span class='ignore'>ncc</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
<br>
<span class='command'>\subsection</span><span class='ignore'>{</span><span class='word2'>The</span> <span class='word2'>Effect</span> <span class='word2'>of</span> <span class='word2'>Resolution</span> <span class='word2'>and</span> <span class='word2'>Field</span> <span class='word2'>of</span> <span class='word2'>View</span><span class='ignore'>}</span><br>
<br>
<span class='word1'>By</span> <span class='word1'>simplifying</span> <span class='word1'>Equation</span> <span class='command'>\eqref</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>summary</span><span class='ignore'>:</span><span class='ignore'>1</span><span class='ignore'>}</span> <span class='word1'>to</span> <span class='command'>\eqref</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>range</span><span class='ignore'>:</span><span class='ignore'>simp</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>that</span> <span class='word1'>the</span> <span class='word1'>function</span> <span class='word1'>is</span> <span class='word1'>at</span> <span class='word1'>a</span> <span class='word1'>maximum</span> <span class='word1'>when</span> <span class='mathgroup'>$</span><span class='ignore'>\Delta</span><span class='ignore'>_</span><span class='ignore'>x</span> <span class='ignore'>=</span> <span class='ignore'>1</span><span class='mathgroup'>$</span> <span class='word1'>and</span> <span class='word1'>is</span> <span class='word1'>the</span> <span class='word1'>maximum</span> <span class='word1'>distance</span> <span class='word1'>able</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>calculated</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>maximum</span> <span class='word1'>error</span> <span class='word1'>is</span> <span class='word1'>found</span> <span class='word1'>using</span> <span class='word1'>Equation</span> <span class='command'>\eqref</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>range</span><span class='ignore'>:</span><span class='ignore'>maxerr</span><span class='ignore'>}</span> <span class='word1'>and</span> <span class='word1'>shows</span> <span class='word1'>that</span> <span class='word1'>the</span> <span class='word1'>error</span> <span class='word1'>increases</span> <span class='word1'>with</span> <span class='word1'>resolution</span><span class='ignore'>.</span> <br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{equation}</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>range</span><span class='ignore'>:</span><span class='ignore'>simp</span><span class='ignore'>}</span><br>
<span class='ignore'>D</span><span class='ignore'>(</span><span class='ignore'>\Delta</span><span class='ignore'>_</span><span class='ignore'>x</span><span class='ignore'>)</span> <span class='ignore'>=</span> <span class='exclcommand'>\frac</span><span class='ignore'>{</span><span class='ignore'>B.x</span><span class='ignore'>_</span><span class='ignore'>0</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>2</span><span class='exclcommand'>\tan</span> <span class='exclcommand'>\left</span><span class='ignore'>(</span><span class='exclcommand'>\frac</span><span class='ignore'>{</span><span class='exclcommand'>\varphi_</span><span class='ignore'>0</span><span class='ignore'>}</span><span class='ignore'>{2}</span><span class='exclcommand'>\right</span><span class='ignore'>)</span><span class='ignore'>.</span><span class='ignore'>\Delta</span><span class='ignore'>_</span><span class='ignore'>x</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{equation}</span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{equation}</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>range</span><span class='ignore'>:</span><span class='ignore'>maxerr</span><span class='ignore'>}</span><br>
<span class='ignore'>Err</span><span class='ignore'>_</span><span class='ignore'>{max}</span> <span class='ignore'>=</span> <span class='ignore'>D</span><span class='ignore'>(</span><span class='ignore'>1</span><span class='ignore'>)</span> <span class='ignore'>-</span> <span class='ignore'>D</span><span class='ignore'>(</span><span class='ignore'>2</span><span class='ignore'>)</span> <span class='ignore'>=</span> <span class='exclcommand'>\frac</span><span class='ignore'>{</span><span class='ignore'>B.x</span><span class='ignore'>_</span><span class='ignore'>0</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>2</span><span class='exclcommand'>\tan</span> <span class='exclcommand'>\left</span><span class='ignore'>(</span><span class='exclcommand'>\frac</span><span class='ignore'>{</span><span class='exclcommand'>\varphi_</span><span class='ignore'>0</span><span class='ignore'>}</span><span class='ignore'>{2}</span><span class='exclcommand'>\right</span><span class='ignore'>)</span><span class='ignore'>}</span> <span class='ignore'>-</span> <span class='exclcommand'>\frac</span><span class='ignore'>{</span><span class='ignore'>B.x</span><span class='ignore'>_</span><span class='ignore'>0</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>2</span><span class='exclcommand'>\tan</span> <span class='exclcommand'>\left</span><span class='ignore'>(</span><span class='exclcommand'>\frac</span><span class='ignore'>{</span><span class='exclcommand'>\varphi_</span><span class='ignore'>0</span><span class='ignore'>}</span><span class='ignore'>{2}</span><span class='exclcommand'>\right</span><span class='ignore'>)</span><span class='ignore'>.</span><span class='ignore'>2</span><span class='ignore'>}</span> <span class='ignore'>=</span> <span class='exclcommand'>\frac</span><span class='ignore'>{</span><span class='ignore'>B.x</span><span class='ignore'>_</span><span class='ignore'>0</span><span class='ignore'>}</span><span class='ignore'>{</span><span class='ignore'>4</span><span class='exclcommand'>\tan</span> <span class='exclcommand'>\left</span><span class='ignore'>(</span><span class='exclcommand'>\frac</span><span class='ignore'>{</span><span class='exclcommand'>\varphi_</span><span class='ignore'>0</span><span class='ignore'>}</span><span class='ignore'>{2}</span><span class='exclcommand'>\right</span><span class='ignore'>)</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{equation}</span><br>
<br>
<span class='word1'>This</span> <span class='word1'>is</span> <span class='word1'>because</span> <span class='word1'>as</span> <span class='mathgroup'>$</span><span class='ignore'>x</span><span class='ignore'>_</span><span class='ignore'>0</span><span class='mathgroup'>$</span> <span class='word1'>increases</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>range</span> <span class='word1'>of</span> <span class='mathgroup'>$</span><span class='ignore'>(</span><span class='ignore'>x</span><span class='ignore'>_</span><span class='ignore'>1</span> <span class='ignore'>-</span> <span class='ignore'>x</span><span class='ignore'>_</span><span class='ignore'>2</span><span class='ignore'>)</span><span class='mathgroup'>$</span> <span class='word1'>also</span> <span class='word1'>increases</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>minimum</span> <span class='word1'>detectable</span> <span class='word1'>distance</span><span class='ignore'>,</span> <span class='word1'>Equation</span> <span class='command'>\eqref</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>range</span><span class='ignore'>:</span><span class='ignore'>min</span><span class='ignore'>}</span><span class='ignore'>,</span> <span class='word1'>is</span> <span class='word1'>not</span> <span class='word1'>related</span> <span class='word1'>to</span> <span class='word1'>resolution</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>depends</span> <span class='word1'>on</span> <span class='mathgroup'>$</span><span class='ignore'>B</span><span class='mathgroup'>$</span> <span class='word1'>and</span> <span class='mathgroup'>$</span><span class='exclcommand'>\varphi_</span><span class='ignore'>0</span><span class='mathgroup'>$</span><span class='ignore'>.</span> <br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{equation}</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>range</span><span class='ignore'>:</span><span class='ignore'>min</span><span class='ignore'>}</span><br>
<span class='ignore'>D</span><span class='ignore'>(</span><span class='ignore'>x</span><span class='ignore'>_</span><span class='ignore'>0</span><span class='ignore'>)</span> <span class='ignore'>=</span> <span class='exclcommand'>\frac</span><span class='ignore'>{B}</span><span class='ignore'>{</span><span class='ignore'>2</span><span class='exclcommand'>\tan</span> <span class='exclcommand'>\left</span><span class='ignore'>(</span><span class='exclcommand'>\frac</span><span class='ignore'>{</span><span class='exclcommand'>\varphi_</span><span class='ignore'>0</span><span class='ignore'>}</span><span class='ignore'>{2}</span><span class='exclcommand'>\right</span><span class='ignore'>)</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{equation}</span><br>
<br>
<span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>MaxR</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>the</span> <span class='word1'>relationship</span> <span class='word1'>between</span> <span class='word1'>maximum</span> <span class='word1'>distance</span><span class='ignore'>,</span> <span class='mathgroup'>$</span><span class='ignore'>x</span><span class='ignore'>_</span><span class='ignore'>0</span><span class='mathgroup'>$</span> <span class='word1'>and</span> <span class='mathgroup'>$</span><span class='exclcommand'>\varphi_</span><span class='ignore'>0</span><span class='mathgroup'>$</span><span class='ignore'>.</span> <span class='word1'>By</span> <span class='word1'>increasing</span> <span class='word1'>the</span> <span class='word1'>horizontal</span> <span class='word1'>resolution</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>maximum</span> <span class='word1'>distance</span> <span class='word1'>increases</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>also</span> <span class='word1'>increases</span> <span class='word1'>the</span> <span class='word1'>error</span><span class='ignore'>.</span> <span class='word1'>Increasing</span> <span class='mathgroup'>$</span><span class='exclcommand'>\varphi_</span><span class='ignore'>0</span><span class='mathgroup'>$</span> <span class='word1'>will</span> <span class='word1'>lower</span> <span class='word1'>the</span> <span class='word1'>maximum</span> <span class='word1'>distance</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>the</span> <span class='word1'>error</span> <span class='word1'>will</span> <span class='word1'>decrease</span> <span class='word1'>and</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>DeltaxPhi0</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>compromise</span> <span class='word1'>must</span> <span class='word1'>be</span> <span class='word1'>made</span> <span class='word1'>between</span> <span class='word1'>maximum</span> <span class='word1'>distance</span> <span class='word1'>and</span> <span class='word1'>resolution</span><span class='ignore'>.</span> <br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>Distance</span><span class='ignore'>_</span><span class='ignore'>Phi0</span><span class='ignore'>_</span><span class='ignore'>X0.eps</span><span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>A</span> <span class='word3'>surface</span> <span class='word3'>plot</span> <span class='word3'>of</span> <span class='word3'>the</span> <span class='word3'>maximum</span> <span class='word3'>range</span> <span class='word3'>able</span> <span class='word3'>to</span> <span class='word3'>be</span> <span class='word3'>found</span> <span class='word3'>with</span> <span class='word3'>varying</span> <span class='mathgroup'>$</span><span class='exclcommand'>\varphi_</span><span class='ignore'>0</span><span class='mathgroup'>$</span> <span class='word3'>and</span> <span class='mathgroup'>$</span><span class='ignore'>x</span><span class='ignore'>_</span><span class='ignore'>0</span><span class='mathgroup'>$</span><span class='ignore'>.</span> <span class='mathgroup'>$</span><span class='ignore'>B</span><span class='ignore'>=</span><span class='ignore'>42mm</span><span class='mathgroup'>$</span><span class='ignore'>,</span> <span class='mathgroup'>$</span><span class='ignore'>\Delta</span><span class='ignore'>_</span><span class='ignore'>x</span> <span class='ignore'>=</span> <span class='ignore'>1</span><span class='mathgroup'>$</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>MaxR</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>DeltaXPhi0.eps</span><span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>A</span> <span class='word3'>surface</span> <span class='word3'>plot</span> <span class='word3'>of</span> <span class='word3'>the</span> <span class='word3'>range</span> <span class='word3'>of</span> <span class='word3'>distances</span> <span class='word3'>able</span> <span class='word3'>to</span> <span class='word3'>be</span> <span class='word3'>calculated</span> <span class='word3'>with</span> <span class='word3'>a</span> <span class='word3'>range</span> <span class='word3'>of</span> <span class='word3'>field</span> <span class='word3'>of</span> <span class='word3'>views</span><span class='ignore'>.</span> <span class='mathgroup'>$</span><span class='ignore'>B</span><span class='ignore'>=</span><span class='ignore'>42mm</span><span class='mathgroup'>$</span><span class='ignore'>,</span> <span class='mathgroup'>$</span><span class='ignore'>x</span><span class='ignore'>_</span><span class='ignore'>0</span> <span class='ignore'>=</span> <span class='ignore'>320</span><span class='mathgroup'>$</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>DeltaxPhi0</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
<span class='command'>\subsection</span><span class='word2'>{Conclusion}</span><br>
<br>
<span class='word1'>Extensive</span> <span class='word1'>testing</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>effect</span> <span class='word1'>of</span> <span class='word1'>separation</span> <span class='word1'>has</span> <span class='word1'>been</span> <span class='word1'>done</span> <span class='word1'>before</span> <span class='command'>\citep</span><span class='ignore'>{</span><span class='ignore'>Mrovlje</span><span class='ignore'>:</span><span class='ignore'>Distance</span><span class='ignore'>_</span><span class='ignore'>Stereoscopic</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>B</span><span class='ignore'>:</span><span class='ignore'>Plot</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>that</span> <span class='word1'>increasing</span> <span class='word1'>B</span> <span class='word1'>will</span> <span class='word1'>give</span> <span class='word1'>you</span> <span class='word1'>a</span> <span class='word1'>larger</span> <span class='word1'>range</span> <span class='word1'>of</span> <span class='word1'>detectable</span> <span class='word1'>distances</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>with</span> <span class='word1'>a</span> <span class='word1'>larger</span> <span class='word1'>maximum</span> <span class='word1'>error</span><span class='ignore'>.</span> <span class='word1'>Resolution</span> <span class='word1'>also</span> <span class='word1'>increases</span> <span class='word1'>the</span> <span class='word1'>error</span> <span class='word1'>and</span> <span class='word1'>maximum</span> <span class='word1'>detectable</span> <span class='word1'>distance</span><span class='ignore'>.</span> <span class='word1'>In</span> <span class='word1'>reality</span><span class='ignore'>,</span> <span class='word1'>cameras</span> <span class='word1'>have</span> <span class='word1'>not</span> <span class='word1'>increased</span> <span class='word1'>only</span> <span class='word1'>by</span> <span class='word1'>resolution</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>the</span> <span class='word1'>lens</span> <span class='word1'>have</span> <span class='word1'>become</span> <span class='word1'>wider</span> <span class='word1'>angled</span> <span class='word1'>as</span> <span class='word1'>well</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>In</span> <span class='word1'>order</span> <span class='word1'>to</span> <span class='word1'>improve</span> <span class='word1'>the</span> <span class='word1'>ability</span> <span class='word1'>of</span> <span class='word1'>these</span> <span class='word1'>cameras</span> <span class='word1'>for</span> <span class='word1'>range</span> <span class='word1'>finding</span><span class='ignore'>,</span> <span class='word1'>adding</span> <span class='word1'>a</span> <span class='word1'>wide</span> <span class='word1'>angle</span> <span class='word1'>lens</span> <span class='word1'>will</span> <span class='word1'>reduce</span> <span class='word1'>the</span> <span class='word1'>error</span> <span class='word1'>at</span> <span class='word1'>the</span> <span class='word1'>expense</span> <span class='word1'>of</span> <span class='word1'>reducing</span> <span class='word1'>the</span> <span class='word1'>maximum</span> <span class='word1'>range</span><span class='ignore'>.</span> <span class='word1'>Alternatively</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>robot</span> <span class='word1'>could</span> <span class='word1'>use</span> <span class='word1'>an</span> <span class='word1'>algorithm</span> <span class='word1'>to</span> <span class='word1'>view</span> <span class='word1'>the</span> <span class='word1'>object</span> <span class='word1'>at</span> <span class='word1'>different</span> <span class='word1'>perspectives</span> <span class='word1'>to</span> <span class='word1'>estimate</span> <span class='word1'>the</span> <span class='word1'>distance</span> <span class='word1'>to</span> <span class='word1'>it</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>The</span> <span class='word1'>robot</span> <span class='word1'>was</span> <span class='word1'>designed</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>small</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>cameras</span> <span class='word1'>were</span> <span class='word1'>chosen</span> <span class='word1'>as</span> <span class='word1'>a</span> <span class='word1'>cheap</span> <span class='word1'>alternative</span> <span class='word1'>to</span> <span class='word1'>more</span> <span class='word1'>expensive</span> <span class='word1'>products</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>market</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>test</span> <span class='word1'>results</span> <span class='word1'>show</span> <span class='word1'>that</span> <span class='word1'>by</span> <span class='word1'>using</span> <span class='word1'>cameras</span> <span class='word1'>as</span> <span class='word1'>described</span><span class='ignore'>,</span> <span class='word1'>ranges</span> <span class='word1'>cannot</span> <span class='word1'>accurately</span> <span class='word1'>be</span> <span class='word1'>measured</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>separation</span> <span class='word1'>of</span> <span class='word1'>objects</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>images</span> <span class='word1'>is</span> <span class='word1'>a</span> <span class='word1'>reciprocal</span> <span class='word1'>function</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>data</span> <span class='word1'>gathered</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>test</span> <span class='word1'>matches</span> <span class='word1'>this</span> <span class='word1'>characteristic</span><span class='ignore'>,</span> <span class='word1'>see</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>Distance</span><span class='ignore'>:</span><span class='ignore'>DeltaX</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>means</span> <span class='word1'>the</span> <span class='word1'>system</span> <span class='word1'>can</span> <span class='word1'>perceive</span> <span class='word1'>depth</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>separation</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>objects</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>not</span> <span class='word1'>accurately</span> <span class='word1'>calculate</span> <span class='word1'>the</span> <span class='word1'>distance</span><span class='ignore'>.</span> <br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>BPlot.eps</span><span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>3D</span> <span class='word3'>surface</span> <span class='word3'>plot</span> <span class='word3'>graph</span> <span class='word3'>showing</span> <span class='word3'>range</span> <span class='word3'>of</span> <span class='word3'>distances</span> <span class='word3'>that</span> <span class='word3'>can</span> <span class='word3'>be</span> <span class='word3'>calculated</span> <span class='word3'>over</span> <span class='word3'>a</span> <span class='word3'>range</span> <span class='word3'>of</span> <span class='word3'>camera</span> <span class='word3'>separation</span><span class='ignore'>,</span> <span class='word3'>B</span><span class='ignore'>,</span> <span class='word3'>values</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>B</span><span class='ignore'>:</span><span class='ignore'>Plot</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>Distance</span><span class='ignore'>_</span><span class='ignore'>DeltaX.eps</span><span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Graph</span> <span class='word3'>showing</span> <span class='word3'>distance</span> <span class='word3'>of</span> <span class='word3'>the</span> <span class='word3'>object</span> <span class='word3'>against</span> <span class='word3'>the</span> <span class='word3'>difference</span> <span class='word3'>in</span> <span class='word3'>the</span> <span class='word3'>match</span> <span class='word3'>locations</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>Distance</span><span class='ignore'>:</span><span class='ignore'>DeltaX</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<span class='command'>\section</span><span class='ignore'>{</span><span class='word2'>Fourier</span> <span class='word2'>Transform</span><span class='ignore'>}</span><br>
<span class='command'>\subsection</span><span class='ignore'>{</span><span class='word2'>Background</span> <span class='word2'>Research</span> <span class='word2'>and</span> <span class='word2'>the</span> <span class='word2'>FFT</span><span class='ignore'>}</span><br>
<span class='word1'>The</span> <span class='word1'>Fourier</span> <span class='word1'>transform</span> <span class='word1'>is</span> <span class='word1'>a</span> <span class='word1'>common</span> <span class='word1'>tool</span> <span class='word1'>in</span> <span class='word1'>signal</span> <span class='word1'>processing</span> <span class='word1'>used</span> <span class='word1'>for</span> <span class='word1'>filer</span> <span class='word1'>design</span><span class='ignore'>,</span> <span class='word1'>system</span> <span class='word1'>analysis</span> <span class='word1'>and</span> <span class='word1'>image</span> <span class='word1'>processing</span><span class='ignore'>,</span> <span class='word1'>as</span> <span class='word1'>well</span> <span class='word1'>as</span> <span class='word1'>other</span> <span class='word1'>applications</span><span class='ignore'>.</span> <span class='word1'>It</span> <span class='word1'>transforms</span> <span class='word1'>a</span> <span class='word1'>time-based</span> <span class='word1'>signal</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>frequency</span> <span class='word1'>domain</span><span class='ignore'>,</span> <span class='word1'>showing</span> <span class='word1'>the</span> <span class='word1'>frequency</span> <span class='word1'>components</span> <span class='word1'>contained</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>signal</span> <span class='word1'>as</span> <span class='word1'>a</span> <span class='word1'>complex</span> <span class='word1'>number</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>is</span> <span class='word1'>often</span> <span class='word1'>displayed</span> <span class='word1'>as</span> <span class='word1'>magnitude</span> <span class='word1'>and</span> <span class='word1'>phase</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>Fourier</span> <span class='word1'>transform</span> <span class='word1'>is</span> <span class='word1'>defined</span> <span class='word1'>in</span> <span class='word1'>Equation</span> <span class='command'>\eqref</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>fourier</span><span class='ignore'>}</span> <span class='word1'>and</span> <span class='word1'>two</span> <span class='word1'>examples</span> <span class='word1'>of</span> <span class='word1'>signals</span> <span class='word1'>and</span> <span class='word1'>their</span> <span class='word1'>Fourier</span> <span class='word1'>transforms</span> <span class='word1'>are</span> <span class='word1'>shown</span> <span class='word1'>in</span> <span class='word1'>Figures</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>DiracFunctionFT</span><span class='ignore'>}</span> <span class='word1'>and</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>SquareWaveFT</span><span class='ignore'>}</span><span class='ignore'>.</span> <br>
 <br>
<span class='grouping'>\begin</span><span class='grouping'>{equation}</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>fourier</span><span class='ignore'>}</span><br>
<span class='ignore'>X</span><span class='ignore'>(</span><span class='ignore'>f</span><span class='ignore'>)</span> <span class='ignore'>=</span> <span class='exclcommand'>\int</span><span class='exclcommand'>\limits_</span><span class='ignore'>{</span><span class='ignore'>-</span><span class='exclcommand'>\infty</span><span class='ignore'>}</span><span class='ignore'>^</span><span class='ignore'>{</span><span class='exclcommand'>\infty</span><span class='ignore'>}</span><span class='ignore'>x</span><span class='ignore'>(</span><span class='ignore'>t</span><span class='ignore'>)</span><span class='ignore'>e</span><span class='ignore'>^</span><span class='ignore'>{</span><span class='ignore'>-</span><span class='exclcommand'>\jmath</span> <span class='ignore'>2</span> <span class='ignore'>\pi ft</span><span class='ignore'>}</span><span class='ignore'>dt</span><br>
<span class='grouping'>\end</span><span class='grouping'>{equation}</span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='exclcommand'>\subfigure</span><span class='ignore'>[</span><span class='ignore'>A</span> <span class='ignore'>graph</span> <span class='ignore'>showing</span> <span class='ignore'>a</span> <span class='ignore'>Dirac</span> <span class='ignore'>function</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Dirac</span><span class='ignore'>:</span><span class='ignore'>Signal</span><span class='ignore'>}</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>,</span> <span class='ignore'>keepaspectratio</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>Dirac</span><span class='ignore'>_</span><span class='ignore'>1D</span><span class='ignore'>_</span><span class='ignore'>Sig.eps</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='exclcommand'>\subfigure</span><span class='ignore'>[</span><span class='ignore'>A</span> <span class='ignore'>graph</span> <span class='ignore'>showing</span> <span class='ignore'>the</span> <span class='ignore'>magnitude</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>Fourier</span> <span class='ignore'>transform</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>Dirac</span> <span class='ignore'>function</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Dirac</span><span class='ignore'>:</span><span class='ignore'>Mag</span><span class='ignore'>}</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>,</span> <span class='ignore'>keepaspectratio</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>Dirac</span><span class='ignore'>_</span><span class='ignore'>1D</span><span class='ignore'>_</span><span class='ignore'>Mag.eps</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='exclcommand'>\subfigure</span><span class='ignore'>[</span><span class='ignore'>A</span> <span class='ignore'>graph</span> <span class='ignore'>showing</span> <span class='ignore'>the</span> <span class='ignore'>phase</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>Fourier</span> <span class='ignore'>transform</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>Dirac</span> <span class='ignore'>function</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Dirac</span><span class='ignore'>:</span><span class='ignore'>Phase</span><span class='ignore'>}</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>,</span> <span class='ignore'>keepaspectratio</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>Dirac</span><span class='ignore'>_</span><span class='ignore'>1D</span><span class='ignore'>_</span><span class='ignore'>Phase.eps</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>A</span> <span class='word3'>Dirac</span> <span class='word3'>function</span><span class='ignore'>,</span> <span class='word3'>and</span> <span class='word3'>the</span> <span class='word3'>phase</span> <span class='word3'>and</span> <span class='word3'>magnitude</span> <span class='word3'>of</span> <span class='word3'>its</span> <span class='word3'>Fourier</span> <span class='word3'>transform</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>DiracFunctionFT</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='exclcommand'>\subfigure</span><span class='ignore'>[</span><span class='ignore'>A</span> <span class='ignore'>graph</span> <span class='ignore'>showing</span> <span class='ignore'>rectangular</span> <span class='ignore'>pulse</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Square</span><span class='ignore'>:</span><span class='ignore'>Signal</span><span class='ignore'>}</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>,</span> <span class='ignore'>keepaspectratio</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>Square</span><span class='ignore'>_</span><span class='ignore'>1D</span><span class='ignore'>_</span><span class='ignore'>Sig.eps</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='exclcommand'>\subfigure</span><span class='ignore'>[</span><span class='ignore'>A</span> <span class='ignore'>graph</span> <span class='ignore'>showing</span> <span class='ignore'>the</span> <span class='ignore'>magnitude</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>Fourier</span> <span class='ignore'>transform</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>rectangular</span> <span class='ignore'>pulse</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Square</span><span class='ignore'>:</span><span class='ignore'>Mag</span><span class='ignore'>}</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>,</span> <span class='ignore'>keepaspectratio</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>Square</span><span class='ignore'>_</span><span class='ignore'>1D</span><span class='ignore'>_</span><span class='ignore'>Mag.eps</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='exclcommand'>\subfigure</span><span class='ignore'>[</span><span class='ignore'>A</span> <span class='ignore'>graph</span> <span class='ignore'>showing</span> <span class='ignore'>the</span> <span class='ignore'>phase</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>Fourier</span> <span class='ignore'>transform</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>rectangular</span> <span class='ignore'>pulse</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Square</span><span class='ignore'>:</span><span class='ignore'>Phase</span><span class='ignore'>}</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>,</span> <span class='ignore'>keepaspectratio</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>Square</span><span class='ignore'>_</span><span class='ignore'>1D</span><span class='ignore'>_</span><span class='ignore'>Phase.eps</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>A</span> <span class='word3'>rectangular</span> <span class='word3'>pulse</span><span class='ignore'>,</span> <span class='word3'>and</span> <span class='word3'>the</span> <span class='word3'>phase</span> <span class='word3'>and</span> <span class='word3'>magnitude</span> <span class='word3'>of</span> <span class='word3'>its</span> <span class='word3'>Fourier</span> <span class='word3'>transform</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>SquareWaveFT</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
<span class='word1'>The</span> <span class='word1'>equation</span> <span class='word1'>for</span> <span class='word1'>the</span> <span class='word1'>Fourier</span> <span class='word1'>transform</span> <span class='word1'>in</span> <span class='word1'>Equation</span> <span class='command'>\eqref</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>fourier</span><span class='ignore'>}</span> <span class='word1'>is</span> <span class='word1'>for</span> <span class='word1'>continuous</span> <span class='word1'>time</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>discrete</span> <span class='word1'>Fourier</span> <span class='word1'>transform</span> <span class='ignore'>(</span><span class='word1'>DFT</span><span class='ignore'>)</span> <span class='word1'>exists</span> <span class='word1'>for</span> <span class='word1'>finite</span><span class='ignore'>,</span> <span class='word1'>equally</span> <span class='word1'>spaced</span> <span class='word1'>samples</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>is</span> <span class='word1'>commonly</span> <span class='word1'>used</span> <span class='word1'>in</span> <span class='word1'>digital</span> <span class='word1'>systems</span> <span class='word1'>and</span> <span class='word1'>is</span> <span class='word1'>defined</span> <span class='word1'>in</span> <span class='word1'>Equation</span> <span class='command'>\eqref</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>DFT</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>There</span> <span class='word1'>exists</span> <span class='word1'>a</span> <span class='word1'>Fast</span> <span class='word1'>Fourier</span> <span class='word1'>transform</span> <span class='ignore'>(</span><span class='word1'>FFT</span><span class='ignore'>)</span> <span class='word1'>which</span> <span class='word1'>gives</span> <span class='word1'>exactly</span> <span class='word1'>the</span> <span class='word1'>same</span> <span class='word1'>results</span> <span class='word1'>as</span> <span class='word1'>the</span> <span class='word1'>DFT</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>is</span> <span class='word1'>optimised</span> <span class='word1'>in</span> <span class='word1'>terms</span> <span class='word1'>of</span> <span class='word1'>number</span> <span class='word1'>of</span> <span class='word1'>multiplications</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>FFT</span> <span class='word1'>is</span> <span class='word1'>most</span> <span class='word1'>suitable</span> <span class='word1'>for</span> <span class='word1'>use</span> <span class='word1'>on</span> <span class='word1'>microcontrollers</span> <span class='word1'>due</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>speed</span> <span class='word1'>of</span> <span class='word1'>calculation</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>availability</span> <span class='word1'>of</span> <span class='word1'>code</span> <span class='word1'>extracts</span><span class='ignore'>.</span> <span class='comment'>%The FFT will be used in implementation due to availability of code and speed of use. </span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{equation}</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>DFT</span><span class='ignore'>}</span><br>
<span class='ignore'>X</span><span class='ignore'>[</span><span class='ignore'>k</span><span class='ignore'>]</span> <span class='ignore'>=</span> <span class='exclcommand'>\sum</span><span class='exclcommand'>\limits_</span><span class='ignore'>{0}</span><span class='ignore'>^</span><span class='ignore'>{</span><span class='ignore'>N-1</span><span class='ignore'>}</span><span class='ignore'>x</span><span class='ignore'>[</span><span class='ignore'>n</span><span class='ignore'>]</span><span class='ignore'>e</span><span class='ignore'>^</span><span class='ignore'>{</span><span class='ignore'>-</span><span class='exclcommand'>\jmath</span> <span class='ignore'>\Omega</span><span class='ignore'>_</span><span class='ignore'>0</span> <span class='ignore'>kn</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{equation}</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{center}</span><br>
<span class='word1'>Where</span> <span class='mathgroup'>$</span><span class='ignore'>\Omega</span><span class='ignore'>_</span><span class='ignore'>0</span><span class='mathgroup'>$</span> <span class='word1'>is</span> <span class='word1'>the</span> <span class='word1'>sample</span> <span class='word1'>frequency</span><br>
<span class='grouping'>\end</span><span class='grouping'>{center}</span><br>
<br>
<span class='word1'>A</span> <span class='word1'>property</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>Fourier</span> <span class='word1'>transform</span> <span class='word1'>which</span> <span class='word1'>is</span> <span class='word1'>of</span> <span class='word1'>interest</span> <span class='word1'>is</span> <span class='word1'>the</span> <span class='word1'>convolution</span> <span class='word1'>theorem</span> <span class='word1'>which</span> <span class='word1'>states</span> <span class='word1'>that</span> <span class='word1'>convolution</span> <span class='word1'>in</span> <span class='word1'>time</span> <span class='word1'>is</span> <span class='word1'>multiplication</span> <span class='word1'>in</span> <span class='word1'>frequency</span> <span class='word1'>and</span> <span class='word1'>is</span> <span class='word1'>defined</span> <span class='word1'>mathematically</span> <span class='word1'>in</span> <span class='word1'>Equation</span> <span class='command'>\eqref</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>ConvolutionMultiplication</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>Cross</span> <span class='word1'>correlation</span> <span class='word1'>is</span> <span class='word1'>defined</span> <span class='word1'>in</span> <span class='word1'>Equation</span> <span class='command'>\eqref</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>CrossCorrelation</span><span class='ignore'>}</span> <span class='word1'>and</span> <span class='word1'>related</span> <span class='word1'>to</span> <span class='word1'>convolution</span> <span class='word1'>by</span> <span class='word1'>Equation</span> <span class='command'>\eqref</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>CrossCorrelation</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>With</span> <span class='word1'>images</span><span class='ignore'>,</span> <span class='mathgroup'>$</span><span class='ignore'>f</span><span class='ignore'>(</span><span class='ignore'>t</span><span class='ignore'>)</span><span class='mathgroup'>$</span> <span class='word1'>is</span> <span class='word1'>a</span> <span class='word1'>real</span> <span class='word1'>signal</span><span class='ignore'>,</span> <span class='word1'>its</span> <span class='word1'>conjugate</span> <span class='word1'>is</span> <span class='word1'>exactly</span> <span class='word1'>the</span> <span class='word1'>same</span><span class='ignore'>,</span> <span class='mathgroup'>$</span><span class='ignore'>f</span><span class='ignore'>(</span><span class='ignore'>t</span><span class='ignore'>)</span> <span class='exclcommand'>\equiv</span> <span class='ignore'>f</span><span class='ignore'>^</span><span class='ignore'>*</span><span class='ignore'>(</span><span class='ignore'>t</span><span class='ignore'>)</span><span class='mathgroup'>$</span><span class='ignore'>,</span> <span class='word1'>given</span> <span class='word1'>that</span> <span class='mathgroup'>$</span><span class='ignore'>f</span><span class='ignore'>(</span><span class='ignore'>t</span><span class='ignore'>)</span> <span class='exclcommand'>\in</span> <span class='exclcommand'>\Re</span><span class='mathgroup'>$</span><span class='ignore'>.</span> <span class='word1'>Fourier</span> <span class='word1'>transforms</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>used</span> <span class='word1'>to</span> <span class='word1'>calculate</span> <span class='word1'>cross</span> <span class='word1'>correlation</span> <span class='word1'>more</span> <span class='word1'>efficiently</span><span class='ignore'>,</span> <span class='word1'>by</span> <span class='word1'>multiplying</span> <span class='word1'>the</span> <span class='word1'>Fourier</span> <span class='word1'>transform</span> <span class='word1'>of</span> <span class='word1'>an</span> <span class='word1'>image</span> <span class='word1'>by</span> <span class='word1'>the</span> <span class='word1'>reversed</span> <span class='word1'>template</span><span class='ignore'>.</span><span class='comment'>% This means that to compute a cross correlation, the Fourier transform of the image and the reversed template can be used and multiplied together. </span><br>
<br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{equation}</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>ConvolutionMultiplication</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\int</span><span class='exclcommand'>\limits_</span><span class='ignore'>{</span><span class='ignore'>-</span><span class='exclcommand'>\infty</span><span class='ignore'>}</span><span class='ignore'>^</span><span class='ignore'>{</span><span class='exclcommand'>\infty</span><span class='ignore'>}</span><span class='ignore'>f</span><span class='ignore'>(</span><span class='ignore'>\tau</span><span class='ignore'>)</span><span class='ignore'>g</span><span class='ignore'>(</span><span class='ignore'>t-\tau</span><span class='ignore'>)</span><span class='ignore'>d\tau </span><span class='ignore'>=</span> <span class='ignore'>f</span><span class='ignore'>(</span><span class='ignore'>t</span><span class='ignore'>)</span> <span class='exclcommand'>\ast</span> <span class='ignore'>g</span><span class='ignore'>(</span><span class='ignore'>t</span><span class='ignore'>)</span> <span class='ignore'>=</span> <span class='ignore'>X</span><span class='ignore'>(</span><span class='ignore'>f</span><span class='ignore'>)</span><span class='exclcommand'>\cdot</span> <span class='ignore'>Y</span><span class='ignore'>(</span><span class='ignore'>f</span><span class='ignore'>)</span><br>
<span class='grouping'>\end</span><span class='grouping'>{equation}</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{equation}</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>CrossCorrelation</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\int</span><span class='exclcommand'>\limits_</span><span class='ignore'>{</span><span class='ignore'>-</span><span class='exclcommand'>\infty</span><span class='ignore'>}</span><span class='ignore'>^</span><span class='ignore'>{</span><span class='exclcommand'>\infty</span><span class='ignore'>}</span><span class='ignore'>f</span><span class='ignore'>^</span><span class='ignore'>*</span><span class='ignore'>(</span><span class='ignore'>\tau</span><span class='ignore'>)</span><span class='ignore'>g</span><span class='ignore'>(</span><span class='ignore'>t</span><span class='ignore'>+</span><span class='ignore'>\tau</span><span class='ignore'>)</span><span class='ignore'>d\tau </span><span class='ignore'>=</span> <span class='ignore'>f</span><span class='ignore'>(</span><span class='ignore'>t</span><span class='ignore'>)</span> <span class='exclcommand'>\star</span> <span class='ignore'>g</span><span class='ignore'>(</span><span class='ignore'>t</span><span class='ignore'>)</span> <span class='ignore'>=</span> <span class='ignore'>f</span><span class='ignore'>'</span><span class='ignore'>(</span><span class='ignore'>-</span><span class='ignore'>t</span><span class='ignore'>)</span> <span class='exclcommand'>\ast</span> <span class='ignore'>g</span><span class='ignore'>(</span><span class='ignore'>t</span><span class='ignore'>)</span> <span class='ignore'>=</span> <span class='ignore'>X</span><span class='ignore'>(</span><span class='ignore'>-</span><span class='ignore'>f</span><span class='ignore'>)</span><span class='exclcommand'>\cdot</span> <span class='ignore'>Y</span><span class='ignore'>(</span><span class='ignore'>f</span><span class='ignore'>)</span><br>
<span class='grouping'>\end</span><span class='grouping'>{equation}</span><br>
<br>
<span class='comment'>%\begin{equation}\label{eq:CCtoConv}</span><br>
<span class='comment'>%f(t) \star g(t) = f(t) \ast g(-t) = F(f) \cdot G(-f)</span><br>
<span class='comment'>%\end{equation}</span><br>
<br>
<span class='comment'>%\inote{example of convolution used as correlation. Include some pretty graphs}</span><br>
<span class='command'>\subsection</span><span class='ignore'>{</span><span class='word2'>Two</span> <span class='word2'>Dimensional</span> <span class='word2'>Fast</span> <span class='word2'>Fourier</span> <span class='word2'>Transform</span><span class='ignore'>}</span><br>
<span class='word1'>A</span> <span class='word1'>two</span> <span class='word1'>dimensional</span> <span class='ignore'>(</span><span class='word1'>2D</span><span class='ignore'>)</span> <span class='word1'>Fourier</span> <span class='word1'>transform</span> <span class='word1'>exists</span> <span class='word1'>for</span> <span class='word1'>analysing</span> <span class='word1'>2D</span> <span class='word1'>signals</span><span class='ignore'>,</span> <span class='word1'>such</span> <span class='word1'>as</span> <span class='word1'>an</span> <span class='word1'>image</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>Fourier</span> <span class='word1'>Transform</span> <span class='word1'>is</span> <span class='word1'>shown</span> <span class='word1'>in</span> <span class='word1'>Equation</span> <span class='command'>\eqref</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>2dFT</span><span class='ignore'>}</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>discrete</span> <span class='word1'>version</span> <span class='word1'>is</span> <span class='word1'>shown</span> <span class='word1'>in</span> <span class='word1'>Equation</span> <span class='command'>\eqref</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>2dDFT</span><span class='ignore'>}</span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{equation}</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>2dFT</span><span class='ignore'>}</span><br>
<span class='ignore'>F</span><span class='ignore'>(</span><span class='ignore'>u</span><span class='ignore'>,</span><span class='ignore'>v</span><span class='ignore'>)</span> <span class='ignore'>=</span> <span class='exclcommand'>\frac</span><span class='ignore'>{1}{2\pi}</span><span class='exclcommand'>\int</span><span class='exclcommand'>\limits_</span><span class='ignore'>{</span><span class='ignore'>-</span><span class='exclcommand'>\infty</span><span class='ignore'>}</span><span class='ignore'>^</span><span class='ignore'>{</span><span class='exclcommand'>\infty</span><span class='ignore'>}</span><span class='exclcommand'>\int</span><span class='exclcommand'>\limits_</span><span class='ignore'>{</span><span class='ignore'>-</span><span class='exclcommand'>\infty</span><span class='ignore'>}</span><span class='ignore'>^</span><span class='ignore'>{</span><span class='exclcommand'>\infty</span><span class='ignore'>}</span><span class='ignore'>f</span><span class='ignore'>(</span><span class='ignore'>x</span><span class='ignore'>,</span><span class='ignore'>y</span><span class='ignore'>)</span><span class='ignore'>e</span><span class='ignore'>^</span><span class='ignore'>{</span><span class='ignore'>-</span><span class='ignore'>2\pi</span><span class='exclcommand'>\jmath</span> <span class='ignore'>(</span><span class='ignore'>xu</span><span class='ignore'>+</span><span class='ignore'>yv</span><span class='ignore'>)</span><span class='ignore'>}</span><span class='ignore'>dxdy</span><br>
<span class='grouping'>\end</span><span class='grouping'>{equation}</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{equation}</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>eq</span><span class='ignore'>:</span><span class='ignore'>2dDFT</span><span class='ignore'>}</span><br>
<span class='ignore'>F</span><span class='ignore'>(</span><span class='ignore'>u</span><span class='ignore'>,</span><span class='ignore'>v</span><span class='ignore'>)</span> <span class='ignore'>=</span> <span class='exclcommand'>\frac</span><span class='ignore'>{1}{N}</span> <span class='exclcommand'>\sum</span><span class='exclcommand'>\limits_</span><span class='ignore'>{</span><span class='ignore'>x</span><span class='ignore'>=</span><span class='ignore'>0</span><span class='ignore'>}</span><span class='ignore'>^</span><span class='ignore'>{</span><span class='ignore'>N-1</span><span class='ignore'>}</span><span class='exclcommand'>\sum</span><span class='exclcommand'>\limits_</span><span class='ignore'>{</span><span class='ignore'>y</span><span class='ignore'>=</span><span class='ignore'>0</span><span class='ignore'>}</span><span class='ignore'>^</span><span class='ignore'>{</span><span class='ignore'>N-1</span><span class='ignore'>}</span><span class='ignore'>f</span><span class='ignore'>(</span><span class='ignore'>x</span><span class='ignore'>,</span><span class='ignore'>y</span><span class='ignore'>)</span><span class='ignore'>e</span><span class='ignore'>^</span><span class='ignore'>{</span><span class='ignore'>-</span><span class='exclcommand'>\frac</span><span class='ignore'>{</span><span class='ignore'>2\pi</span><span class='exclcommand'>\jmath</span> <span class='ignore'>(</span><span class='ignore'>xu</span><span class='ignore'>+</span><span class='ignore'>yv</span><span class='ignore'>)</span><span class='ignore'>}</span><span class='ignore'>{N}</span><span class='ignore'>}</span> <span class='exclcommand'>\;</span> <span class='exclcommand'>\;</span> <span class='exclcommand'>\;</span> <span class='exclcommand'>\;</span> <span class='exclcommand'>\;</span> <span class='ignore'>x</span><span class='ignore'>,</span><span class='ignore'>y</span><span class='ignore'>,</span><span class='ignore'>u</span><span class='ignore'>,</span><span class='ignore'>v</span> <span class='exclcommand'>\in</span> <span class='exclcommand'>\left</span><span class='exclcommand'>\lbrace</span> <span class='ignore'>0</span><span class='exclcommand'>\dots</span> <span class='ignore'>N-1</span><span class='exclcommand'>\right</span><span class='exclcommand'>\rbrace</span><br>
<span class='grouping'>\end</span><span class='grouping'>{equation}</span><br>
<br>
<span class='word1'>Figures</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>2DDiracFunctionFT</span><span class='ignore'>}</span> <span class='word1'>and</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>2DSquareWaveFT</span><span class='ignore'>}</span> <span class='word1'>show</span> <span class='word1'>the</span> <span class='word1'>2D</span> <span class='word1'>equivalent</span> <span class='word1'>test</span> <span class='word1'>signals</span> <span class='word1'>of</span> <span class='word1'>Figures</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Dirac</span><span class='ignore'>:</span><span class='ignore'>Signal</span><span class='ignore'>}</span> <span class='word1'>and</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Square</span><span class='ignore'>:</span><span class='ignore'>Signal</span><span class='ignore'>}</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>phase</span> <span class='word1'>and</span> <span class='word1'>magnitudes</span> <span class='word1'>of</span> <span class='word1'>their</span> <span class='word1'>Fourier</span> <span class='word1'>Transforms</span><span class='ignore'>.</span> <span class='word1'>There</span> <span class='word1'>is</span> <span class='word1'>a</span> <span class='word1'>direct</span> <span class='word1'>similarity</span> <span class='word1'>between</span> <span class='word1'>the</span> <span class='word1'>1D</span> <span class='word1'>and</span> <span class='word1'>2D</span> <span class='word1'>spectra</span><span class='ignore'>;</span> <span class='word1'>the</span> <span class='word1'>magnitudes</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>Dirac</span> <span class='ignore'>(</span><span class='word1'>Figures</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Dirac</span><span class='ignore'>:</span><span class='ignore'>Mag</span><span class='ignore'>}</span> <span class='word1'>and</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Dirac2D</span><span class='ignore'>:</span><span class='ignore'>Mag</span><span class='ignore'>}</span><span class='ignore'>)</span> <span class='word1'>are</span> <span class='word1'>both</span> <span class='word1'>constant</span> <span class='word1'>values</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>rectangular</span> <span class='word1'>pulses</span> <span class='word1'>both</span> <span class='word1'>have</span> <span class='word1'>a</span> <span class='word1'>modulus</span> <span class='word1'>sinc</span> <span class='word1'>function</span> <span class='word1'>magnitude</span> <span class='ignore'>(</span><span class='word1'>Figures</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Square</span><span class='ignore'>:</span><span class='ignore'>Signal</span><span class='ignore'>}</span> <span class='word1'>and</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Square2D</span><span class='ignore'>:</span><span class='ignore'>Signal</span><span class='ignore'>}</span><span class='ignore'>)</span><span class='ignore'>.</span> <br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='exclcommand'>\subfigure</span><span class='ignore'>[</span><span class='ignore'>An</span> <span class='ignore'>image</span> <span class='ignore'>of</span> <span class='ignore'>a</span> <span class='ignore'>2D</span> <span class='ignore'>Dirac</span> <span class='ignore'>function</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Dirac2D</span><span class='ignore'>:</span><span class='ignore'>Signal</span><span class='ignore'>}</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='option'>[width=10cm, keepaspectratio]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>Dirac</span><span class='ignore'>_</span><span class='ignore'>2D</span><span class='ignore'>_</span><span class='ignore'>Sig.jpg</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='exclcommand'>\subfigure</span><span class='ignore'>[</span><span class='ignore'>An</span> <span class='ignore'>image</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>magnitude</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>Fourier</span> <span class='ignore'>transform</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>2D</span> <span class='ignore'>Dirac</span> <span class='ignore'>function</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Dirac2D</span><span class='ignore'>:</span><span class='ignore'>Mag</span><span class='ignore'>}</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='exclcommand'>\fbox</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='ignore'>(</span><span class='exclcommand'>\textwidth</span> <span class='ignore'>/</span> <span class='ignore'>2</span><span class='ignore'>)</span><span class='ignore'>-</span><span class='ignore'>1cm</span><span class='ignore'>,</span> <span class='ignore'>keepaspectratio</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>Dirac</span><span class='ignore'>_</span><span class='ignore'>2D</span><span class='ignore'>_</span><span class='ignore'>Mag.jpg</span><span class='ignore'>}</span> <span class='ignore'>}</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\subfigure</span><span class='ignore'>[</span><span class='ignore'>An</span> <span class='ignore'>image</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>phase</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>Fourier</span> <span class='ignore'>transform</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>2D</span> <span class='ignore'>Dirac</span> <span class='ignore'>function</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Dirac2D</span><span class='ignore'>:</span><span class='ignore'>Phase</span><span class='ignore'>}</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span> <span class='ignore'>=</span><span class='ignore'>(</span><span class='exclcommand'>\textwidth</span> <span class='ignore'>/</span> <span class='ignore'>2</span><span class='ignore'>)</span><span class='ignore'>-</span><span class='ignore'>1cm</span><span class='ignore'>,</span> <span class='ignore'>keepaspectratio</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>Dirac</span><span class='ignore'>_</span><span class='ignore'>2D</span><span class='ignore'>_</span><span class='ignore'>Phase.jpg</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>A</span> <span class='word3'>2D</span> <span class='word3'>Dirac</span> <span class='word3'>signal</span><span class='ignore'>,</span> <span class='word3'>and</span> <span class='word3'>the</span> <span class='word3'>phase</span> <span class='word3'>and</span> <span class='word3'>magnitude</span> <span class='word3'>of</span> <span class='word3'>its</span> <span class='word3'>Fourier</span> <span class='word3'>transform</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>2DDiracFunctionFT</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='exclcommand'>\subfigure</span><span class='ignore'>[</span><span class='ignore'>An</span> <span class='ignore'>image</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>2D</span> <span class='ignore'>rectangular</span> <span class='ignore'>pulse</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Square2D</span><span class='ignore'>:</span><span class='ignore'>Signal</span><span class='ignore'>}</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='option'>[width =10cm, keepaspectratio]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>Square</span><span class='ignore'>_</span><span class='ignore'>2D</span><span class='ignore'>_</span><span class='ignore'>Sig.jpg</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='exclcommand'>\subfigure</span><span class='ignore'>[</span><span class='ignore'>An</span> <span class='ignore'>image</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>magnitude</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>Fourier</span> <span class='ignore'>transform</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>2D</span> <span class='ignore'>rectangular</span> <span class='ignore'>pulse</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Square2D</span><span class='ignore'>:</span><span class='ignore'>Mag</span><span class='ignore'>}</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span> <span class='ignore'>=</span><span class='ignore'>(</span><span class='exclcommand'>\textwidth</span> <span class='ignore'>/</span> <span class='ignore'>2</span><span class='ignore'>)</span><span class='ignore'>-</span><span class='ignore'>1cm</span><span class='ignore'>,</span> <span class='ignore'>keepaspectratio</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>Square</span><span class='ignore'>_</span><span class='ignore'>2D</span><span class='ignore'>_</span><span class='ignore'>Abs.jpg</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='exclcommand'>\subfigure</span><span class='ignore'>[</span><span class='ignore'>An</span> <span class='ignore'>image</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>phase</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>Fourier</span> <span class='ignore'>transform</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>2D</span> <span class='ignore'>rectangular</span> <span class='ignore'>pulse</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Square2D</span><span class='ignore'>:</span><span class='ignore'>Phase</span><span class='ignore'>}</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span> <span class='ignore'>=</span><span class='ignore'>(</span><span class='exclcommand'>\textwidth</span> <span class='ignore'>/</span> <span class='ignore'>2</span><span class='ignore'>)</span><span class='ignore'>-</span><span class='ignore'>1cm</span><span class='ignore'>,</span> <span class='ignore'>keepaspectratio</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>Square</span><span class='ignore'>_</span><span class='ignore'>2D</span><span class='ignore'>_</span><span class='ignore'>Phase.jpg</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>A</span> <span class='word3'>2D</span> <span class='word3'>rectangular</span> <span class='word3'>pulse</span> <span class='word3'>signal</span><span class='ignore'>,</span> <span class='word3'>and</span> <span class='word3'>the</span> <span class='word3'>phase</span> <span class='word3'>and</span> <span class='word3'>magnitude</span> <span class='word3'>of</span> <span class='word3'>its</span> <span class='word3'>Fourier</span> <span class='word3'>transform</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>2DSquareWaveFT</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
<span class='word1'>The</span> <span class='word1'>2D</span> <span class='word1'>Fourier</span> <span class='word1'>transform</span> <span class='word1'>can</span> <span class='word1'>also</span> <span class='word1'>be</span> <span class='word1'>optimised</span> <span class='word1'>to</span> <span class='word1'>a</span> <span class='word1'>FFT</span> <span class='word1'>algorithm</span> <span class='word1'>in</span> <span class='word1'>a</span> <span class='word1'>similar</span> <span class='word1'>way</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>1D</span> <span class='word1'>case</span><span class='ignore'>.</span> <span class='word1'>However</span><span class='ignore'>,</span> <span class='word1'>this</span> <span class='word1'>algorithm</span><span class='ignore'>,</span> <span class='word1'>sometimes</span> <span class='word1'>referred</span> <span class='word1'>to</span> <span class='word1'>as</span> <span class='word1'>the</span> <span class='word1'>Butterfly</span> <span class='word1'>transform</span><span class='ignore'>,</span> <span class='word1'>can</span> <span class='word1'>only</span> <span class='word1'>be</span> <span class='word1'>applied</span> <span class='word1'>to</span> <span class='word1'>images</span> <span class='word1'>with</span> <span class='word1'>equal</span> <span class='word1'>dimensions</span> <span class='word1'>that</span> <span class='word1'>are</span> <span class='word1'>a</span> <span class='word1'>power</span> <span class='word1'>of</span> <span class='word1'>2</span><span class='ignore'>,</span> <span class='word1'>without</span> <span class='word1'>extra</span> <span class='word1'>effort</span> <span class='command'>\citep</span><span class='ignore'>{nixon2012feature}</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>algorithm</span> <span class='word1'>utilises</span> <span class='word1'>the</span> <span class='word1'>separability</span> <span class='word1'>property</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>Fourier</span> <span class='word1'>transform</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>The</span> <span class='word1'>2D</span> <span class='word1'>FFT</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>implemented</span> <span class='word1'>using</span> <span class='word1'>a</span> <span class='word1'>1D</span> <span class='word1'>FFT</span> <span class='word1'>as</span> <span class='word1'>follows</span><span class='ignore'>:</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{enumerate}</span><br>
<span class='command'>\item</span> <span class='word1'>Calculate</span> <span class='word1'>the</span> <span class='word1'>1D</span> <span class='word1'>FFT</span> <span class='word1'>of</span> <span class='word1'>each</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>rows</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>2D</span> <span class='word1'>data</span><span class='ignore'>.</span> <span class='ignore'>(</span><span class='word1'>An</span> <span class='word1'>FFT</span> <span class='word1'>of</span> <span class='word1'>data</span> <span class='word1'>of</span> <span class='word1'>length</span> <span class='mathgroup'>$</span><span class='ignore'>n</span><span class='mathgroup'>$</span> <span class='word1'>returns</span> <span class='word1'>an</span> <span class='word1'>array</span><span class='ignore'>,</span> <span class='word1'>also</span> <span class='word1'>of</span> <span class='word1'>length</span> <span class='mathgroup'>$</span><span class='ignore'>n</span><span class='mathgroup'>$</span><span class='ignore'>)</span><br>
<span class='command'>\item</span> <span class='word1'>Calculate</span> <span class='word1'>the</span> <span class='word1'>1D</span> <span class='word1'>FFT</span> <span class='word1'>of</span> <span class='word1'>each</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>columns</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>2D</span> <span class='word1'>data</span> <span class='word1'>returned</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>previous</span> <span class='word1'>step</span><span class='ignore'>.</span><br>
<span class='grouping'>\end</span><span class='grouping'>{enumerate}</span><br>
<span class='word1'>Total</span> <span class='word1'>number</span> <span class='word1'>of</span> <span class='word1'>FFTs</span> <span class='word1'>done</span> <span class='word1'>is</span> <span class='mathgroup'>$</span><span class='ignore'>2n</span><span class='mathgroup'>$</span> <span class='word1'>where</span> <span class='mathgroup'>$</span><span class='ignore'>n</span><span class='mathgroup'>$</span> <span class='word1'>is</span> <span class='word1'>the</span> <span class='word1'>height</span><span class='ignore'>/</span><span class='word1'>width</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>image</span><span class='ignore'>.</span> <br>
<span class='command'>\inote</span><span class='ignore'>{</span><span class='ignore'>Maybe</span> <span class='ignore'>make</span> <span class='ignore'>a</span> <span class='ignore'>figure</span> <span class='ignore'>to</span> <span class='ignore'>help</span> <span class='ignore'>explain</span><span class='ignore'>?</span><span class='ignore'>}</span><br>
<span class='command'>\subsection</span><span class='ignore'>{</span><span class='word2'>Implementing</span> <span class='word2'>the</span> <span class='word2'>FFT</span><span class='ignore'>}</span><br>
<span class='comment'>%\inote{Include and explain code}</span><br>
<span class='word1'>The</span> <span class='word1'>Atmel</span> <span class='word1'>Software</span> <span class='word1'>Framework</span> <span class='command'>\citep</span><span class='ignore'>{</span><span class='ignore'>Atmel</span><span class='ignore'>:</span><span class='ignore'>ASF</span><span class='ignore'>}</span> <span class='word1'>included</span> <span class='word1'>a</span> <span class='word1'>digital</span> <span class='word1'>signal</span> <span class='word1'>processing</span> <span class='word1'>library</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>contained</span> <span class='word1'>functions</span> <span class='word1'>to</span> <span class='word1'>compute</span> <span class='word1'>the</span> <span class='word1'>FFT</span> <span class='word1'>of</span> <span class='word1'>a</span> <span class='word1'>real</span> <span class='word1'>or</span> <span class='word1'>complex</span> <span class='word1'>array</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>inverse</span> <span class='word1'>FFT</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>magnitude</span> <span class='word1'>of</span> <span class='word1'>complex</span> <span class='word1'>data</span><span class='ignore'>.</span> <span class='word1'>Further</span> <span class='word1'>restrictions</span> <span class='word1'>are</span> <span class='word1'>imposed</span> <span class='word1'>by</span> <span class='word1'>the</span> <span class='word1'>DSP</span> <span class='word1'>library</span> <span class='word1'>used</span> <span class='word1'>as</span> <span class='word1'>the</span> <span class='word1'>data</span> <span class='word1'>must</span> <span class='word1'>be</span> <span class='word1'>in</span> <span class='word1'>fixed</span> <span class='word1'>point</span> <span class='word1'>notation</span> <span class='word1'>and</span> <span class='word1'>with</span> <span class='word1'>a</span> <span class='word1'>length</span> <span class='word1'>of</span> <span class='word1'>an</span> <span class='word1'>even</span> <span class='word1'>power</span> <span class='word1'>of</span> <span class='word1'>2</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>gives</span> <span class='word1'>a</span> <span class='word1'>usable</span> <span class='word1'>dimension</span> <span class='word1'>of</span> <span class='mathgroup'>$</span><span class='ignore'>256px</span> <span class='exclcommand'>\times</span> <span class='ignore'>256px</span><span class='mathgroup'>$</span> <span class='word1'>for</span> <span class='word1'>processing</span> <span class='word1'>images</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>AVR</span><span class='ignore'>.</span> <span class='word1'>Though</span> <span class='word1'>the</span> <span class='word1'>height</span> <span class='word1'>of</span> <span class='word1'>an</span> <span class='word1'>image</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>OV7670</span> <span class='word1'>camera</span> <span class='word1'>is</span> <span class='mathgroup'>$</span><span class='ignore'>240</span><span class='mathgroup'>$</span> <span class='word1'>pixels</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>image</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>transformed</span> <span class='word1'>so</span> <span class='word1'>that</span> <span class='word1'>it</span> <span class='word1'>repeats</span> <span class='word1'>for</span> <span class='word1'>16</span> <span class='word1'>rows</span> <span class='word1'>at</span> <span class='word1'>the</span> <span class='word1'>bottom</span> <span class='word1'>as</span> <span class='word1'>the</span> <span class='word1'>Fourier</span> <span class='word1'>transform</span> <span class='word1'>works</span> <span class='word1'>on</span> <span class='word1'>an</span> <span class='word1'>assumption</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>data</span> <span class='word1'>being</span> <span class='word1'>periodic</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>A</span> <span class='word1'>function</span> <span class='word1'>was</span> <span class='word1'>made</span><span class='ignore'>,</span> <span class='word1'>called</span> <span class='command'>\textit</span><span class='word1'>{FFT2DCOMPLEX}</span><span class='ignore'>,</span> <span class='word1'>to</span> <span class='word1'>realise</span> <span class='word1'>the</span> <span class='word1'>2D</span> <span class='word1'>FFT</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>microcontroller</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>FFT</span> <span class='word1'>function</span> <span class='word1'>requires</span> <span class='word1'>the</span> <span class='word1'>data</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>4</span> <span class='word1'>byte</span> <span class='word1'>aligned</span> <span class='ignore'>(</span><span class='word1'>A</span><span class='command'>\_ALIGNED</span><span class='ignore'>)</span> <span class='word1'>and</span> <span class='word1'>of</span> <span class='word1'>type</span> <span class='command'>\textit</span><span class='ignore'>{</span><span class='word1'>dsp16</span><span class='command'>\_complex</span><span class='command'>\_t</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>data</span> <span class='word1'>must</span> <span class='word1'>be</span> <span class='word1'>given</span> <span class='word1'>in</span> <span class='word1'>fixed</span> <span class='word1'>point</span> <span class='word1'>notation</span> <span class='word1'>and</span> <span class='word1'>it</span> <span class='word1'>are</span> <span class='word1'>returned</span> <span class='word1'>in</span> <span class='word1'>fixed</span> <span class='word1'>point</span> <span class='word1'>notation</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>16</span> <span class='word1'>bit</span> <span class='word1'>representation</span> <span class='word1'>was</span> <span class='word1'>chosen</span> <span class='word1'>over</span> <span class='word1'>32</span> <span class='word1'>bit</span> <span class='word1'>due</span> <span class='word1'>to</span> <span class='word1'>more</span> <span class='word1'>functions</span> <span class='word1'>being</span> <span class='word1'>available</span><span class='ignore'>.</span> <br>
<br>
<br>
<span class='command'>\subsection</span><span class='ignore'>{</span><span class='word2'>Testing</span> <span class='word2'>of</span> <span class='word2'>the</span> <span class='word2'>FFT</span> <span class='word2'>on</span> <span class='word2'>AVR</span><span class='ignore'>}</span><br>
<span class='command'>\subsubsection</span><span class='ignore'>{</span><span class='word2'>1D</span> <span class='word2'>FFT</span> <span class='word2'>Test</span><span class='ignore'>}</span><br>
<span class='word1'>A</span> <span class='word1'>Dirac</span> <span class='word1'>function</span> <span class='word1'>and</span> <span class='word1'>a</span> <span class='word1'>rectangular</span> <span class='word1'>pulse</span> <span class='word1'>were</span> <span class='word1'>used</span> <span class='word1'>as</span> <span class='word1'>test</span> <span class='word1'>signals</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>AVR</span><span class='ignore'>:</span><span class='ignore'>FFT</span><span class='ignore'>:</span><span class='ignore'>Dirac</span><span class='ignore'>:</span><span class='ignore'>Input</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>the</span> <span class='word1'>input</span> <span class='word1'>signal</span> <span class='word1'>given</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>AVR</span><span class='ignore'>.</span> <span class='word1'>It</span> <span class='word1'>is</span> <span class='word1'>a</span> <span class='word1'>256</span> <span class='word1'>long</span> <span class='word1'>array</span> <span class='word1'>of</span> <span class='word1'>a</span> <span class='word1'>Dirac</span> <span class='word1'>function</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>was</span> <span class='word1'>then</span> <span class='word1'>converted</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>internally</span> <span class='word1'>defined</span> <span class='word1'>fixed</span> <span class='word1'>point</span> <span class='word1'>notation</span> <span class='word1'>and</span> <span class='word1'>passed</span> <span class='word1'>through</span> <span class='word1'>the</span> <span class='word1'>Fourier</span> <span class='word1'>transform</span> <span class='word1'>method</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>resulting</span> <span class='word1'>complex</span> <span class='word1'>array</span> <span class='word1'>was</span> <span class='word1'>then</span> <span class='word1'>saved</span> <span class='word1'>to</span> <span class='word1'>a</span> <span class='word1'>CSV</span> <span class='word1'>file</span> <span class='word1'>and</span> <span class='word1'>read</span> <span class='word1'>into</span> <span class='word1'>MATLAB</span><span class='ignore'>.</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>AVR</span><span class='ignore'>:</span><span class='ignore'>FFT</span><span class='ignore'>:</span><span class='ignore'>Dirac</span><span class='ignore'>:</span><span class='ignore'>Output</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>the</span> <span class='word1'>calculated</span> <span class='word1'>phase</span> <span class='word1'>and</span> <span class='word1'>magnitude</span> <span class='word1'>plots</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>output</span> <span class='word1'>complex</span> <span class='word1'>array</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>magnitude</span> <span class='word1'>is</span> <span class='word1'>relatively</span> <span class='word1'>flat</span> <span class='word1'>and</span> <span class='word1'>around</span> <span class='word1'>the</span> <span class='word1'>value</span> <span class='word1'>of</span> <span class='word1'>1</span><span class='ignore'>.</span> <span class='word1'>In</span> <span class='word1'>comparison</span> <span class='word1'>with</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Dirac</span><span class='ignore'>:</span><span class='ignore'>Mag</span><span class='ignore'>}</span><span class='ignore'>,</span> <span class='word1'>they</span> <span class='word1'>are</span> <span class='word1'>relatively</span> <span class='word1'>similar</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>phase</span><span class='ignore'>,</span> <span class='word1'>however</span><span class='ignore'>,</span> <span class='word1'>seems</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>very</span> <span class='word1'>different</span><span class='ignore'>.</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Dirac</span><span class='ignore'>:</span><span class='ignore'>Phase</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>what</span> <span class='word1'>was</span> <span class='word1'>expected</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>the</span> <span class='word1'>two</span> <span class='word1'>phase</span> <span class='word1'>results</span> <span class='word1'>appear</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>quite</span> <span class='word1'>different</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>could</span> <span class='word1'>be</span> <span class='word1'>due</span> <span class='word1'>to</span> <span class='word1'>MATLAB</span> <span class='word1'>having</span> <span class='word1'>more</span> <span class='word1'>accurate</span> <span class='word1'>algorithms</span> <span class='word1'>and</span> <span class='word1'>a</span> <span class='word1'>more</span> <span class='word1'>accurate</span> <span class='word1'>representation</span> <span class='word1'>than</span> <span class='word1'>the</span> <span class='word1'>16</span> <span class='word1'>bit</span> <span class='word1'>fixed</span> <span class='word1'>point</span> <span class='word1'>used</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>AVR</span><span class='ignore'>.</span> <span class='word1'>However</span><span class='ignore'>,</span> <span class='word1'>using</span> <span class='word1'>a</span> <span class='word1'>function</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>DSP</span> <span class='word1'>library</span> <span class='word1'>to</span> <span class='word1'>calculate</span> <span class='word1'>the</span> <span class='word1'>magnitude</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>spectrum</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>AVR</span><span class='ignore'>:</span><span class='ignore'>FFT</span><span class='ignore'>:</span><span class='ignore'>Dirac</span><span class='ignore'>:</span><span class='ignore'>Mag</span><span class='ignore'>}</span> <span class='word1'>is</span> <span class='word1'>obtained</span><span class='ignore'>.</span> <span class='word1'>This</span><span class='ignore'>,</span> <span class='word1'>though</span> <span class='word1'>is</span> <span class='word1'>not</span> <span class='word1'>a</span> <span class='word1'>magnitude</span> <span class='word1'>of</span> <span class='word1'>exactly</span> <span class='mathgroup'>$</span><span class='ignore'>1.0</span><span class='mathgroup'>$</span> <span class='word1'>as</span> <span class='word1'>expected</span><span class='ignore'>,</span> <span class='word1'>is</span> <span class='word1'>completely</span> <span class='word1'>flat</span> <span class='word1'>and</span> <span class='word1'>it</span> <span class='word1'>is</span> <span class='word1'>computed</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>same</span> <span class='word1'>transformed</span> <span class='word1'>data</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>suggests</span> <span class='word1'>that</span> <span class='word1'>there</span> <span class='word1'>is</span> <span class='word1'>some</span> <span class='word1'>internal</span> <span class='word1'>compensation</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>algorithms</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>actual</span> <span class='word1'>value</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>AVR</span><span class='ignore'>:</span><span class='ignore'>FFT</span><span class='ignore'>:</span><span class='ignore'>Dirac</span><span class='ignore'>:</span><span class='ignore'>Mag</span><span class='ignore'>}</span> <span class='word1'>is</span> <span class='mathgroup'>$</span><span class='ignore'>0.9897</span><span class='mathgroup'>$</span> <span class='word1'>to</span> <span class='word1'>4</span> <span class='word1'>decimal</span> <span class='word1'>places</span> <span class='word1'>giving</span> <span class='word1'>an</span> <span class='word1'>overall</span> <span class='word1'>error</span> <span class='word1'>of</span> <span class='mathgroup'>$</span><span class='ignore'>1.03</span><span class='ignore'>\%</span><span class='mathgroup'>$</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>Figures</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>AVR</span><span class='ignore'>:</span><span class='ignore'>FFT</span><span class='ignore'>:</span><span class='ignore'>Square</span><span class='ignore'>:</span><span class='ignore'>Input</span><span class='ignore'>}</span><span class='ignore'>,</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>AVR</span><span class='ignore'>:</span><span class='ignore'>FFT</span><span class='ignore'>:</span><span class='ignore'>Square</span><span class='ignore'>:</span><span class='ignore'>Output</span><span class='ignore'>}</span> <span class='word1'>and</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>AVR</span><span class='ignore'>:</span><span class='ignore'>FFT</span><span class='ignore'>:</span><span class='ignore'>Square</span><span class='ignore'>:</span><span class='ignore'>Mag</span><span class='ignore'>}</span> <span class='word1'>show</span> <span class='word1'>the</span> <span class='word1'>similar</span> <span class='word1'>outputs</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>AVR</span> <span class='word1'>when</span> <span class='word1'>transforming</span> <span class='word1'>the</span> <span class='word1'>rectangular</span> <span class='word1'>pulse</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>result</span> <span class='word1'>was</span> <span class='word1'>renormalised</span> <span class='word1'>from</span> <span class='word1'>fixed</span> <span class='word1'>point</span> <span class='word1'>notation</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>data</span> <span class='word1'>was</span> <span class='word1'>shifted</span> <span class='word1'>so</span> <span class='word1'>that</span> <span class='word1'>the</span> <span class='word1'>centre</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>plot</span> <span class='word1'>is</span> <span class='word1'>frequency</span> <span class='word1'>0</span><span class='ignore'>.</span>&nbsp; <span class='word1'>Again</span><span class='ignore'>,</span> <span class='word1'>it</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>that</span> <span class='word1'>the</span> <span class='word1'>magnitude</span> <span class='word1'>calculated</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>complex</span> <span class='word1'>output</span> <span class='ignore'>(</span><span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>AVR</span><span class='ignore'>:</span><span class='ignore'>FFT</span><span class='ignore'>:</span><span class='ignore'>Square</span><span class='ignore'>:</span><span class='ignore'>Output</span><span class='ignore'>}</span><span class='ignore'>)</span> <span class='word1'>is</span> <span class='word1'>different</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>result</span> <span class='word1'>when</span> <span class='word1'>the</span> <span class='word1'>magnitude</span> <span class='word1'>is</span> <span class='word1'>calculated</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>AVR</span> <span class='ignore'>(</span><span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>AVR</span><span class='ignore'>:</span><span class='ignore'>FFT</span><span class='ignore'>:</span><span class='ignore'>Square</span><span class='ignore'>:</span><span class='ignore'>Mag</span><span class='ignore'>}</span><span class='ignore'>)</span><span class='ignore'>.</span> <span class='word1'>There</span> <span class='word1'>are</span> <span class='word1'>also</span> <span class='word1'>differences</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>result</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>AVR</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>result</span> <span class='word1'>from</span> <span class='word1'>MATLAB</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>SquareWaveFT</span><span class='ignore'>}</span><span class='ignore'>,</span> <span class='word1'>which</span> <span class='word1'>can</span><span class='ignore'>,</span> <span class='word1'>again</span><span class='ignore'>,</span> <span class='word1'>be</span> <span class='word1'>attributed</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>algorithms</span><span class='ignore'>.</span> <br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>AVR</span><span class='ignore'>_</span><span class='ignore'>FFT</span><span class='ignore'>_</span><span class='ignore'>Dirac</span><span class='ignore'>_</span><span class='ignore'>Input.eps</span><span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Input</span> <span class='word3'>Dirac</span> <span class='word3'>signal</span> <span class='word3'>for</span> <span class='word3'>AVR</span> <span class='word3'>fast</span> <span class='word3'>Fourier</span> <span class='word3'>transform</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>AVR</span><span class='ignore'>:</span><span class='ignore'>FFT</span><span class='ignore'>:</span><span class='ignore'>Dirac</span><span class='ignore'>:</span><span class='ignore'>Input</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\subfigure</span><span class='option'>[Magnitude of the complex output from the AVR]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span> <span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>,</span> <span class='ignore'>keepaspectratio</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>AVR</span><span class='ignore'>_</span><span class='ignore'>FFT</span><span class='ignore'>_</span><span class='ignore'>Dirac</span><span class='ignore'>_</span><span class='ignore'>Complex</span><span class='ignore'>_</span><span class='ignore'>Mag.eps</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='exclcommand'>\subfigure</span><span class='option'>[Phase of the complex output from the AVR]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span> <span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>,</span> <span class='ignore'>keepaspectratio</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>AVR</span><span class='ignore'>_</span><span class='ignore'>FFT</span><span class='ignore'>_</span><span class='ignore'>Dirac</span><span class='ignore'>_</span><span class='ignore'>Complex</span><span class='ignore'>_</span><span class='ignore'>Phase.eps</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Output</span> <span class='word3'>phase</span> <span class='word3'>and</span> <span class='word3'>magnitude</span> <span class='word3'>of</span> <span class='word3'>the</span> <span class='word3'>complex</span> <span class='word3'>output</span> <span class='word3'>from</span> <span class='word3'>AVR</span> <span class='word3'>fast</span> <span class='word3'>Fourier</span> <span class='word3'>transform</span> <span class='word3'>of</span> <span class='word3'>a</span> <span class='word3'>Dirac</span> <span class='word3'>function</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>AVR</span><span class='ignore'>:</span><span class='ignore'>FFT</span><span class='ignore'>:</span><span class='ignore'>Dirac</span><span class='ignore'>:</span><span class='ignore'>Output</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>AVR</span><span class='ignore'>_</span><span class='ignore'>FFT</span><span class='ignore'>_</span><span class='ignore'>Dirac</span><span class='ignore'>_</span><span class='ignore'>Mag.eps</span><span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Magnitude</span> <span class='word3'>calculated</span> <span class='word3'>by</span> <span class='word3'>the</span> <span class='word3'>AVR</span> <span class='word3'>of</span> <span class='word3'>the</span> <span class='word3'>Fourier</span> <span class='word3'>transform</span> <span class='word3'>of</span> <span class='word3'>a</span> <span class='word3'>Dirac</span> <span class='word3'>function</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>AVR</span><span class='ignore'>:</span><span class='ignore'>FFT</span><span class='ignore'>:</span><span class='ignore'>Dirac</span><span class='ignore'>:</span><span class='ignore'>Mag</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>AVR</span><span class='ignore'>_</span><span class='ignore'>FFT</span><span class='ignore'>_</span><span class='ignore'>Square</span><span class='ignore'>_</span><span class='ignore'>Input.eps</span><span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Input</span> <span class='word3'>rectangular</span> <span class='word3'>pulse</span> <span class='word3'>for</span> <span class='word3'>AVR</span> <span class='word3'>fast</span> <span class='word3'>Fourier</span> <span class='word3'>transform</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>AVR</span><span class='ignore'>:</span><span class='ignore'>FFT</span><span class='ignore'>:</span><span class='ignore'>Square</span><span class='ignore'>:</span><span class='ignore'>Input</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\subfigure</span><span class='option'>[Magnitude of the complex output from the AVR]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span> <span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>,</span> <span class='ignore'>keepaspectratio</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>AVR</span><span class='ignore'>_</span><span class='ignore'>FFT</span><span class='ignore'>_</span><span class='ignore'>Square</span><span class='ignore'>_</span><span class='ignore'>Complex</span><span class='ignore'>_</span><span class='ignore'>Mag.eps</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='exclcommand'>\subfigure</span><span class='option'>[Phase of the complex output from the AVR]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span> <span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>,</span> <span class='ignore'>keepaspectratio</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>AVR</span><span class='ignore'>_</span><span class='ignore'>FFT</span><span class='ignore'>_</span><span class='ignore'>Square</span><span class='ignore'>_</span><span class='ignore'>Complex</span><span class='ignore'>_</span><span class='ignore'>Phase.eps</span><span class='ignore'>}</span> <span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Output</span> <span class='word3'>phase</span> <span class='word3'>and</span> <span class='word3'>magnitude</span> <span class='word3'>of</span> <span class='word3'>the</span> <span class='word3'>complex</span> <span class='word3'>output</span> <span class='word3'>from</span> <span class='word3'>AVR</span> <span class='word3'>fast</span> <span class='word3'>Fourier</span> <span class='word3'>transform</span> <span class='word3'>of</span> <span class='word3'>a</span> <span class='word3'>rectangular</span> <span class='word3'>pulse</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>AVR</span><span class='ignore'>:</span><span class='ignore'>FFT</span><span class='ignore'>:</span><span class='ignore'>Square</span><span class='ignore'>:</span><span class='ignore'>Output</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>.</span><span class='ignore'>/</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>AVR</span><span class='ignore'>_</span><span class='ignore'>FFT</span><span class='ignore'>_</span><span class='ignore'>Square</span><span class='ignore'>_</span><span class='ignore'>Mag.eps</span><span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Magnitude</span> <span class='word3'>calculated</span> <span class='word3'>by</span> <span class='word3'>the</span> <span class='word3'>AVR</span> <span class='word3'>of</span> <span class='word3'>the</span> <span class='word3'>Fourier</span> <span class='word3'>transform</span> <span class='word3'>of</span> <span class='word3'>a</span> <span class='word3'>rectangular</span> <span class='word3'>pulse</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>AVR</span><span class='ignore'>:</span><span class='ignore'>FFT</span><span class='ignore'>:</span><span class='ignore'>Square</span><span class='ignore'>:</span><span class='ignore'>Mag</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
<span class='command'>\subsubsection</span><span class='ignore'>{</span><span class='word2'>2D</span> <span class='word2'>FFT</span> <span class='word2'>Test</span><span class='ignore'>}</span><br>
<br>
<span class='word1'>Two</span> <span class='word1'>test</span> <span class='word1'>signals</span> <span class='word1'>were</span> <span class='word1'>used</span> <span class='word1'>to</span> <span class='word1'>test</span> <span class='word1'>the</span> <span class='word1'>2D</span> <span class='word1'>FFT</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>AVR</span><span class='ignore'>,</span> <span class='word1'>a</span> <span class='word1'>Dirac</span> <span class='word1'>signal</span> <span class='word1'>and</span> <span class='word1'>a</span> <span class='word1'>square</span> <span class='word1'>wave</span><span class='ignore'>,</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Figures</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Dirac2D</span><span class='ignore'>:</span><span class='ignore'>Signal</span><span class='ignore'>}</span> <span class='word1'>and</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Square2D</span><span class='ignore'>:</span><span class='ignore'>Signal</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>internal</span> <span class='word1'>method</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>AVR</span> <span class='word1'>was</span> <span class='word1'>not</span> <span class='word1'>able</span> <span class='word1'>to</span> <span class='word1'>compute</span> <span class='word1'>the</span> <span class='word1'>magnitude</span> <span class='word1'>due</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>method</span> <span class='word1'>scaling</span> <span class='word1'>all</span> <span class='word1'>the</span> <span class='word1'>values</span> <span class='word1'>down</span> <span class='word1'>causing</span> <span class='word1'>truncation</span> <span class='word1'>errors</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>complex</span> <span class='word1'>Fourier</span> <span class='word1'>transform</span> <span class='word1'>was</span> <span class='word1'>obtained</span><span class='ignore'>,</span> <span class='word1'>saved</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>SD</span> <span class='word1'>card</span> <span class='word1'>in</span> <span class='word1'>CSV</span> <span class='word1'>format</span> <span class='word1'>and</span> <span class='word1'>viewed</span> <span class='word1'>in</span> <span class='word1'>MATLAB</span><span class='ignore'>.</span> <span class='word1'>All</span> <span class='word1'>data</span> <span class='word1'>were</span> <span class='word1'>normalised</span> <span class='word1'>to</span> <span class='word1'>omit</span> <span class='word1'>the</span> <span class='word1'>effects</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>fixed</span> <span class='word1'>point</span> <span class='word1'>notation</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>data</span> <span class='word1'>shifted</span> <span class='word1'>so</span> <span class='word1'>that</span> <span class='word1'>frequency</span> <span class='word1'>0</span> <span class='word1'>was</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>centre</span><span class='ignore'>.</span> <span class='word1'>These</span> <span class='word1'>tests</span> <span class='word1'>were</span> <span class='word1'>done</span> <span class='word1'>with</span> <span class='word1'>a</span> <span class='mathgroup'>$</span><span class='ignore'>64</span><span class='exclcommand'>\times</span><span class='ignore'>64</span><span class='mathgroup'>$</span> <span class='word1'>2D</span> <span class='word1'>data</span> <span class='word1'>as</span> <span class='word1'>with</span> <span class='word1'>a</span> <span class='mathgroup'>$</span><span class='ignore'>256</span> <span class='exclcommand'>\times</span> <span class='ignore'>256</span><span class='mathgroup'>$</span> <span class='word1'>array</span> <span class='word1'>the</span> <span class='word1'>AVR</span> <span class='word1'>runs</span> <span class='word1'>out</span> <span class='word1'>of</span> <span class='word1'>internal</span> <span class='word1'>RAM</span> <span class='word1'>to</span> <span class='word1'>calculate</span> <span class='word1'>the</span> <span class='word1'>transform</span><span class='ignore'>.</span> <br>
<span class='command'>\inote</span><span class='ignore'>{</span><span class='ignore'>I</span> <span class='ignore'>would</span> <span class='ignore'>like</span> <span class='ignore'>to</span> <span class='ignore'>get</span> <span class='ignore'>this</span> <span class='ignore'>to</span> <span class='ignore'>work</span> <span class='ignore'>by</span> <span class='ignore'>the</span> <span class='ignore'>end</span> <span class='ignore'>but</span> <span class='ignore'>not</span> <span class='ignore'>vital</span><span class='ignore'>.</span><span class='ignore'>}</span><br>
<br>
<span class='word1'>The</span> <span class='word1'>result</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>Dirac</span> <span class='word1'>test</span> <span class='word1'>is</span> <span class='word1'>shown</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>AVR</span><span class='ignore'>:</span><span class='ignore'>FFT2</span><span class='ignore'>:</span><span class='ignore'>Dirac</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>similar</span> <span class='word1'>error</span> <span class='word1'>is</span> <span class='word1'>found</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>magnitude</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>the</span> <span class='word1'>spectrum</span> <span class='word1'>is</span> <span class='word1'>generally</span> <span class='word1'>flat</span> <span class='word1'>with</span> <span class='word1'>a</span> <span class='word1'>small</span> <span class='word1'>amount</span> <span class='word1'>of</span> <span class='word1'>ripple</span> <span class='word1'>as</span> <span class='word1'>seen</span> <span class='word1'>with</span> <span class='word1'>the</span> <span class='word1'>1D</span> <span class='word1'>FFT</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>AVR</span><span class='ignore'>:</span><span class='ignore'>FFT</span><span class='ignore'>:</span><span class='ignore'>Dirac</span><span class='ignore'>:</span><span class='ignore'>Mag</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>phase</span> <span class='word1'>has</span> <span class='word1'>similar</span> <span class='word1'>issues</span> <span class='word1'>as</span> <span class='word1'>the</span> <span class='word1'>1D</span> <span class='word1'>FFT</span><span class='ignore'>.</span> <span class='word1'>However</span><span class='ignore'>,</span> <span class='word1'>there</span> <span class='word1'>appears</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>the</span> <span class='word1'>correct</span> <span class='word1'>pattern</span> <span class='word1'>with</span> <span class='word1'>the</span> <span class='word1'>2D</span> <span class='word1'>phase</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>rotated</span> <span class='word1'>about</span> <span class='mathgroup'>$</span><span class='ignore'>45</span><span class='ignore'>^</span><span class='ignore'>{</span><span class='exclcommand'>\circ</span><span class='ignore'>}</span><span class='mathgroup'>$</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>is</span> <span class='word1'>also</span> <span class='word1'>the</span> <span class='word1'>case</span> <span class='word1'>with</span> <span class='word1'>the</span> <span class='word1'>square</span> <span class='word1'>wave</span> <span class='word1'>test</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>magnitude</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>AVR</span><span class='ignore'>:</span><span class='ignore'>FFT2</span><span class='ignore'>:</span><span class='ignore'>Square</span><span class='ignore'>:</span><span class='ignore'>Mag</span><span class='ignore'>}</span> <span class='word1'>is</span> <span class='word1'>very</span> <span class='word1'>similar</span><span class='ignore'>,</span> <span class='word1'>with</span> <span class='word1'>a</span> <span class='word1'>distinct</span> <span class='word1'>peak</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>centre</span> <span class='ignore'>(</span><span class='word1'>frequency</span> <span class='word1'>0</span><span class='ignore'>)</span> <span class='word1'>and</span> <span class='word1'>a</span> <span class='word1'>sinc</span> <span class='word1'>function</span> <span class='word1'>extending</span> <span class='word1'>vertically</span> <span class='word1'>and</span> <span class='word1'>horizontally</span> <span class='word1'>from</span> <span class='word1'>this</span><span class='ignore'>.</span> <span class='word1'>Again</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>phase</span> <span class='ignore'>(</span><span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>AVR</span><span class='ignore'>:</span><span class='ignore'>FFT2</span><span class='ignore'>:</span><span class='ignore'>Square</span><span class='ignore'>:</span><span class='ignore'>Phase</span><span class='ignore'>}</span><span class='ignore'>)</span> <span class='word1'>seems</span> <span class='word1'>to</span> <span class='word1'>differ</span> <span class='word1'>a</span> <span class='word1'>lot</span> <span class='word1'>from</span> <span class='word1'>the</span> <span class='word1'>expected</span> <span class='word1'>result</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fg</span><span class='ignore'>:</span><span class='ignore'>Square2D</span><span class='ignore'>:</span><span class='ignore'>Phase</span><span class='ignore'>}</span><span class='ignore'>.</span> <br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\subfigure</span><span class='ignore'>[</span><span class='ignore'>Normalised</span> <span class='ignore'>magnitude</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>AVR</span><span class='ignore'>:</span><span class='ignore'>FFT2</span><span class='ignore'>:</span><span class='ignore'>Dirac</span><span class='ignore'>:</span><span class='ignore'>Mag</span><span class='ignore'>}</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span> <span class='ignore'>/</span> <span class='ignore'>2</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>AVR</span><span class='ignore'>_</span><span class='ignore'>FFT2</span><span class='ignore'>_</span><span class='ignore'>Dirac</span><span class='ignore'>_</span><span class='ignore'>Mag.jpg</span><span class='ignore'>}</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\subfigure</span><span class='ignore'>[</span><span class='ignore'>Phase</span> <span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>AVR</span><span class='ignore'>:</span><span class='ignore'>FFT2</span><span class='ignore'>:</span><span class='ignore'>Dirac</span><span class='ignore'>:</span><span class='ignore'>Phase</span><span class='ignore'>}</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span> <span class='ignore'>/</span><span class='ignore'>2</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>AVR</span><span class='ignore'>_</span><span class='ignore'>FFT2</span><span class='ignore'>_</span><span class='ignore'>Dirac</span><span class='ignore'>_</span><span class='ignore'>Phase.jpg</span><span class='ignore'>}</span><span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Images</span> <span class='word3'>of</span> <span class='word3'>the</span> <span class='word3'>phase</span> <span class='word3'>and</span> <span class='word3'>magnitude</span> <span class='word3'>of</span> <span class='word3'>the</span> <span class='word3'>complex</span> <span class='word3'>data</span> <span class='word3'>returned</span> <span class='word3'>from</span> <span class='word3'>the</span> <span class='word3'>2D</span> <span class='word3'>FFT</span> <span class='word3'>on</span> <span class='word3'>the</span> <span class='word3'>AVR</span> <span class='word3'>of</span> <span class='word3'>a</span> <span class='word3'>2D</span> <span class='word3'>Dirac</span> <span class='word3'>function</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>AVR</span><span class='ignore'>:</span><span class='ignore'>FFT2</span><span class='ignore'>:</span><span class='ignore'>Dirac</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\subfigure</span><span class='ignore'>[</span><span class='ignore'>Normalised</span> <span class='ignore'>magnitude</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>AVR</span><span class='ignore'>:</span><span class='ignore'>FFT2</span><span class='ignore'>:</span><span class='ignore'>Square</span><span class='ignore'>:</span><span class='ignore'>Mag</span><span class='ignore'>}</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span> <span class='ignore'>/</span> <span class='ignore'>2</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>AVR</span><span class='ignore'>_</span><span class='ignore'>FFT2</span><span class='ignore'>_</span><span class='ignore'>Square</span><span class='ignore'>_</span><span class='ignore'>Mag.jpg</span><span class='ignore'>}</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\subfigure</span><span class='ignore'>[</span><span class='ignore'>Phase</span><span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>AVR</span><span class='ignore'>:</span><span class='ignore'>FFT2</span><span class='ignore'>:</span><span class='ignore'>Square</span><span class='ignore'>:</span><span class='ignore'>Phase</span><span class='ignore'>}</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span> <span class='ignore'>/</span> <span class='ignore'>2</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>AVR</span><span class='ignore'>_</span><span class='ignore'>FFT2</span><span class='ignore'>_</span><span class='ignore'>Square</span><span class='ignore'>_</span><span class='ignore'>Phase.jpg</span><span class='ignore'>}</span><span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Images</span> <span class='word3'>of</span> <span class='word3'>the</span> <span class='word3'>phase</span> <span class='word3'>and</span> <span class='word3'>magnitude</span> <span class='word3'>of</span> <span class='word3'>the</span> <span class='word3'>complex</span> <span class='word3'>data</span> <span class='word3'>returned</span> <span class='word3'>from</span> <span class='word3'>the</span> <span class='word3'>2D</span> <span class='word3'>FFT</span> <span class='word3'>on</span> <span class='word3'>the</span> <span class='word3'>AVR</span> <span class='word3'>of</span> <span class='word3'>a</span> <span class='word3'>2D</span> <span class='word3'>square</span> <span class='word3'>function</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>AVR</span><span class='ignore'>:</span><span class='ignore'>FFT2</span><span class='ignore'>:</span><span class='ignore'>Square</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<span class='command'>\subsection</span><span class='word2'>{Conclusion}</span><br>
<span class='word1'>The</span> <span class='word1'>transforms</span> <span class='word1'>are</span> <span class='word1'>calculated</span> <span class='word1'>in</span> <span class='word1'>real</span> <span class='word1'>time</span> <span class='word1'>with</span> <span class='word1'>a</span> <span class='word1'>16MHz</span> <span class='word1'>clock</span> <span class='word1'>source</span><span class='ignore'>.</span> <span class='word1'>Table</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>FFTSize</span><span class='ignore'>_</span><span class='ignore'>Time</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>the</span> <span class='word1'>number</span> <span class='word1'>of</span> <span class='word1'>clock</span> <span class='word1'>cycles</span> <span class='word1'>taken</span> <span class='word1'>to</span> <span class='word1'>calculate</span> <span class='word1'>the</span> <span class='word1'>relevant</span> <span class='word1'>sized</span> <span class='word1'>transform</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='mathgroup'>$</span><span class='ignore'>64</span> <span class='exclcommand'>\times</span> <span class='ignore'>64</span><span class='mathgroup'>$</span> <span class='word1'>transform</span> <span class='word1'>takes</span> <span class='mathgroup'>$</span><span class='ignore'>39ms</span><span class='mathgroup'>$</span> <span class='word1'>to</span> <span class='word1'>compute</span> <span class='word1'>with</span> <span class='word1'>a</span> <span class='word1'>16MHz</span> <span class='word1'>clock</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>could</span> <span class='word1'>be</span> <span class='word1'>reduced</span> <span class='word1'>by</span> <span class='word1'>increasing</span> <span class='word1'>the</span> <span class='word1'>internal</span> <span class='word1'>clock</span> <span class='word1'>speed</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>AVR</span><span class='ignore'>,</span> <span class='word1'>potentially</span> <span class='word1'>taking</span> <span class='word1'>it</span> <span class='word1'>up</span> <span class='word1'>to</span> <span class='word1'>33MHz</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>therefore</span> <span class='word1'>halving</span> <span class='word1'>the</span> <span class='word1'>time</span> <span class='word1'>to</span> <span class='word1'>compute</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='mathgroup'>$</span><span class='ignore'>64px</span> <span class='exclcommand'>\times</span> <span class='ignore'>64px</span><span class='mathgroup'>$</span> <span class='word1'>image</span><span class='ignore'>,</span> <span class='word1'>however</span><span class='ignore'>,</span> <span class='word1'>is</span> <span class='word1'>not</span> <span class='word1'>practical</span> <span class='word1'>for</span> <span class='word1'>the</span> <span class='word1'>application</span><span class='ignore'>.</span> <span class='word1'>Larger</span> <span class='word1'>transforms</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>done</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>further</span> <span class='word1'>development</span> <span class='word1'>is</span> <span class='word1'>required</span> <span class='word1'>to</span> <span class='word1'>utilise</span> <span class='word1'>the</span> <span class='word1'>external</span> <span class='word1'>RAM</span> <span class='word1'>more</span> <span class='word1'>efficiently</span><span class='ignore'>.</span><span class='comment'>%more effort needs to be taken and the external RAM could be utilised more effectively.</span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{table}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Number</span> <span class='word3'>of</span> <span class='word3'>clock</span> <span class='word3'>cycles</span> <span class='word3'>taken</span> <span class='word3'>to</span> <span class='word3'>calculate</span> <span class='word3'>the</span> <span class='word3'>transform</span> <span class='word3'>of</span> <span class='word3'>64</span> <span class='word3'>or</span> <span class='word3'>256</span> <span class='word3'>long</span> <span class='word3'>data</span> <span class='word3'>set</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>FFTSize</span><span class='ignore'>_</span><span class='ignore'>Time</span><span class='ignore'>}</span><br>
<span class='exclgroup'>\begin</span><span class='exclgroup'>{tabular}</span><span class='ignore'>{ccc}</span> <span class='exclcommand'>\toprule</span><br>
 	<span class='ignore'>&amp;</span> <span class='ignore'>\multicolumn{2}{c}</span><span class='ignore'>{</span> <span class='exclcommand'>\textbf</span><span class='ignore'>{</span><span class='ignore'>Size</span> <span class='ignore'>of</span> <span class='ignore'>FFT</span> <span class='ignore'>Data</span><span class='ignore'>}</span> <span class='ignore'>}</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\cmidrule</span><span class='ignore'>{</span><span class='ignore'>2-3</span><span class='ignore'>}</span><br>
	<span class='ignore'>&amp;</span>&nbsp; <span class='exclcommand'>\textbf</span><span class='ignore'>{64}</span>&nbsp; 	<span class='ignore'>&amp;</span>&nbsp; <span class='exclcommand'>\textbf</span><span class='ignore'>{256}</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\toprule</span><br>
<span class='ignore'>1D</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>5019</span>&nbsp; <span class='ignore'>&amp;</span>&nbsp; <span class='ignore'>23599</span>&nbsp; <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>2D</span>&nbsp; <span class='ignore'>&amp;</span>&nbsp; <span class='ignore'>618168</span>&nbsp; <span class='ignore'>&amp;</span>&nbsp; <span class='ignore'>-</span>&nbsp; <span class='exclcommand'>\\</span> <span class='exclcommand'>\bottomrule</span><br>
<span class='exclgroup'>\end</span><span class='exclgroup'>{tabular}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{table}</span><br>
<br>
<br>
<br>
<span class='command'>\inote</span><span class='ignore'>{</span><span class='ignore'>Show</span> <span class='ignore'>results</span> <span class='ignore'>of</span> <span class='ignore'>actual</span> <span class='ignore'>photo</span> <span class='ignore'>being</span> <span class='ignore'>transformed</span><span class='ignore'>,</span> <span class='ignore'>need</span> <span class='ignore'>2D</span> <span class='ignore'>256</span> <span class='ignore'>FFT</span> <span class='ignore'>working</span> <span class='ignore'>before</span><span class='ignore'>}</span><br>
<span class='command'>\inote</span><span class='ignore'>{</span><span class='ignore'>Maybe</span> <span class='ignore'>IFFT</span> <span class='ignore'>it</span> <span class='ignore'>too</span> <span class='ignore'>to</span> <span class='ignore'>find</span> <span class='ignore'>total</span> <span class='ignore'>errors</span> <span class='ignore'>in</span> <span class='ignore'>algorithm</span><span class='ignore'>?</span><span class='ignore'>}</span><br>
<span class='comment'>%\section{Low Level Vision Algorithms}</span><br>
<span class='comment'>%\subsection{Noise Reduction}</span><br>
<span class='comment'>%\inote{Why}</span><br>
<span class='comment'>%Noise exists in all signals. Two noise sources for the camera image is random noise in the sensor, and quantisation noise. It generates a compromise between noise and resolution that has to be made. Large amounts of noise reduction will blur edges and therefore reduce the quality of the image and make it harder to match. This section will investigate some noise reduction methods, and test if the application of them increases the reliability of matching using the Normalised Cross Correlation method discussed in section \ref{Section:NCC}. </span><br>
<span class='comment'>%\inote{Theory}</span><br>
<span class='comment'>%\inote{Examples}</span><br>
<span class='comment'>%\inote{Does it improve the reliability of matching? Vary noise amount in images? and test}</span><br>
<span class='comment'>%\subsection{Edge Detection}</span><br>
<span class='comment'>%\inote{Why}</span><br>
<span class='comment'>%\inote{Theory}</span><br>
<span class='comment'>%\inote{Examples}</span><br>
<span class='comment'>%\inote{Does it improve the reliability of matching?}</span><br>
</p></div>
<div class='count'>
<ul class='count'>
<li class='header'>Included file: InvestigationVision.tex</li>
<li>Encoding: ascii</li>
<li>Words in text: 2667</li>
<li>Words in headers: 62</li>
<li>Words in float captions: 328</li>
<li>Number of headers: 22</li>
<li>Number of floats: 24</li>
<li>Number of math inlines: 64</li>
<li>Number of math displayed: 18</li>
<li>Subcounts:</li>
<span class='subcount'>
<li class='fielddesc'>&nbsp; text+headers+captions (#headers/#floats/#inlines/#displayed)</li>
  <li>0+2+0 (1/0/0/0) Chapter: Vision Algorithms} \label{Chapter:InvestigationVision</li>
  <li>66+2+6 (1/1/1/0) Section: Matching Algorithms}\label{Section:Comparison</li>
  <li>54+4+0 (1/0/2/1) Subsection: Sum of Absolute Differences}\label{Section:SAD</li>
  <li>56+4+0 (1/0/0/1) Subsection: Sum of Squared Differences}\label{Section:SSD</li>
  <li>136+3+0 (1/0/5/1) Subsection: Normalised Cross Correlation}\label{Section:NCC</li>
  <li>349+1+5 (1/1/16/0) Subsection: Comparison</li>
  <li>102+1+0 (1/0/0/0) Subsection: Conclusion</li>
  <li>0+2+0 (1/0/0/0) Section: Range Finding</li>
  <li>58+1+0 (1/0/1/0) Subsection: Derivations</li>
  <li>65+1+0 (1/0/2/5) Subsection: Summary</li>
  <li>87+3+25 (1/2/1/1) Subsection: Field of View</li>
  <li>157+1+37 (1/3/3/0) Subsection: Testing</li>
  <li>110+8+33 (1/2/14/3) Subsection: The Effect of Resolution and Field of View</li>
  <li>187+1+33 (1/2/0/0) Subsection: Conclusion</li>
  <li>0+2+0 (1/0/0/0) Section: Fourier Transform</li>
  <li>239+5+24 (1/2/4/4) Subsection: Background Research and the FFT</li>
  <li>212+5+27 (1/2/4/2) Subsection: Two Dimensional Fast Fourier Transform</li>
  <li>174+3+0 (1/0/2/0) Subsection: Implementing the FFT</li>
  <li>528+12+122 (3/8/6/0) Subsection: Testing of the FFT on AVR</li>
  <li>87+1+16 (1/1/3/0) Subsection: Conclusion</li>
</span>
</ul>
</div>
<h2>File: Conclusions.tex</h2>
<div class='parse'><p>
<span class='comment'>%% ----------------------------------------------------------------</span><br>
<span class='comment'>%% Conclusions.tex</span><br>
<span class='comment'>%% ---------------------------------------------------------------- </span><br>
<span class='command'>\chapter</span><span class='ignore'>{</span><span class='word2'>Conclusions</span> <span class='word2'>and</span> <span class='word2'>Further</span> <span class='word2'>Work</span><span class='ignore'>}</span> <span class='command'>\label</span><span class='ignore'>{</span><span class='ignore'>Chapter</span><span class='ignore'>:</span> <span class='ignore'>Conclusions</span><span class='ignore'>}</span><br>
<span class='comment'>%\section{Conclusion}</span><br>
<br>
<span class='comment'>%\inote{What I have accomplished}</span><br>
<span class='word1'>This</span> <span class='word1'>work</span> <span class='word1'>has</span> <span class='word1'>led</span> <span class='word1'>to</span> <span class='word1'>a</span> <span class='word1'>tested</span> <span class='word1'>device</span> <span class='word1'>which</span> <span class='word1'>is</span> <span class='word1'>mobile</span> <span class='word1'>and</span> <span class='word1'>has</span> <span class='word1'>the</span> <span class='word1'>capability</span> <span class='word1'>to</span> <span class='word1'>perform</span> <span class='word1'>stereoscopic</span> <span class='word1'>image</span> <span class='word1'>processing</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>system</span> <span class='word1'>has</span> <span class='word1'>the</span> <span class='word1'>following</span> <span class='word1'>parts</span><span class='ignore'>:</span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{enumerate}</span><br>
<span class='command'>\item</span> <span class='word1'>Motor</span> <span class='word1'>driving</span><br>
<span class='command'>\item</span> <span class='word1'>Stereoscopic</span> <span class='word1'>Cameras</span><br>
<span class='command'>\item</span> <span class='word1'>SD</span> <span class='word1'>Card</span> <span class='word1'>memory</span><br>
<span class='command'>\item</span> <span class='word1'>SDRAM</span><br>
<span class='command'>\item</span> <span class='word1'>Image</span> <span class='word1'>Processing</span><br>
<span class='grouping'>\end</span><span class='grouping'>{enumerate}</span><br>
<br>
<span class='word1'>The</span> <span class='word1'>motor</span> <span class='word1'>system</span> <span class='word1'>is</span> <span class='word1'>a</span> <span class='word1'>simple</span><span class='ignore'>,</span> <span class='word1'>cheap</span> <span class='word1'>method</span> <span class='word1'>to</span> <span class='word1'>move</span> <span class='word1'>distances</span> <span class='word1'>with</span> <span class='word1'>reasonable</span> <span class='word1'>accuracy</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>better</span> <span class='word1'>controller</span> <span class='word1'>would</span> <span class='word1'>allow</span> <span class='word1'>variable</span> <span class='word1'>speed</span> <span class='word1'>and</span> <span class='word1'>speed</span> <span class='word1'>matching</span> <span class='word1'>between</span> <span class='word1'>motors</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>system</span> <span class='word1'>was</span> <span class='word1'>shown</span> <span class='word1'>to</span> <span class='word1'>work</span> <span class='word1'>to</span> <span class='mathgroup'>$</span><span class='ignore'>4.5</span><span class='ignore'>\%</span><span class='mathgroup'>$</span> <span class='word1'>accuracy</span> <span class='word1'>over</span> <span class='word1'>a</span> <span class='mathgroup'>$</span><span class='ignore'>300mm</span><span class='mathgroup'>$</span> <span class='word1'>distance</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>Stereo</span> <span class='word1'>image</span> <span class='word1'>pairs</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>captured</span> <span class='word1'>and</span> <span class='word1'>stored</span> <span class='word1'>on</span> <span class='word1'>an</span> <span class='word1'>SD</span> <span class='word1'>card</span> <span class='word1'>in</span> <span class='word1'>a</span> <span class='word1'>FAT32</span> <span class='word1'>file</span> <span class='word1'>system</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>SD</span> <span class='word1'>card</span> <span class='word1'>is</span> <span class='word1'>also</span> <span class='word1'>used</span> <span class='word1'>for</span> <span class='word1'>transferring</span> <span class='word1'>images</span> <span class='word1'>to</span> <span class='word1'>and</span> <span class='word1'>reading</span> <span class='word1'>log</span> <span class='word1'>files</span> <span class='word1'>on</span> <span class='word1'>a</span> <span class='word1'>computer</span><span class='ignore'>.</span> <span class='word1'>Images</span> <span class='word1'>are</span> <span class='word1'>stored</span> <span class='word1'>in</span> <span class='word1'>QVGA</span> <span class='word1'>format</span> <span class='ignore'>(</span><span class='mathgroup'>$</span><span class='ignore'>320px</span> <span class='exclcommand'>\times</span> <span class='ignore'>240px</span><span class='mathgroup'>$</span><span class='ignore'>)</span> <span class='word1'>as</span> <span class='word1'>a</span> <span class='word1'>bitmap</span> <span class='word1'>image</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>An</span> <span class='word1'>additional</span> <span class='word1'>4MB</span> <span class='word1'>of</span> <span class='word1'>SDRAM</span> <span class='word1'>memory</span> <span class='word1'>is</span> <span class='word1'>available</span> <span class='word1'>to</span> <span class='word1'>use</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>robot</span> <span class='word1'>allowing</span> <span class='word1'>for</span> <span class='word1'>large</span> <span class='word1'>data</span> <span class='word1'>arrays</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>images</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>kept</span> <span class='word1'>in</span> <span class='word1'>fast</span> <span class='word1'>access</span> <span class='word1'>RAM</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>RAM</span> <span class='word1'>is</span> <span class='word1'>direct</span> <span class='word1'>memory</span> <span class='word1'>accessed</span> <span class='ignore'>(</span><span class='word1'>DMA</span><span class='ignore'>)</span> <span class='word1'>so</span> <span class='word1'>operation</span> <span class='word1'>is</span> <span class='word1'>almost</span> <span class='word1'>seamless</span> <span class='word1'>from</span> <span class='word1'>internal</span> <span class='word1'>memory</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>Multiple</span> <span class='word1'>comparison</span> <span class='word1'>algorithms</span> <span class='word1'>have</span> <span class='word1'>been</span> <span class='word1'>investigated</span> <span class='word1'>and</span> <span class='word1'>compared</span> <span class='word1'>using</span> <span class='word1'>the</span> <span class='word1'>same</span> <span class='word1'>test</span> <span class='word1'>images</span><span class='ignore'>.</span> <span class='word1'>It</span> <span class='word1'>was</span> <span class='word1'>clear</span> <span class='word1'>that</span><span class='ignore'>,</span> <span class='word1'>although</span> <span class='word1'>at</span> <span class='word1'>a</span> <span class='word1'>necessity</span> <span class='word1'>of</span> <span class='word1'>more</span> <span class='word1'>computations</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>normalised</span> <span class='word1'>cross</span> <span class='word1'>correlation</span> <span class='word1'>is</span> <span class='word1'>the</span> <span class='word1'>best</span> <span class='word1'>with</span> <span class='word1'>regard</span> <span class='word1'>to</span> <span class='word1'>overall</span> <span class='word1'>reliability</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>Range</span> <span class='word1'>finding</span> <span class='word1'>equations</span> <span class='word1'>were</span> <span class='word1'>then</span> <span class='word1'>researched</span> <span class='word1'>and</span> <span class='word1'>derived</span><span class='ignore'>,</span> <span class='word1'>which</span> <span class='word1'>use</span> <span class='word1'>the</span> <span class='word1'>characteristics</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>camera</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>separation</span> <span class='word1'>distance</span> <span class='word1'>between</span> <span class='word1'>them</span> <span class='word1'>to</span> <span class='word1'>calculate</span> <span class='word1'>distance</span> <span class='word1'>to</span> <span class='word1'>objects</span> <span class='word1'>in</span> <span class='word1'>view</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>range</span> <span class='word1'>finding</span> <span class='word1'>capability</span> <span class='word1'>was</span> <span class='word1'>tested</span> <span class='word1'>using</span> <span class='command'>\textsc</span><span class='word1'>{Matlab}</span> <span class='word1'>and</span> <span class='word1'>it</span> <span class='word1'>found</span> <span class='word1'>that</span> <span class='word1'>the</span> <span class='word1'>system</span> <span class='word1'>could</span> <span class='word1'>not</span> <span class='word1'>accurately</span> <span class='word1'>calculate</span> <span class='word1'>distances</span> <span class='word1'>to</span> <span class='word1'>objects</span><span class='ignore'>.</span> <span class='word1'>However</span><span class='ignore'>,</span> <span class='word1'>depth</span> <span class='word1'>perception</span> <span class='word1'>is</span> <span class='word1'>possible</span> <span class='word1'>even</span> <span class='word1'>with</span> <span class='word1'>low</span> <span class='word1'>resolution</span> <span class='word1'>cameras</span> <span class='word1'>and</span> <span class='word1'>small</span> <span class='word1'>separation</span> <span class='word1'>between</span> <span class='word1'>them</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>wide</span> <span class='word1'>angle</span> <span class='word1'>lens</span> <span class='word1'>could</span> <span class='word1'>be</span> <span class='word1'>added</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>system</span> <span class='word1'>to</span> <span class='word1'>more</span> <span class='word1'>accurately</span> <span class='word1'>measure</span> <span class='word1'>distances</span> <span class='word1'>but</span> <span class='word1'>at</span> <span class='word1'>the</span> <span class='word1'>expense</span> <span class='word1'>of</span> <span class='word1'>reducing</span> <span class='word1'>the</span> <span class='word1'>maximum</span> <span class='word1'>range</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>The</span> <span class='word1'>Fourier</span> <span class='word1'>transform</span> <span class='word1'>was</span> <span class='word1'>also</span> <span class='word1'>investigated</span> <span class='word1'>and</span> <span class='word1'>implemented</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>system</span> <span class='word1'>allows</span> <span class='word1'>for</span> <span class='word1'>a</span> <span class='word1'>2D</span> <span class='word1'>array</span> <span class='word1'>of</span> <span class='word1'>a</span> <span class='word1'>square</span> <span class='word1'>image</span> <span class='word1'>with</span> <span class='word1'>dimensions</span> <span class='word1'>of</span> <span class='mathgroup'>$</span><span class='ignore'>2</span><span class='ignore'>^</span><span class='ignore'>{2n}</span><span class='exclcommand'>\;</span> <span class='mathgroup'>$</span><span class='ignore'>,</span> <span class='word1'>where</span> <span class='mathgroup'>$</span><span class='ignore'>n</span> <span class='exclcommand'>\in</span> <span class='exclcommand'>\mathbb</span><span class='ignore'>{N}</span><span class='mathgroup'>$</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>is</span> <span class='word1'>limited</span> <span class='word1'>by</span> <span class='word1'>RAM</span> <span class='word1'>space</span> <span class='word1'>and</span> <span class='word1'>time</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>transform</span> <span class='word1'>is</span> <span class='word1'>speed</span> <span class='word1'>optimised</span> <span class='word1'>and</span> <span class='word1'>in</span> <span class='word1'>tests</span> <span class='word1'>proved</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>fairly</span> <span class='word1'>accurate</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>All</span> <span class='word1'>aspects</span> <span class='word1'>implemented</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>robot</span> <span class='word1'>have</span> <span class='word1'>been</span> <span class='word1'>shown</span> <span class='word1'>to</span> <span class='word1'>be</span> <span class='word1'>functional</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>faster</span> <span class='word1'>processor</span> <span class='word1'>would</span> <span class='word1'>have</span> <span class='word1'>been</span> <span class='word1'>a</span> <span class='word1'>good</span> <span class='word1'>idea</span> <span class='word1'>to</span> <span class='word1'>use</span> <span class='word1'>for</span> <span class='word1'>image</span> <span class='word1'>processing</span><span class='ignore'>,</span> <span class='word1'>but</span> <span class='word1'>this</span> <span class='word1'>could</span> <span class='word1'>have</span> <span class='word1'>developed</span> <span class='word1'>other</span> <span class='word1'>problems</span> <span class='word1'>with</span> <span class='word1'>the</span> <span class='word1'>PCB</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>Raspberry</span> <span class='word1'>Pi</span> <span class='word1'>or</span> <span class='word1'>Steve</span> <span class='word1'>Gunn's</span> <span class='command'>\textit</span><span class='ignore'>{</span><span class='ignore'>`</span><span class='word1'>L'Imperatrice</span><span class='ignore'>'</span><span class='ignore'>}</span><span class='ignore'>,</span> <span class='word1'>which</span> <span class='word1'>both</span> <span class='word1'>run</span> <span class='word1'>a</span> <span class='word1'>Linux</span> <span class='word1'>operating</span> <span class='word1'>system</span><span class='ignore'>,</span> <span class='word1'>would</span> <span class='word1'>have</span> <span class='word1'>been</span> <span class='word1'>a</span> <span class='word1'>good</span> <span class='word1'>choice</span> <span class='word1'>to</span> <span class='word1'>remove</span> <span class='word1'>the</span> <span class='word1'>need</span> <span class='word1'>for</span> <span class='word1'>as</span> <span class='word1'>much</span> <span class='word1'>hardware</span> <span class='word1'>design</span><span class='ignore'>.</span> <span class='word1'>Existing</span> <span class='word1'>image</span> <span class='word1'>processing</span> <span class='word1'>libraries</span> <span class='word1'>could</span> <span class='word1'>then</span> <span class='word1'>have</span> <span class='word1'>been</span> <span class='word1'>used</span> <span class='word1'>to</span> <span class='word1'>gain</span> <span class='word1'>more</span> <span class='word1'>functionality</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>Though</span> <span class='word1'>some</span> <span class='word1'>aspects</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>specification</span> <span class='word1'>were</span> <span class='word1'>not</span> <span class='word1'>fulfilled</span> <span class='word1'>completely</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>progress</span> <span class='word1'>made</span> <span class='word1'>during</span> <span class='word1'>this</span> <span class='word1'>project</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>the</span> <span class='word1'>challenges</span> <span class='word1'>that</span> <span class='word1'>have</span> <span class='word1'>been</span> <span class='word1'>overcome</span><span class='ignore'>,</span> <span class='word1'>provide</span> <span class='word1'>a</span> <span class='word1'>good</span> <span class='word1'>platform</span> <span class='word1'>for</span> <span class='word1'>further</span> <span class='word1'>development</span><span class='ignore'>.</span><br>
<span class='comment'>%Though the robots original application wasn't achieved, the end device is a base for a stereoscopic application. The system is a tested platform for future applications to be implemented on and additions can be made using the spare pins and bus connections on the PCB headers. </span><br>
<br>
<span class='word1'>The</span> <span class='word1'>system</span> <span class='word1'>could</span> <span class='word1'>be</span> <span class='word1'>used</span> <span class='word1'>in</span> <span class='word1'>future</span> <span class='word1'>projects</span> <span class='word1'>to</span> <span class='word1'>develop</span> <span class='word1'>more</span> <span class='word1'>functionality</span><span class='ignore'>.</span> <span class='word1'>Wireless</span> <span class='word1'>communications</span> <span class='word1'>could</span> <span class='word1'>be</span> <span class='word1'>added</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>system</span> <span class='word1'>to</span> <span class='word1'>allow</span> <span class='word1'>a</span> <span class='word1'>connection</span> <span class='word1'>to</span> <span class='word1'>the</span> <span class='word1'>computer</span><span class='ignore'>,</span> <span class='word1'>and</span> <span class='word1'>search</span> <span class='word1'>algorithms</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>implemented</span> <span class='word1'>alongside</span> <span class='word1'>distance</span> <span class='word1'>calculations</span> <span class='word1'>to</span> <span class='word1'>make</span> <span class='word1'>the</span> <span class='word1'>robot</span> <span class='word1'>aware</span> <span class='word1'>of</span> <span class='word1'>its</span> <span class='word1'>surroundings</span><span class='ignore'>.</span> <br>
<span class='comment'>%\inote{What could be changed to make it better}</span><br>
<span class='comment'>%\inote{Suggestions for further work}</span><br>
<br>
<span class='command'>\section</span><span class='ignore'>{</span><span class='word2'>System</span> <span class='word2'>Operation</span> <span class='word2'>and</span> <span class='word2'>Performance</span><span class='ignore'>}</span><br>
<br>
<span class='word1'>The</span> <span class='word1'>system</span> <span class='word1'>uses</span> <span class='word1'>a</span> <span class='word1'>debug</span> <span class='word1'>USART</span> <span class='word1'>available</span> <span class='word1'>on</span> <span class='word1'>J7</span> <span class='ignore'>(</span><span class='word1'>57600bps</span><span class='ignore'>,</span> <span class='word1'>8</span> <span class='word1'>data</span><span class='ignore'>,</span> <span class='word1'>0</span> <span class='word1'>parity</span> <span class='word1'>and</span> <span class='word1'>1</span> <span class='word1'>stop</span> <span class='word1'>bit</span><span class='ignore'>)</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>The</span> <span class='word1'>system</span> <span class='word1'>has</span> <span class='word1'>two</span> <span class='word1'>modes</span> <span class='word1'>of</span> <span class='word1'>operation</span><span class='ignore'>,</span> <span class='ignore'>`</span><span class='word1'>Auto</span> <span class='word1'>Run</span><span class='ignore'>'</span> <span class='word1'>and</span> <span class='word1'>debug</span><span class='ignore'>.</span> <span class='word1'>By</span> <span class='word1'>default</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>Auto</span> <span class='word1'>Run</span> <span class='word1'>mode</span> <span class='word1'>will</span> <span class='word1'>run</span><span class='ignore'>.</span> <span class='word1'>Debug</span> <span class='word1'>mode</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>entered</span> <span class='word1'>by</span> <span class='word1'>the</span> <span class='word1'>relevant</span> <span class='word1'>command</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>Auto</span> <span class='word1'>Run</span> <span class='word1'>procedure</span> <span class='ignore'>(</span><span class='word1'>see</span> <span class='word1'>Table</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>AutoRun</span><span class='ignore'>}</span><span class='ignore'>)</span> <span class='word1'>or</span> <span class='word1'>by</span> <span class='word1'>connecting</span> <span class='word1'>Pin</span> <span class='word1'>D23</span><span class='ignore'>,</span> <span class='word1'>available</span> <span class='word1'>at</span> <span class='word1'>Pin</span> <span class='word1'>1</span> <span class='word1'>of</span> <span class='word1'>J9</span><span class='ignore'>,</span> <span class='word1'>to</span> <span class='word1'>ground</span> <span class='word1'>on</span> <span class='word1'>system</span> <span class='word1'>start</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>state</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>robot</span> <span class='word1'>is</span> <span class='word1'>shown</span> <span class='word1'>by</span> <span class='word1'>the</span> <span class='word1'>LEDs</span><span class='ignore'>.</span> <span class='word1'>Table</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>LEDs</span><span class='ignore'>}</span> <span class='word1'>shows</span> <span class='word1'>the</span> <span class='word1'>meaning</span> <span class='word1'>of</span> <span class='word1'>the</span> <span class='word1'>LEDs</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>Auto</span> <span class='word1'>Run</span> <span class='word1'>mode</span> <span class='word1'>runs</span> <span class='word1'>a</span> <span class='word1'>set</span> <span class='word1'>of</span> <span class='word1'>commands</span> <span class='word1'>located</span> <span class='word1'>in</span> <span class='command'>\textit</span><span class='ignore'>{</span><span class='ignore'>`</span><span class='ignore'>`</span><span class='word1'>AutoRun.txt</span><span class='ignore'>'</span><span class='ignore'>'</span><span class='ignore'>}</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>SD</span> <span class='word1'>Card</span><span class='ignore'>.</span> <span class='word1'>If</span> <span class='word1'>this</span> <span class='word1'>file</span> <span class='word1'>is</span> <span class='word1'>not</span> <span class='word1'>present</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>system</span> <span class='word1'>will</span> <span class='word1'>run</span> <span class='word1'>a</span> <span class='word1'>default</span> <span class='word1'>procedure</span> <span class='word1'>defined</span> <span class='word1'>in</span> <span class='word1'>the</span> <span class='word1'>code</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>list</span> <span class='word1'>of</span> <span class='word1'>commands</span> <span class='word1'>that</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>run</span> <span class='word1'>from</span> <span class='word1'>this</span> <span class='word1'>mode</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Table</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>AutoRun</span><span class='ignore'>}</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>commands</span> <span class='word1'>are</span> <span class='word1'>specified</span> <span class='word1'>by</span> <span class='word1'>line</span><span class='ignore'>.</span> <span class='word1'>If</span> <span class='word1'>an</span> <span class='word1'>invalid</span> <span class='word1'>command</span> <span class='word1'>is</span> <span class='word1'>found</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>system</span> <span class='word1'>will</span> <span class='word1'>exit</span> <span class='word1'>and</span> <span class='word1'>run</span> <span class='word1'>the</span> <span class='command'>\textit</span><span class='ignore'>{</span><span class='word1'>System</span><span class='command'>\_Error</span><span class='ignore'>}</span> <span class='word1'>loop</span><span class='ignore'>.</span> <span class='word1'>The</span>&nbsp; <span class='command'>\textit</span><span class='ignore'>{</span><span class='word1'>System</span><span class='command'>\_Error</span><span class='ignore'>}</span> <span class='word1'>loop</span> <span class='word1'>prints</span> <span class='word1'>the</span> <span class='word1'>status</span> <span class='word1'>of</span> <span class='word1'>all</span> <span class='word1'>devices</span> <span class='word1'>out</span> <span class='word1'>once</span> <span class='word1'>a</span> <span class='word1'>second</span><span class='ignore'>.</span> <span class='word1'>By</span> <span class='word1'>attaching</span> <span class='word1'>a</span> <span class='word1'>USART</span> <span class='word1'>terminal</span><span class='ignore'>,</span> <span class='word1'>the</span> <span class='word1'>error</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>found</span><span class='ignore'>.</span><br>
<br>
<span class='word1'>Debug</span> <span class='word1'>mode</span> <span class='word1'>is</span> <span class='word1'>a</span> <span class='word1'>DOS-shell</span> <span class='word1'>style</span> <span class='word1'>terminal</span> <span class='word1'>allowing</span> <span class='word1'>the</span> <span class='word1'>user</span> <span class='word1'>to</span> <span class='word1'>access</span> <span class='word1'>methods</span> <span class='word1'>and</span> <span class='word1'>variables</span><span class='ignore'>.</span> <span class='word1'>This</span> <span class='word1'>was</span> <span class='word1'>used</span> <span class='word1'>for</span> <span class='word1'>development</span> <span class='word1'>and</span> <span class='word1'>debugging</span><span class='ignore'>.</span> <span class='word1'>A</span> <span class='word1'>full</span> <span class='word1'>list</span> <span class='word1'>of</span> <span class='word1'>commands</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Table</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>Debug</span><span class='ignore'>}</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>The</span> <span class='word1'>system</span> <span class='word1'>is</span> <span class='word1'>able</span> <span class='word1'>to</span> <span class='word1'>move</span> <span class='word1'>reasonably</span> <span class='word1'>accurately</span> <span class='word1'>over</span> <span class='word1'>a</span> <span class='mathgroup'>$</span><span class='ignore'>30cm</span><span class='mathgroup'>$</span> <span class='word1'>distance</span><span class='ignore'>.</span> <span class='word1'>The</span> <span class='word1'>robot</span> <span class='word1'>can</span> <span class='word1'>move</span> <span class='word1'>in</span> <span class='word1'>a</span> <span class='word1'>straight</span> <span class='word1'>line</span> <span class='word1'>or</span> <span class='word1'>rotate</span> <span class='word1'>on</span> <span class='word1'>the</span> <span class='word1'>spot</span><span class='ignore'>.</span> <span class='word1'>Photos</span> <span class='word1'>are</span> <span class='word1'>captured</span> <span class='word1'>in</span> <span class='word1'>colour</span> <span class='word1'>with</span> <span class='word1'>a</span> <span class='word1'>resolution</span> <span class='word1'>of</span> <span class='mathgroup'>$</span><span class='ignore'>320px</span> <span class='exclcommand'>\times</span> <span class='ignore'>240px</span><span class='mathgroup'>$</span> <span class='word1'>and</span> <span class='word1'>store</span> <span class='word1'>to</span> <span class='word1'>a</span> <span class='word1'>SD</span> <span class='word1'>card</span><span class='ignore'>.</span> <br>
<br>
<span class='word1'>The</span> <span class='word1'>final</span> <span class='word1'>robot</span> <span class='word1'>can</span> <span class='word1'>be</span> <span class='word1'>seen</span> <span class='word1'>in</span> <span class='word1'>Figure</span> <span class='command'>\ref</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>Robot</span><span class='ignore'>:</span><span class='ignore'>Complete</span><span class='ignore'>}</span><span class='ignore'>.</span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{figure}</span><br>
<span class='exclcommand'>\includegraphics</span><span class='ignore'>[</span><span class='ignore'>width</span><span class='ignore'>=</span><span class='exclcommand'>\textwidth</span><span class='ignore'>]</span><span class='ignore'>{</span><span class='ignore'>Figures</span><span class='ignore'>/</span><span class='ignore'>Robot.jpg</span><span class='ignore'>}</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>The</span> <span class='word3'>completed</span> <span class='word3'>robot</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>fig</span><span class='ignore'>:</span><span class='ignore'>Robot</span><span class='ignore'>:</span><span class='ignore'>Complete</span><span class='ignore'>}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{figure}</span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{table}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Table</span> <span class='word3'>showing</span> <span class='word3'>the</span> <span class='word3'>Auto</span> <span class='word3'>Run</span> <span class='word3'>commands</span> <span class='word3'>implemented</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>AutoRun</span><span class='ignore'>}</span><br>
<span class='exclgroup'>\begin</span><span class='exclgroup'>{tabular}</span><span class='ignore'>{ccc}</span><span class='exclcommand'>\toprule</span><br>
<span class='exclcommand'>\textbf</span><span class='ignore'>{Command}</span> <span class='ignore'>&amp;</span>&nbsp; <span class='exclcommand'>\textbf</span><span class='ignore'>{Argument}</span>&nbsp; &nbsp; <span class='ignore'>&amp;</span>&nbsp; <span class='exclcommand'>\textbf</span><span class='ignore'>{Operation}</span> <span class='exclcommand'>\\</span><span class='exclcommand'>\toprule</span><br>
<span class='ignore'>B</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>int</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>Move</span> <span class='ignore'>backward</span> <span class='ignore'>by</span> <span class='ignore'>the</span> <span class='ignore'>argument</span> <span class='ignore'>value</span> <span class='ignore'>(</span><span class='ignore'>millimetres</span><span class='ignore'>)</span> <span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>F</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>int</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>Move</span> <span class='ignore'>forward</span> <span class='ignore'>by</span> <span class='ignore'>the</span> <span class='ignore'>argument</span> <span class='ignore'>value</span> <span class='ignore'>(</span><span class='ignore'>millimetres</span><span class='ignore'>)</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>J</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>int</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>Jumps</span> <span class='ignore'>to</span> <span class='ignore'>the</span> <span class='ignore'>command</span> <span class='ignore'>specified</span> <span class='ignore'>(</span><span class='ignore'>0</span> <span class='ignore'>indexed</span><span class='ignore'>)</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>P</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>N</span><span class='ignore'>/</span><span class='ignore'>A</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>Takes</span> <span class='ignore'>a</span> <span class='ignore'>stereo</span> <span class='ignore'>pair</span> <span class='ignore'>of</span> <span class='ignore'>photos</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>q</span>&nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>N</span><span class='ignore'>/</span><span class='ignore'>A</span>&nbsp; &nbsp; 	<span class='ignore'>&amp;</span>	<span class='ignore'>Quits</span> <span class='ignore'>Auto</span> <span class='ignore'>Run</span> <span class='ignore'>and</span> <span class='ignore'>enters</span> <span class='ignore'>debug</span> <span class='ignore'>mode</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>R</span>&nbsp; <span class='ignore'>&amp;</span>&nbsp; <span class='ignore'>int</span>&nbsp; &nbsp; &nbsp; <span class='ignore'>&amp;</span>	<span class='ignore'>Rotates</span> <span class='ignore'>by</span> <span class='ignore'>argument</span> <span class='ignore'>(</span><span class='ignore'>degrees</span><span class='ignore'>)</span><span class='exclcommand'>\\</span> <span class='exclcommand'>\bottomrule</span><br>
<span class='exclgroup'>\end</span><span class='exclgroup'>{tabular}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{table}</span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{table}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Table</span> <span class='word3'>showing</span> <span class='word3'>the</span> <span class='word3'>available</span> <span class='word3'>debug</span> <span class='word3'>commands</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>Debug</span><span class='ignore'>}</span><br>
<span class='exclgroup'>\begin</span><span class='exclgroup'>{tabular}</span><span class='ignore'>{</span><span class='ignore'>llp{10cm}</span><span class='ignore'>}</span><span class='exclcommand'>\toprule</span><br>
<span class='exclcommand'>\textbf</span><span class='ignore'>{Command}</span> <span class='ignore'>&amp;</span> <span class='exclcommand'>\textbf</span><span class='ignore'>{Argument}</span> <span class='ignore'>&amp;</span> <span class='exclcommand'>\textbf</span><span class='ignore'>{Operation}</span> <span class='exclcommand'>\\</span><span class='exclcommand'>\toprule</span><br>
<span class='ignore'>?</span> <span class='ignore'>&amp;</span><span class='ignore'>&amp;</span> <span class='ignore'>Shows</span> <span class='ignore'>the</span> <span class='ignore'>help</span> <span class='ignore'>prompt</span><span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>A</span> <span class='ignore'>&amp;</span><span class='ignore'>&amp;</span> <span class='ignore'>Runs</span> <span class='ignore'>the</span> <span class='ignore'>Auto</span> <span class='ignore'>Run</span> <span class='ignore'>procedure</span> <span class='ignore'>in</span> <span class='ignore'>debug</span> <span class='ignore'>mode</span><span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>B</span> <span class='ignore'>&amp;</span><span class='ignore'>&amp;</span> <span class='ignore'>Reads</span> <span class='ignore'>a</span> <span class='ignore'>Bitmap</span> <span class='ignore'>file</span> <span class='ignore'>and</span> <span class='ignore'>prints</span> <span class='ignore'>information</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>c</span> <span class='ignore'>&amp;</span><span class='ignore'>&amp;</span> <span class='ignore'>converts</span> <span class='ignore'>the</span> <span class='ignore'>working</span> <span class='ignore'>buffer</span> <span class='ignore'>from</span> <span class='ignore'>integer</span> <span class='ignore'>to</span> <span class='ignore'>fixed</span> <span class='ignore'>point</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>C</span> <span class='ignore'>&amp;</span><span class='ignore'>&amp;</span> <span class='ignore'>Converts</span> <span class='ignore'>the</span> <span class='ignore'>working</span> <span class='ignore'>buffer</span> <span class='ignore'>from</span> <span class='ignore'>fixed</span> <span class='ignore'>point</span> <span class='ignore'>to</span> <span class='ignore'>integer</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>d</span> <span class='ignore'>&amp;</span><span class='ignore'>&amp;</span> <span class='ignore'>Saves</span> <span class='ignore'>the</span> <span class='ignore'>Working</span> <span class='ignore'>Buffer</span> <span class='ignore'>to</span> <span class='ignore'>`</span><span class='ignore'>`</span><span class='ignore'>Buffer</span><span class='exclcommand'>\_results</span><span class='ignore'>.</span><span class='ignore'>csv</span><span class='ignore'>'</span><span class='ignore'>'</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>D</span> <span class='ignore'>&amp;</span><span class='ignore'>&amp;</span> <span class='ignore'>Frees</span> <span class='ignore'>the</span> <span class='ignore'>Memory</span> <span class='ignore'>pointed</span> <span class='ignore'>to</span> <span class='ignore'>by</span> <span class='ignore'>the</span> <span class='ignore'>Working</span> <span class='ignore'>Buffer</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>f</span> <span class='ignore'>&amp;</span><span class='ignore'>&amp;</span> <span class='ignore'>Reads</span> <span class='ignore'>`</span><span class='ignore'>`</span><span class='ignore'>Buffer.csv</span><span class='ignore'>'</span><span class='ignore'>'</span> <span class='ignore'>as</span> <span class='ignore'>a</span> <span class='ignore'>2D</span> <span class='ignore'>Array</span> <span class='ignore'>of</span> <span class='ignore'>FFT</span><span class='exclcommand'>\_SIZE</span> <span class='ignore'>by</span> <span class='ignore'>FFT</span><span class='exclcommand'>\_SIZE</span><span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>g</span> <span class='ignore'>&amp;</span><span class='ignore'>&amp;</span> <span class='ignore'>Saves</span> <span class='ignore'>the</span> <span class='ignore'>Complex</span> <span class='ignore'>Buffer</span> <span class='ignore'>to</span> <span class='ignore'>`</span><span class='ignore'>`</span><span class='ignore'>Buffer</span><span class='exclcommand'>\_Complex</span><span class='ignore'>.</span><span class='ignore'>csv</span><span class='ignore'>'</span><span class='ignore'>'</span> <span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>k</span> <span class='ignore'>&amp;</span><span class='ignore'>&amp;</span> <span class='ignore'>Prints</span> <span class='ignore'>the</span> <span class='ignore'>Complex</span> <span class='ignore'>Buffer</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>m</span> <span class='ignore'>&amp;</span><span class='ignore'>&amp;</span> <span class='ignore'>Computes</span> <span class='ignore'>the</span> <span class='ignore'>Magnitude</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>1D</span> <span class='ignore'>FFT</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>Working</span> <span class='ignore'>Buffer</span> <span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>M</span> <span class='ignore'>F</span> <span class='ignore'>&amp;</span><span class='ignore'>(</span><span class='ignore'>int</span><span class='ignore'>)</span> <span class='ignore'>&amp;</span> <span class='ignore'>Drive</span> <span class='ignore'>Robot</span> <span class='ignore'>forward</span> <span class='ignore'>by</span> <span class='ignore'>(</span><span class='ignore'>int</span><span class='ignore'>)</span> <span class='ignore'>millimetres</span> <span class='ignore'>(</span><span class='ignore'>negative</span> <span class='ignore'>number</span> <span class='ignore'>for</span> <span class='ignore'>reverse</span><span class='ignore'>)</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>M</span> <span class='ignore'>L</span> <span class='ignore'>&amp;</span><span class='ignore'>&amp;</span> <span class='ignore'>Dive</span> <span class='ignore'>Left</span> <span class='ignore'>Wheel</span> <span class='ignore'>Forward</span> <span class='ignore'>a</span> <span class='ignore'>full</span> <span class='ignore'>rotation</span> <span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>M</span> <span class='ignore'>q</span> <span class='ignore'>&amp;</span><span class='ignore'>&amp;</span> <span class='ignore'>Resets</span> <span class='ignore'>Motors</span> <span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>M</span> <span class='ignore'>R</span> <span class='ignore'>&amp;</span><span class='ignore'>&amp;</span> <span class='ignore'>Drive</span> <span class='ignore'>Right</span> <span class='ignore'>Wheel</span> <span class='ignore'>Forward</span> <span class='ignore'>a</span> <span class='ignore'>full</span> <span class='ignore'>rotation</span> <span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>M</span> <span class='ignore'>T</span> <span class='ignore'>&amp;</span><span class='ignore'>(</span><span class='ignore'>int</span><span class='ignore'>)</span> <span class='ignore'>&amp;</span> <span class='ignore'>Rotate</span> <span class='ignore'>Robot</span> <span class='ignore'>by</span> <span class='ignore'>(</span><span class='ignore'>int</span><span class='ignore'>)</span> <span class='ignore'>degrees</span> <span class='ignore'>(</span><span class='ignore'>positive</span> <span class='ignore'>turns</span> <span class='ignore'>Clockwise</span><span class='ignore'>)</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>o</span> <span class='ignore'>&amp;</span><span class='ignore'>&amp;</span> <span class='ignore'>Displays</span> <span class='ignore'>the</span> <span class='ignore'>fixed</span> <span class='ignore'>point</span> <span class='ignore'>value</span> <span class='ignore'>for</span> <span class='ignore'>(</span><span class='ignore'>int</span><span class='ignore'>)</span><span class='ignore'>1</span> <span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>P</span> <span class='ignore'>&amp;</span><span class='ignore'>&amp;</span> <span class='ignore'>Takes</span> <span class='ignore'>and</span> <span class='ignore'>stores</span> <span class='ignore'>Stereo</span> <span class='ignore'>Photos</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>r</span> <span class='ignore'>&amp;</span><span class='ignore'>&amp;</span> <span class='ignore'>displays</span> <span class='ignore'>the</span> <span class='ignore'>contents</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>working</span> <span class='ignore'>buffer</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>R</span> <span class='ignore'>&amp;</span><span class='ignore'>&amp;</span> <span class='ignore'>Reads</span> <span class='ignore'>contents</span> <span class='ignore'>of</span> <span class='ignore'>`</span><span class='ignore'>`</span><span class='ignore'>signal.bin</span><span class='ignore'>'</span><span class='ignore'>'</span><span class='ignore'>,</span> <span class='ignore'>representing</span> <span class='ignore'>1D</span> <span class='ignore'>Signal</span><span class='ignore'>.</span> <span class='ignore'>Integers</span><span class='ignore'>,</span> <span class='ignore'>Big</span> <span class='ignore'>Endian</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>T</span> <span class='ignore'>&amp;</span><span class='ignore'>&amp;</span> <span class='ignore'>Reads</span> <span class='ignore'>contents</span> <span class='ignore'>of</span> <span class='ignore'>`</span><span class='ignore'>`</span><span class='ignore'>signal2d.bin</span><span class='ignore'>'</span><span class='ignore'>'</span><span class='ignore'>,</span> <span class='ignore'>representing</span> <span class='ignore'>2D</span> <span class='ignore'>Signal</span><span class='ignore'>.</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>s</span> <span class='ignore'>&amp;</span><span class='ignore'>&amp;</span> <span class='ignore'>saves</span> <span class='ignore'>the</span> <span class='ignore'>working</span> <span class='ignore'>buffer</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>S</span> <span class='ignore'>&amp;</span><span class='ignore'>&amp;</span> <span class='ignore'>Saves</span> <span class='ignore'>the</span> <span class='ignore'>image</span> <span class='ignore'>in</span> <span class='ignore'>memory</span> <span class='ignore'>to</span> <span class='ignore'>a</span> <span class='ignore'>Bitmaps</span> <span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>v</span> <span class='ignore'>&amp;</span><span class='ignore'>&amp;</span> <span class='ignore'>Prints</span> <span class='ignore'>the</span> <span class='ignore'>status</span> <span class='ignore'>variables</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>1</span> <span class='ignore'>&amp;</span><span class='ignore'>&amp;</span> <span class='ignore'>computes</span> <span class='ignore'>the</span> <span class='ignore'>One</span> <span class='ignore'>Dimensional</span> <span class='ignore'>FFT</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>working</span> <span class='ignore'>buffer</span><span class='ignore'>.</span> <span class='ignore'>Returns</span> <span class='ignore'>magnitude</span><span class='ignore'>.</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>2</span> <span class='ignore'>&amp;</span><span class='ignore'>&amp;</span> <span class='ignore'>Computes</span> <span class='ignore'>the</span> <span class='ignore'>Magnitude</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>Two</span> <span class='ignore'>Dimensional</span> <span class='ignore'>FFT</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>Working</span> <span class='ignore'>Buffer</span><span class='ignore'>.</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>3</span> <span class='ignore'>&amp;</span><span class='ignore'>&amp;</span> <span class='ignore'>Computes</span> <span class='ignore'>the</span> <span class='ignore'>Complex</span> <span class='ignore'>2D</span> <span class='ignore'>FFT</span> <span class='ignore'>of</span> <span class='ignore'>the</span> <span class='ignore'>working</span> <span class='ignore'>buffer</span> <span class='ignore'>and</span> <span class='ignore'>stores</span> <span class='ignore'>it</span> <span class='ignore'>in</span> <span class='ignore'>the</span> <span class='ignore'>Complex</span> <span class='ignore'>Buffer</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\bottomrule</span><br>
<span class='exclgroup'>\end</span><span class='exclgroup'>{tabular}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{table}</span><br>
<br>
<span class='grouping'>\begin</span><span class='grouping'>{table}</span><br>
<span class='exclcommand'>\centering</span><br>
<span class='command'>\caption</span><span class='ignore'>{</span><span class='word3'>Table</span> <span class='word3'>show</span> <span class='word3'>the</span> <span class='word3'>meaning</span> <span class='word3'>of</span> <span class='word3'>the</span> <span class='word3'>LED</span> <span class='word3'>lights</span><span class='ignore'>.</span> <span class='word3'>F</span> <span class='ignore'>-</span> <span class='word3'>Flashing</span><span class='ignore'>,</span> <span class='word3'>X</span> <span class='ignore'>-</span> <span class='word3'>Don't</span> <span class='word3'>Care</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\label</span><span class='ignore'>{</span><span class='ignore'>table</span><span class='ignore'>:</span><span class='ignore'>LEDs</span><span class='ignore'>}</span><br>
<span class='exclgroup'>\begin</span><span class='exclgroup'>{tabular}</span><span class='ignore'>{ccccccc}</span><span class='exclcommand'>\toprule</span><br>
<span class='ignore'>\multicolumn{6}{c}</span><span class='ignore'>{</span><span class='exclcommand'>\textbf</span><span class='ignore'>{LED}</span><span class='ignore'>}</span>&nbsp; &nbsp; &nbsp; 	<span class='ignore'>&amp;</span> <span class='exclcommand'>\textbf</span><span class='ignore'>{Meaning}</span><span class='exclcommand'>\\</span> <span class='exclcommand'>\cmidrule</span><span class='ignore'>{</span><span class='ignore'>1-6</span><span class='ignore'>}</span><br>
<span class='exclcommand'>\textbf</span><span class='ignore'>{MOTOR}</span>&nbsp; <span class='ignore'>&amp;</span> <span class='exclcommand'>\textbf</span><span class='ignore'>{2}</span>&nbsp; <span class='ignore'>&amp;</span> <span class='exclcommand'>\textbf</span><span class='ignore'>{3}</span>&nbsp; <span class='ignore'>&amp;</span> <span class='exclcommand'>\textbf</span><span class='ignore'>{4}</span>&nbsp; <span class='ignore'>&amp;</span> <span class='exclcommand'>\textbf</span><span class='ignore'>{5}</span>&nbsp; <span class='ignore'>&amp;</span> <span class='exclcommand'>\textbf</span><span class='ignore'>{6}</span>&nbsp; <span class='ignore'>&amp;</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\toprule</span><br>
<span class='ignore'>Off</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>Off</span>	<span class='ignore'>&amp;</span> <span class='ignore'>Off</span>	<span class='ignore'>&amp;</span> <span class='ignore'>Off</span>	<span class='ignore'>&amp;</span> <span class='ignore'>Off</span>	<span class='ignore'>&amp;</span> <span class='ignore'>Off</span>	<span class='ignore'>&amp;</span> <span class='ignore'>System</span> <span class='ignore'>Initialising</span> <span class='exclcommand'>\\</span> <span class='exclcommand'>\midrule</span><br>
<span class='ignore'>On</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>Robot</span> <span class='ignore'>moving</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>Off</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>Robot</span> <span class='ignore'>not</span> <span class='ignore'>moving</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>On</span>	<span class='ignore'>&amp;</span> <span class='ignore'>On</span>	<span class='ignore'>&amp;</span> <span class='ignore'>On</span>	<span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>System</span> <span class='ignore'>in</span> <span class='ignore'>Debug</span> <span class='ignore'>Mode</span> <span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>On</span>	<span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>Left</span> <span class='ignore'>Wheel</span> <span class='ignore'>on</span> <span class='ignore'>a</span> <span class='ignore'>`</span><span class='ignore'>Tab</span><span class='ignore'>'</span>	<span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>Off</span>	<span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>Left</span> <span class='ignore'>Wheel</span> <span class='ignore'>not</span> <span class='ignore'>on</span> <span class='ignore'>a</span> <span class='ignore'>`</span><span class='ignore'>Tab</span><span class='ignore'>'</span>	<span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>On</span>	<span class='ignore'>&amp;</span> <span class='ignore'>Right</span> <span class='ignore'>Wheel</span> <span class='ignore'>on</span> <span class='ignore'>a</span> <span class='ignore'>`</span><span class='ignore'>Tab</span><span class='ignore'>'</span>	<span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>Off</span>	<span class='ignore'>&amp;</span> <span class='ignore'>Right</span> <span class='ignore'>Wheel</span> <span class='ignore'>not</span> <span class='ignore'>on</span> <span class='ignore'>a</span> <span class='ignore'>`</span><span class='ignore'>Tab</span><span class='ignore'>'</span>	<span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>Off</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>On</span>	<span class='ignore'>&amp;</span> <span class='ignore'>Off</span>	<span class='ignore'>&amp;</span> <span class='ignore'>Off</span>	<span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>Auto</span> <span class='ignore'>Run</span> <span class='ignore'>Mode</span> <span class='ignore'>-</span> <span class='ignore'>Robot</span> <span class='ignore'>taking</span> <span class='ignore'>photos</span>	<span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>On</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>Off</span>	<span class='ignore'>&amp;</span> <span class='ignore'>On</span>	<span class='ignore'>&amp;</span> <span class='ignore'>Off</span>	<span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>Auto</span> <span class='ignore'>Run</span> <span class='ignore'>Mode</span> <span class='ignore'>-</span> <span class='ignore'>Robot</span> <span class='ignore'>rotating</span>	<span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>On</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>Off</span>	<span class='ignore'>&amp;</span> <span class='ignore'>Off</span>	<span class='ignore'>&amp;</span> <span class='ignore'>On</span>	<span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>Auto</span> <span class='ignore'>Run</span> <span class='ignore'>Mode</span> <span class='ignore'>-</span> <span class='ignore'>Robot</span> <span class='ignore'>moving</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>Off</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>F</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>Off</span>	<span class='ignore'>&amp;</span> <span class='ignore'>Off</span>	<span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>System</span> <span class='ignore'>Error</span> <span class='ignore'>-</span> <span class='ignore'>Generic</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>Off</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>F</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>F</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>System</span> <span class='ignore'>Error</span> <span class='ignore'>-</span> <span class='ignore'>SD</span> <span class='ignore'>Card</span> <span class='ignore'>Error</span><span class='exclcommand'>\\</span><span class='exclcommand'>\midrule</span><br>
<span class='ignore'>Off</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>F</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>F</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>X</span>&nbsp; <span class='ignore'>&amp;</span> <span class='ignore'>System</span> <span class='ignore'>Error</span> <span class='ignore'>-</span> <span class='ignore'>Camera</span> <span class='ignore'>Error</span><span class='exclcommand'>\\</span> <span class='exclcommand'>\bottomrule</span><br>
<span class='exclgroup'>\end</span><span class='exclgroup'>{tabular}</span><br>
<span class='grouping'>\end</span><span class='grouping'>{table}</span><br>
</p></div>
<div class='count'>
<ul class='count'>
<li class='header'>Included file: Conclusions.tex</li>
<li>Encoding: ascii</li>
<li>Words in text: 737</li>
<li>Words in headers: 8</li>
<li>Words in float captions: 29</li>
<li>Number of headers: 2</li>
<li>Number of floats: 4</li>
<li>Number of math inlines: 7</li>
<li>Number of math displayed: 0</li>
<li>Subcounts:</li>
<span class='subcount'>
<li class='fielddesc'>&nbsp; text+headers+captions (#headers/#floats/#inlines/#displayed)</li>
  <li>480+4+0 (1/0/5/0) Chapter: Conclusions and Further Work} \label{Chapter: Conclusions</li>
  <li>257+4+29 (1/4/2/0) Section: System Operation and Performance</li>
</span>
</ul>
</div>
<h2>Sum of files: Report.tex</h2>
<div class='sumcount'>
<ul class='count'>
<li class='header'>File(s) total: Report.tex</li>
<li>Words in text: 9882</li>
<li>Words in headers: 155</li>
<li>Words in float captions: 646</li>
<li>Number of headers: 66</li>
<li>Number of floats: 56</li>
<li>Number of math inlines: 89</li>
<li>Number of math displayed: 23</li>
<li>Files: 6</li>
<li>Subcounts:</li>
<span class='subcount'>
<li class='fielddesc'>&nbsp; text+headers+captions (#headers/#floats/#inlines/#displayed)</li>
  <li>1+0+0 (0/0/0/0) File: Report.tex</li>
  <li>498+3+25 (2/3/0/0) Included file: Introduction.tex</li>
  <li>539+9+28 (6/1/0/0) Included file: Research.tex</li>
  <li>5440+73+236 (34/24/18/5) Included file: HardwareDevelopment.tex</li>
  <li>2667+62+328 (22/24/64/18) Included file: InvestigationVision.tex</li>
  <li>737+8+29 (2/4/7/0) Included file: Conclusions.tex</li>
</span>
</ul>
</div>
</div>

</body>

</html>
