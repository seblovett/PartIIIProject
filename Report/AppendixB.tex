%% ----------------------------------------------------------------
%% AppendixB.tex
%% ---------------------------------------------------------------- 
\chapter{Bitmap File Format} \label{Chapter:AppendixB:BMPFile}
\section{Bitmap File Format}
\begin{center}
\begin{longtable}{|p{2.5cm}|p{2.5cm}|p{4cm}|p{2cm}|p{2cm}|}
\caption[Feasible triples for a highly variable Grid]{Feasible triples for 
highly variable Grid, MLMMH.} \label{grid_mlmmh} \\

\hline Section	&	Field	&	Description					& Size (Bytes)	& Value (hex)\\ \hline
\endfirsthead

\multicolumn{3}{c}%
{{ \tablename\ \thetable{} -- continued from previous page}} \\
\hline Section	&	Field	&	Description					& Size (Bytes)	& Value (hex)\\ \hline 
\endhead

\hline \multicolumn{5}{|r|}{{Continued on next page}} \\ \hline
\endfoot

\hline \hline
\endlastfoot

Bitmap Header& Signature&	Declares the file is a Bitamp Image		& 2			& 424D\\
		&	File Size&	Size of the whole file including headers	& 4			& 36580200 (153654)\footnote{This is different to the 225kB said in Table \ref{ImageFormats} due to ommitting many optional fields} \\ 
		&	Reserved&							&	 4	& 00000000 \\
		& 	Offset to Pixel Array & The address of the start of the pixel data from the beginning of the file & 4 & 36000000 \\
\hline
DIB (Device Independant Bitmap) Header & Size & Size of the DIB Header (dictates the version) & 4	&	7C000000 \\
	& 	Width	& Width of the image (320 pixels) & 4 	&	40010000 \\
	& 	Height	& Height of the image (240 pixels)	& 	4	& F0000000 \\
	& 	Planes	& Number of colour planes		& 2 & 0100 \\
	&	Bit Count & Number of bits per pixel & 2 & 1000 \\
	& 	Compression & Compression Being Used, RGB Bit Fields & 4 & 03 00 00 00 \\
	&	Image Size & Size of the image & 4 & 00 86 25 00 \\
	& 	X Resolution 	& Horizontal resolution in pixels per metre & 4 & 13 0B 00 00 \\
	& 	Y Resolution 	& Vertical resolution in pixels per metre & 4 & 13 0B 00 00 \\
	& 	Colours in Table & Number of colours in the colour table (not used) & 4 &  00 00 00 00\\
	&	Important Colours & 	Number of Important Colours (0 means all colours are important) & 4 & 00 00 00 00 \\
	& 	Red Mask 		& Bit mask of Red field 	& 4 & 00 F8 00 00 \\
	& 	Green Mask 		& Bit mask of Green field 	& 4 & E0 07 00 00 \\
	& 	Blue Mask 		& Bit mask of Blue field 	& 4 & 1F 00 00 00 \\
	& 	Alpha Mask 		& Bit mask of Alpha field 	& 4 & 00 00 00 00 \\
	& 	Colour Space Type & Colour Space of the DIB & 4 & 01 00 00 00 \\
	&	Colour Space Endpoints & Sets endpoints for colours within the bitmap (not used) &	36	& Whole Field = 0 \\
	& 	Gamma Red	&	Gamma Value of Red Field (not used) & 4 & 00 00 00 00 \\
	& 	Gamma Green&	Gamma Value of Green Field (not used) & 4 & 00 00 00 00 \\
	& 	Gamma Blue	&	Gamma Value of Blue Field (not used) & 4 & 00 00 00 00 \\
	&	Intent 	& 	Enum dictating the intent of the image (Picture) & 4 & 03 00 00 00 \\
	& 	ICC Profile Data & 	Offset from the file start to the ICC Colour Profile (Not Used) & 4 &  00 00 00 00 \\
	& ICC Profile Size & Size of the ICC Colour Profile (not used)	& 4 & 00 00 00 00 \\
	& Reserved & & 4 & 00 00 00 00 \\
\hline
Image Data Format & Each field contains all the pixel data& Padding is used to make the table width a multiple of 4 (Not always needed) & &\\
 Pix[0, h-1] 	& Pix[1, h-1] 	& \dots & Pix[w-1, h-1] & Padding \\
\vdots & \vdots & \vdots & \vdots & \vdots \\
 Pix[0, 1] 	& Pix[1, 1] 	& \dots & Pix[w-1, 1] & Padding \\
 Pix[0, 0] 	& Pix[1, 0] 	& \dots & Pix[w-1, 0] & Padding 
\end{longtable}
\end{center}